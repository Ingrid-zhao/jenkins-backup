Started by user [8mha:////4C8zTO/v0UlG+vQ5Fjm5jTf9kR93yL5yxTMP2X04T9v8AAAAlh+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAyWEgYu/dLi1CL9ovz8EgDKVWzSvwAAAA==[0mroot
Running in Durability level: MAX_SURVIVABILITY
[8mha:////4DOlrZhma2TKYqx8mtRBwGXVE8Xt4z3OJyo/zi+ICDdzAAAAoh+LCAAAAAAAAP9tjTEOwjAQBM8BClpKHuFItIiK1krDC0x8GCfWnbEdkooX8TX+gCESFVvtrLSa5wtWKcKBo5UdUu8otU4GP9jS5Mixv3geZcdn2TIl9igbHBs2eJyx4YwwR1SwULBGaj0nRzbDRnX6rmuvydanHMu2V1A5c4MHCFXMWcf8hSnC9jqYxPTz/BXAFEIGsfuclm8zQVqFvQAAAA==[0m[Pipeline] Start of Pipeline
[8mha:////4B4K7nOhvaaLmbeE3w0NEhE1GAALwLDjakw9plXgkY6XAAAApR+LCAAAAAAAAP9tjTEOwjAUQ3+KOrAycohUghExsUZZOEFIQkgb/d8mKe3EibgadyBQiQlLlmxL1nu+oE4RjhQdby12HpP2vA+jK4lPFLtroIm3dOGaMFGwXNpJkrGnpUrKFhaxClYC1hZ1oOTRZdiIVt1VExS65pxj2Q4CKm8GeAAThZxVzN8yR9jeRpMIf5y/AJj7DGxXvP/86jduZBmjwAAAAA==[0m[Pipeline] node
Running on [8mha:////4GiJsi7Mya/6bg7lYfwMQTzNVpzT54TxwGFsrEp/EcRtAAAAoh+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAyeEgZx/eT83ILSktQi/eTKAkMD3aLUXKBKfQCdwg2/zAAAAA==[0mcyp10-remote in /root/.jenkins/workspace/test-nic@2
[8mha:////4NUxBMzN6CtFAbQ4pdo7pH8ZuwVHigLf0SdP3FcjQTwyAAAApR+LCAAAAAAAAP9tjTEOwjAUQ3+KOrAycoh0gA0xsUZZOEFIQkgb/d8mKe3EibgadyBQiQlLlmxL1nu+oE4RjhQdby12HpP2vA+jK4lPFLtroIm3dOGaMFGwXNpJkrGnpUrKFhaxClYC1hZ1oOTRZdiIVt1VExS65pxj2Q4CKm8GeAAThZxVzN8yR9jeRpMIf5y/AJj7DGxXvP/86jfoP95RwAAAAA==[0m[Pipeline] {
[8mha:////4OCB1+Up79PmV3LnMeomKr9r+JFCKkFjAfTpr2UorbLOAAAApR+LCAAAAAAAAP9tjTEOwjAUQ3+KOrAycoh0gQkxsUZZOEFIQkgb/d8mKe3EibgadyBQiQlLlmxL1nu+oE4RjhQdby12HpP2vA+jK4lPFLtroIm3dOGaMFGwXNpJkrGnpUrKFhaxClYC1hZ1oOTRZdiIVt1VExS65pxj2Q4CKm8GeAAThZxVzN8yR9jeRpMIf5y/AJj7DGxXvP/86jc09154wAAAAA==[0m[Pipeline] stage
[8mha:////4N6KQN35K8CT/Pcr9a+R4oOEu4uEh3phvpB1t67zd2hmAAAApR+LCAAAAAAAAP9tjTEOwjAUQ3+KOrAycoh0ggUxsUZZOEFIQkgb/d8mKe3EibgadyBQiQlLlmxL1nu+oE4RjhQdby12HpP2vA+jK4lPFLtroIm3dOGaMFGwXNpJkrGnpUrKFhaxClYC1hZ1oOTRZdiIVt1VExS65pxj2Q4CKm8GeAAThZxVzN8yR9jeRpMIf5y/AJj7DGxXvP/86jek7ggRwAAAAA==[0m[Pipeline] { (set args)
[8mha:////4KpTcsSlLG7yEvo1vGv2QG1z86HMYkLASFXVuKwhd7SZAAAAoh+LCAAAAAAAAP9tjTEOAiEURD9rLGwtPQTbaWGsbAmNJ0AWEZb8zwLrbuWJvJp3kLiJlZNMMm+a93rDOic4UbLcG+wdZu14DKOti0+U+lugiXu6ck2YKRguzSSpM+cFJRUDS1gDKwEbgzpQdmgLbIVXD9UGhba9lFS/o4DGdQM8gYlqLiqVL8wJdvexy4Q/z18BzLEA29ce4gfg7KmOvAAAAA==[0m[Pipeline] sh
+ python /root/.jenkins/workspace/test-nic/npxtester/conf/change_args.py '{"dpdk_dir":"/opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/","vm_image_conf":{"image1":"ubuntu20.04.img","image2":"ubuntu20.04_2.img","image3":"rhel84rt.img","image4":"rhel84rt2.img","image_dir":"/home/image"},"sut_conf":{"host":"10.112.97.157","connect_switch_sut_pf":"ens787f0","pf1":"ens787f0","pf1_ipv6":"fe80::b696:91ff:fe9c:f760","os":"rehat"},"dhcp":{"ipv4":"192.168.10.10","ipv6":"fe80::b696:91ff:fe9c:f762"}}'
[8mha:////4ChDQWb8Lvr0RoXQ1L8EY4p37+Po0Q8Mb8bchs8JeqDJAAAAoh+LCAAAAAAAAP9tjTEOAiEURD9rLGwtPQTbGRNjZUtoPAGyiLDkfxZYdytP5NW8g8RNrJxkknnTvNcb1jnBiZLl3mDvMGvHYxhtXXyi1N8CTdzTlWvCTMFwaSZJnTkvKKkYWMIaWAnYGNSBskNbYCu8eqg2KLTtpaT6HQU0rhvgCUxUc1GpfGFOsLuPXSb8ef4KYI6xADvU7j9Dg2gqvAAAAA==[0m[Pipeline] }
[8mha:////4J0p4zt/+On27QitkvU5TFB8M2wwWYWaAHIuYiUer4fkAAAAoh+LCAAAAAAAAP9tjTEOAiEURD9rLGwtPQRbWRhjZUtoPAGyiLDkfxZYdytP5NW8g8RNrJxkknnTvNcb1jnBiZLl3mDvMGvHYxhtXXyi1N8CTdzTlWvCTMFwaSZJnTkvKKkYWMIaWAnYGNSBskNbYCu8eqg2KLTtpaT6HQU0rhvgCUxUc1GpfGFOsLuPXSb8ef4KYI6xADvU7j9J+wGOvAAAAA==[0m[Pipeline] // stage
[8mha:////4Ea3/4ZYuTM98yMZ9UntzMXOyQ2ItSOm6XAUUO4QqkITAAAAph+LCAAAAAAAAP9tjTEOwjAQBM9BKWgpeYQDEh2iorXc8AITG+PEugv2haTiRXyNPxCIRMVWOyut5vmCMic4UPKycdgGzHWQXez91ORAqb1EGmRDZ1kTZopOajdosu44oyZ2MEcUsFCwdFhHygE9w0o15m6qaNBXJ07TtldQBHuDBwg1mdkk/sKYYH3tbSb8ef4KYOwYxI6h2G4+x/INtuQqUcEAAAA=[0m[Pipeline] stage
[8mha:////4IJd0qxfNFkcgwUT9OFke9rxaJjwCH2G9mHJ+5FMmbLfAAAApR+LCAAAAAAAAP9tjTEOwjAUQ3+DOrAycoiUzoiJNerCCUITQtLo/zZJSSdOxNW4Ay2VmPBg2Zas93pDGQOcKBjuNHYWY2t570czJ54pdDdPmTu68pYwkte80bkhpc9rbShpWFUw2AjYamw9RYsmwU44+ZCVl2iqSwrzdhTArBrgCYWYyUmG9C1TgP19VJHwx/kLgKlPwOrDYvXyLD8BobDcwgAAAA==[0m[Pipeline] { (run silver nic case)
[8mha:////4KACpsxoNqug+yeGIE2K55MD+IyPDLfbYOrean7h1Zl/AAAAox+LCAAAAAAAAP9tjTESwiAURH/iWNhaeggysXWsbBkaT4AJIoT5nwCRVJ7Iq3kH0cxYucXOvm3e8wXrGOBIQTOrcDAYO8O8m3RZLFMYro4ys3RhHWEkp5hQWVCvTgsKSgqWVDWsOGwUdo6iQZ1gy628y8ZJ1M05hfIdONSmH+EBFS/mJEP6whxgd5v6SPjz/BXA7BPUbfupvX8DpQJrNb4AAAA=[0m[Pipeline] sh
+ pytest /root/.jenkins/workspace/test-nic/npxtester/Tests/testNics/test_nics.py -m nicall -s
============================= test session starts ==============================
platform linux -- Python 3.6.8, pytest-6.2.4, py-1.11.0, pluggy-0.13.1
rootdir: /root/.jenkins/workspace/test-nic/npxtester/Tests/testNics, configfile: pytest.ini
plugins: metadata-1.11.0, html-3.1.1
collected 3 items

../test-nic/npxtester/Tests/testNics/test_nics.py 2021-11-25 10:24:02 - NicTestFixture.py - [line:28] - root - INFO - Starting to run test_silver_Networking_ConnectivityEnableDisable
2021-11-25 10:24:02 - NicTestFixture.py - [line:29] - root - INFO - setup log for testing in the fixture class fbefore
2021-11-25 10:24:02 - test_nics.py - [line:18] - root - INFO - this is Test_Nics setup.
2021-11-25 10:24:02 - transport.py - [line:1819] - paramiko.transport - INFO - Connected (version 2.0, client OpenSSH_8.0)
2021-11-25 10:24:02 - transport.py - [line:1819] - paramiko.transport - INFO - Authentication (publickey) failed.
2021-11-25 10:24:02 - transport.py - [line:1819] - paramiko.transport - INFO - Authentication (password) successful!
2021-11-25 10:24:02 - sshInstance.py - [line:28] - root - INFO - SSH on SUT: 10.112.97.157
2021-11-25 10:24:02 - test_nics.py - [line:34] - root - INFO - run silver_Networking_ConnectivityEnableDisable
2021-11-25 10:24:06 - sshInstance.py - [line:69] - root - INFO - Activate the web console with: systemctl enable --now cockpit.socket

This system is not registered to Red Hat Insights. See https://cloud.redhat.com/
To register this system, run: insights-client --register

Last login: Thu Nov 25 10:12:21 2021 from 10.239.129.147
[root@WW30CYP10 ~]# ping -c 5 192.168.10.10
PING 192.168.10.10 (192.168.10.10) 56(84) bytes of data.
64 bytes from 192.168.10.10: icmp_seq=1 ttl=64 time=0.038 ms
2021-11-25 10:24:07 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=2 ttl=64 time=0.012 ms
2021-11-25 10:24:08 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=3 ttl=64 time=0.009 ms
2021-11-25 10:24:09 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=4 ttl=64 time=0.008 ms
2021-11-25 10:24:10 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=5 ttl=64 time=0.008 ms

--- 192.168.10.10 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4088ms
rtt min/avg/max/mdev = 0.008/0.015/0.038/0.011 ms
[root@WW30CYP10 ~]# 
2021-11-25 10:24:18 - sshInstance.py - [line:89] - root - INFO - ifconfig ens787f0 down
[root@WW30CYP10 ~]# 
2021-11-25 10:24:26 - sshInstance.py - [line:89] - root - INFO - ifconfig ens787f0 up
[root@WW30CYP10 ~]# 
2021-11-25 10:24:33 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.10.10
PING 192.168.10.10 (192.168.10.10) 56(84) bytes of data.
64 bytes from 192.168.10.10: icmp_seq=1 ttl=64 time=0.034 ms
2021-11-25 10:24:34 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=2 ttl=64 time=0.011 ms
2021-11-25 10:24:35 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=3 ttl=64 time=0.008 ms
2021-11-25 10:24:36 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=4 ttl=64 time=0.008 ms
2021-11-25 10:24:37 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=5 ttl=64 time=0.008 ms

--- 192.168.10.10 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4130ms
rtt min/avg/max/mdev = 0.008/0.013/0.034/0.011 ms
[root@WW30CYP10 ~]# 
2021-11-25 10:24:45 - sshInstance.py - [line:89] - root - INFO - ifconfig ens787f0 down
[root@WW30CYP10 ~]# 
2021-11-25 10:24:53 - sshInstance.py - [line:89] - root - INFO - ifconfig ens787f0 up
[root@WW30CYP10 ~]# 
2021-11-25 10:25:00 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.10.10
PING 192.168.10.10 (192.168.10.10) 56(84) bytes of data.
64 bytes from 192.168.10.10: icmp_seq=1 ttl=64 time=0.044 ms
2021-11-25 10:25:01 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=2 ttl=64 time=0.010 ms
2021-11-25 10:25:02 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=3 ttl=64 time=0.017 ms
2021-11-25 10:25:03 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=4 ttl=64 time=0.012 ms
2021-11-25 10:25:04 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=5 ttl=64 time=0.008 ms

--- 192.168.10.10 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4108ms
rtt min/avg/max/mdev = 0.008/0.018/0.044/0.013 ms
[root@WW30CYP10 ~]# 
2021-11-25 10:25:12 - sshInstance.py - [line:89] - root - INFO - ifconfig ens787f0 down
[root@WW30CYP10 ~]# 
2021-11-25 10:25:20 - sshInstance.py - [line:89] - root - INFO - ifconfig ens787f0 up
[root@WW30CYP10 ~]# 
2021-11-25 10:25:27 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.10.10
PING 192.168.10.10 (192.168.10.10) 56(84) bytes of data.
64 bytes from 192.168.10.10: icmp_seq=1 ttl=64 time=0.035 ms
2021-11-25 10:25:28 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=2 ttl=64 time=0.019 ms
2021-11-25 10:25:29 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=3 ttl=64 time=0.011 ms
2021-11-25 10:25:30 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=4 ttl=64 time=0.008 ms
2021-11-25 10:25:31 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=5 ttl=64 time=0.007 ms

--- 192.168.10.10 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4085ms
rtt min/avg/max/mdev = 0.007/0.016/0.035/0.010 ms
[root@WW30CYP10 ~]# 
2021-11-25 10:25:39 - sshInstance.py - [line:89] - root - INFO - ifconfig ens787f0 down
[root@WW30CYP10 ~]# 
2021-11-25 10:25:47 - sshInstance.py - [line:89] - root - INFO - ifconfig ens787f0 up
[root@WW30CYP10 ~]# 
2021-11-25 10:25:54 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.10.10
PING 192.168.10.10 (192.168.10.10) 56(84) bytes of data.
64 bytes from 192.168.10.10: icmp_seq=1 ttl=64 time=0.031 ms
2021-11-25 10:25:55 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=2 ttl=64 time=0.009 ms
2021-11-25 10:25:56 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=3 ttl=64 time=0.018 ms
2021-11-25 10:25:57 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=4 ttl=64 time=0.015 ms
2021-11-25 10:25:58 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=5 ttl=64 time=0.009 ms

--- 192.168.10.10 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4126ms
rtt min/avg/max/mdev = 0.009/0.016/0.031/0.008 ms
[root@WW30CYP10 ~]# 
2021-11-25 10:26:06 - sshInstance.py - [line:89] - root - INFO - ifconfig ens787f0 down
[root@WW30CYP10 ~]# 
2021-11-25 10:26:14 - sshInstance.py - [line:89] - root - INFO - ifconfig ens787f0 up
[root@WW30CYP10 ~]# 
2021-11-25 10:26:21 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.10.10
PING 192.168.10.10 (192.168.10.10) 56(84) bytes of data.
64 bytes from 192.168.10.10: icmp_seq=1 ttl=64 time=0.032 ms
2021-11-25 10:26:22 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=2 ttl=64 time=0.010 ms
2021-11-25 10:26:23 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=3 ttl=64 time=0.012 ms
2021-11-25 10:26:24 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=4 ttl=64 time=0.009 ms
2021-11-25 10:26:25 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=5 ttl=64 time=0.008 ms

--- 192.168.10.10 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4103ms
rtt min/avg/max/mdev = 0.008/0.014/0.032/0.009 ms
[root@WW30CYP10 ~]# 
.2021-11-25 10:26:28 - sshInstance.py - [line:39] - root - INFO - closing ssh client on SUT
2021-11-25 10:26:28 - test_nics.py - [line:28] - root - INFO - this is Test_Nics teardown
2021-11-25 10:26:28 - NicTestFixture.py - [line:28] - root - INFO - Starting to run test_silver_ConnectivityReboot
2021-11-25 10:26:28 - NicTestFixture.py - [line:29] - root - INFO - setup log for testing in the fixture class fbefore
2021-11-25 10:26:28 - test_nics.py - [line:18] - root - INFO - this is Test_Nics setup.
2021-11-25 10:26:28 - transport.py - [line:1819] - paramiko.transport - INFO - Connected (version 2.0, client OpenSSH_8.0)
2021-11-25 10:26:28 - transport.py - [line:1819] - paramiko.transport - INFO - Authentication (publickey) failed.
2021-11-25 10:26:28 - transport.py - [line:1819] - paramiko.transport - INFO - Authentication (password) successful!
2021-11-25 10:26:28 - sshInstance.py - [line:28] - root - INFO - SSH on SUT: 10.112.97.157
2021-11-25 10:26:28 - test_nics.py - [line:56] - root - INFO - run silver_ConnectivityReboot
2021-11-25 10:26:28 - transport.py - [line:1819] - paramiko.transport - INFO - Connected (version 2.0, client OpenSSH_8.0)
2021-11-25 10:26:29 - transport.py - [line:1819] - paramiko.transport - INFO - Authentication (publickey) failed.
2021-11-25 10:26:29 - transport.py - [line:1819] - paramiko.transport - INFO - Authentication (password) successful!
2021-11-25 10:26:29 - sshInstance.py - [line:28] - root - INFO - SSH on SUT: 10.112.97.157
2021-11-25 10:26:33 - sshInstance.py - [line:69] - root - INFO - Activate the web console with: systemctl enable --now cockpit.socket

This system is not registered to Red Hat Insights. See https://cloud.redhat.com/
To register this system, run: insights-client --register

Last login: Thu Nov 25 10:26:40 2021 from 10.239.129.147
[root@WW30CYP10 ~]# ping -c 5 192.168.10.10
PING 192.168.10.10 (192.168.10.10) 56(84) bytes of data.
64 bytes from 192.168.10.10: icmp_seq=1 ttl=64 time=0.031 ms
2021-11-25 10:26:34 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=2 ttl=64 time=0.011 ms
2021-11-25 10:26:35 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=3 ttl=64 time=0.008 ms
2021-11-25 10:26:36 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=4 ttl=64 time=0.008 ms
2021-11-25 10:26:37 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=5 ttl=64 time=0.014 ms

--- 192.168.10.10 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4135ms
rtt min/avg/max/mdev = 0.008/0.014/0.031/0.009 ms
[root@WW30CYP10 ~]# 
2021-11-25 10:26:44 - sshInstance.py - [line:69] - root - INFO - ping6 -c 5 -I ens787f0 fe80::b696:91ff:fe9c:f762
ping6: Warning: source address might be selected on device other than ens787f0.
PING fe80::b696:91ff:fe9c:f762(fe80::b696:91ff:fe9c:f762) from :: ens787f0: 56 data bytes
64 bytes from fe80::b696:91ff:fe9c:f762%ens787f0: icmp_seq=1 ttl=64 time=0.193 ms
2021-11-25 10:26:45 - sshInstance.py - [line:69] - root - INFO - 64 bytes from fe80::b696:91ff:fe9c:f762%ens787f0: icmp_seq=2 ttl=64 time=0.033 ms
2021-11-25 10:26:46 - sshInstance.py - [line:69] - root - INFO - 64 bytes from fe80::b696:91ff:fe9c:f762%ens787f0: icmp_seq=3 ttl=64 time=0.039 ms
2021-11-25 10:26:47 - sshInstance.py - [line:69] - root - INFO - 64 bytes from fe80::b696:91ff:fe9c:f762%ens787f0: icmp_seq=4 ttl=64 time=0.029 ms
2021-11-25 10:26:48 - sshInstance.py - [line:69] - root - INFO - 64 bytes from fe80::b696:91ff:fe9c:f762%ens787f0: icmp_seq=5 ttl=64 time=0.027 ms

--- fe80::b696:91ff:fe9c:f762 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4131ms
rtt min/avg/max/mdev = 0.027/0.064/0.193/0.064 ms
[root@WW30CYP10 ~]# 
2021-11-25 10:26:51 - transport.py - [line:1819] - paramiko.transport - INFO - Connected (version 2.0, client OpenSSH_8.0)
2021-11-25 10:26:51 - transport.py - [line:1819] - paramiko.transport - INFO - Authentication (publickey) failed.
2021-11-25 10:26:51 - transport.py - [line:1819] - paramiko.transport - INFO - Authentication (password) successful!
2021-11-25 10:26:51 - sshInstance.py - [line:28] - root - INFO - SSH on SUT: 10.112.97.157
2021-11-25 10:26:55 - sshInstance.py - [line:69] - root - INFO - Activate the web console with: systemctl enable --now cockpit.socket

This system is not registered to Red Hat Insights. See https://cloud.redhat.com/
To register this system, run: insights-client --register

Last login: Thu Nov 25 10:26:40 2021 from 10.239.129.147
[root@WW30CYP10 ~]# ping -c 5 192.168.10.10
PING 192.168.10.10 (192.168.10.10) 56(84) bytes of data.
64 bytes from 192.168.10.10: icmp_seq=1 ttl=64 time=0.039 ms
2021-11-25 10:26:56 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=2 ttl=64 time=0.018 ms
2021-11-25 10:26:57 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=3 ttl=64 time=0.014 ms
2021-11-25 10:26:58 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=4 ttl=64 time=0.008 ms
2021-11-25 10:26:59 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=5 ttl=64 time=0.008 ms

--- 192.168.10.10 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4082ms
rtt min/avg/max/mdev = 0.008/0.017/0.039/0.012 ms
[root@WW30CYP10 ~]# 
2021-11-25 10:27:06 - sshInstance.py - [line:69] - root - INFO - ping6 -c 5 -I ens787f0 fe80::b696:91ff:fe9c:f762
ping6: Warning: source address might be selected on device other than ens787f0.
PING fe80::b696:91ff:fe9c:f762(fe80::b696:91ff:fe9c:f762) from :: ens787f0: 56 data bytes
64 bytes from fe80::b696:91ff:fe9c:f762%ens787f0: icmp_seq=1 ttl=64 time=0.060 ms
2021-11-25 10:27:07 - sshInstance.py - [line:69] - root - INFO - 64 bytes from fe80::b696:91ff:fe9c:f762%ens787f0: icmp_seq=2 ttl=64 time=0.031 ms
2021-11-25 10:27:08 - sshInstance.py - [line:69] - root - INFO - 64 bytes from fe80::b696:91ff:fe9c:f762%ens787f0: icmp_seq=3 ttl=64 time=0.042 ms
2021-11-25 10:27:09 - sshInstance.py - [line:69] - root - INFO - 64 bytes from fe80::b696:91ff:fe9c:f762%ens787f0: icmp_seq=4 ttl=64 time=0.031 ms
2021-11-25 10:27:10 - sshInstance.py - [line:69] - root - INFO - 64 bytes from fe80::b696:91ff:fe9c:f762%ens787f0: icmp_seq=5 ttl=64 time=0.028 ms

--- fe80::b696:91ff:fe9c:f762 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4077ms
rtt min/avg/max/mdev = 0.028/0.038/0.060/0.013 ms
[root@WW30CYP10 ~]# 
2021-11-25 10:27:13 - transport.py - [line:1819] - paramiko.transport - INFO - Connected (version 2.0, client OpenSSH_8.0)
2021-11-25 10:27:13 - transport.py - [line:1819] - paramiko.transport - INFO - Authentication (publickey) failed.
2021-11-25 10:27:13 - transport.py - [line:1819] - paramiko.transport - INFO - Authentication (password) successful!
2021-11-25 10:27:13 - sshInstance.py - [line:28] - root - INFO - SSH on SUT: 10.112.97.157
2021-11-25 10:27:17 - sshInstance.py - [line:69] - root - INFO - Activate the web console with: systemctl enable --now cockpit.socket

This system is not registered to Red Hat Insights. See https://cloud.redhat.com/
To register this system, run: insights-client --register

Last login: Thu Nov 25 10:27:02 2021 from 10.239.129.147
[root@WW30CYP10 ~]# ping -c 5 192.168.10.10
PING 192.168.10.10 (192.168.10.10) 56(84) bytes of data.
64 bytes from 192.168.10.10: icmp_seq=1 ttl=64 time=0.046 ms
2021-11-25 10:27:18 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=2 ttl=64 time=0.010 ms
2021-11-25 10:27:19 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=3 ttl=64 time=0.010 ms
2021-11-25 10:27:20 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=4 ttl=64 time=0.008 ms
2021-11-25 10:27:21 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=5 ttl=64 time=0.008 ms

--- 192.168.10.10 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4093ms
rtt min/avg/max/mdev = 0.008/0.016/0.046/0.015 ms
[root@WW30CYP10 ~]# 
2021-11-25 10:27:28 - sshInstance.py - [line:69] - root - INFO - ping6 -c 5 -I ens787f0 fe80::b696:91ff:fe9c:f762
ping6: Warning: source address might be selected on device other than ens787f0.
PING fe80::b696:91ff:fe9c:f762(fe80::b696:91ff:fe9c:f762) from :: ens787f0: 56 data bytes
64 bytes from fe80::b696:91ff:fe9c:f762%ens787f0: icmp_seq=1 ttl=64 time=0.072 ms
2021-11-25 10:27:29 - sshInstance.py - [line:69] - root - INFO - 64 bytes from fe80::b696:91ff:fe9c:f762%ens787f0: icmp_seq=2 ttl=64 time=0.038 ms
2021-11-25 10:27:30 - sshInstance.py - [line:69] - root - INFO - 64 bytes from fe80::b696:91ff:fe9c:f762%ens787f0: icmp_seq=3 ttl=64 time=0.027 ms
2021-11-25 10:27:31 - sshInstance.py - [line:69] - root - INFO - 64 bytes from fe80::b696:91ff:fe9c:f762%ens787f0: icmp_seq=4 ttl=64 time=0.041 ms
2021-11-25 10:27:32 - sshInstance.py - [line:69] - root - INFO - 64 bytes from fe80::b696:91ff:fe9c:f762%ens787f0: icmp_seq=5 ttl=64 time=0.029 ms

--- fe80::b696:91ff:fe9c:f762 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4086ms
rtt min/avg/max/mdev = 0.027/0.041/0.072/0.017 ms
[root@WW30CYP10 ~]# 
2021-11-25 10:27:35 - transport.py - [line:1819] - paramiko.transport - INFO - Connected (version 2.0, client OpenSSH_8.0)
2021-11-25 10:27:35 - transport.py - [line:1819] - paramiko.transport - INFO - Authentication (publickey) failed.
2021-11-25 10:27:35 - transport.py - [line:1819] - paramiko.transport - INFO - Authentication (password) successful!
2021-11-25 10:27:35 - sshInstance.py - [line:28] - root - INFO - SSH on SUT: 10.112.97.157
2021-11-25 10:27:39 - sshInstance.py - [line:69] - root - INFO - Activate the web console with: systemctl enable --now cockpit.socket

This system is not registered to Red Hat Insights. See https://cloud.redhat.com/
To register this system, run: insights-client --register

Last login: Thu Nov 25 10:27:24 2021 from 10.239.129.147
[root@WW30CYP10 ~]# ping -c 5 192.168.10.10
PING 192.168.10.10 (192.168.10.10) 56(84) bytes of data.
64 bytes from 192.168.10.10: icmp_seq=1 ttl=64 time=0.062 ms
2021-11-25 10:27:40 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=2 ttl=64 time=0.017 ms
2021-11-25 10:27:41 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=3 ttl=64 time=0.008 ms
2021-11-25 10:27:42 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=4 ttl=64 time=0.013 ms
2021-11-25 10:27:43 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=5 ttl=64 time=0.010 ms

--- 192.168.10.10 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4104ms
rtt min/avg/max/mdev = 0.008/0.022/0.062/0.020 ms
[root@WW30CYP10 ~]# 
2021-11-25 10:27:50 - sshInstance.py - [line:69] - root - INFO - ping6 -c 5 -I ens787f0 fe80::b696:91ff:fe9c:f762
ping6: Warning: source address might be selected on device other than ens787f0.
PING fe80::b696:91ff:fe9c:f762(fe80::b696:91ff:fe9c:f762) from :: ens787f0: 56 data bytes
64 bytes from fe80::b696:91ff:fe9c:f762%ens787f0: icmp_seq=1 ttl=64 time=0.063 ms
2021-11-25 10:27:51 - sshInstance.py - [line:69] - root - INFO - 64 bytes from fe80::b696:91ff:fe9c:f762%ens787f0: icmp_seq=2 ttl=64 time=0.062 ms
2021-11-25 10:27:52 - sshInstance.py - [line:69] - root - INFO - 64 bytes from fe80::b696:91ff:fe9c:f762%ens787f0: icmp_seq=3 ttl=64 time=0.049 ms
2021-11-25 10:27:53 - sshInstance.py - [line:69] - root - INFO - 64 bytes from fe80::b696:91ff:fe9c:f762%ens787f0: icmp_seq=4 ttl=64 time=0.072 ms
2021-11-25 10:27:54 - sshInstance.py - [line:69] - root - INFO - 64 bytes from fe80::b696:91ff:fe9c:f762%ens787f0: icmp_seq=5 ttl=64 time=0.033 ms

--- fe80::b696:91ff:fe9c:f762 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4098ms
rtt min/avg/max/mdev = 0.033/0.055/0.072/0.016 ms
[root@WW30CYP10 ~]# 
2021-11-25 10:27:57 - transport.py - [line:1819] - paramiko.transport - INFO - Connected (version 2.0, client OpenSSH_8.0)
2021-11-25 10:27:57 - transport.py - [line:1819] - paramiko.transport - INFO - Authentication (publickey) failed.
2021-11-25 10:27:57 - transport.py - [line:1819] - paramiko.transport - INFO - Authentication (password) successful!
2021-11-25 10:27:57 - sshInstance.py - [line:28] - root - INFO - SSH on SUT: 10.112.97.157
2021-11-25 10:28:01 - sshInstance.py - [line:69] - root - INFO - Activate the web console with: systemctl enable --now cockpit.socket

This system is not registered to Red Hat Insights. See https://cloud.redhat.com/
To register this system, run: insights-client --register

Last login: Thu Nov 25 10:27:47 2021 from 10.239.129.147
[root@WW30CYP10 ~]# ping -c 5 192.168.10.10
PING 192.168.10.10 (192.168.10.10) 56(84) bytes of data.
64 bytes from 192.168.10.10: icmp_seq=1 ttl=64 time=0.042 ms
2021-11-25 10:28:02 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=2 ttl=64 time=0.014 ms
2021-11-25 10:28:03 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=3 ttl=64 time=0.008 ms
2021-11-25 10:28:04 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=4 ttl=64 time=0.007 ms
2021-11-25 10:28:05 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=5 ttl=64 time=0.008 ms

--- 192.168.10.10 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4114ms
rtt min/avg/max/mdev = 0.007/0.015/0.042/0.014 ms
[root@WW30CYP10 ~]# 
2021-11-25 10:28:12 - sshInstance.py - [line:69] - root - INFO - ping6 -c 5 -I ens787f0 fe80::b696:91ff:fe9c:f762
ping6: Warning: source address might be selected on device other than ens787f0.
PING fe80::b696:91ff:fe9c:f762(fe80::b696:91ff:fe9c:f762) from :: ens787f0: 56 data bytes
64 bytes from fe80::b696:91ff:fe9c:f762%ens787f0: icmp_seq=1 ttl=64 time=0.056 ms
2021-11-25 10:28:13 - sshInstance.py - [line:69] - root - INFO - 64 bytes from fe80::b696:91ff:fe9c:f762%ens787f0: icmp_seq=2 ttl=64 time=0.032 ms
2021-11-25 10:28:14 - sshInstance.py - [line:69] - root - INFO - 64 bytes from fe80::b696:91ff:fe9c:f762%ens787f0: icmp_seq=3 ttl=64 time=0.042 ms
2021-11-25 10:28:15 - sshInstance.py - [line:69] - root - INFO - 64 bytes from fe80::b696:91ff:fe9c:f762%ens787f0: icmp_seq=4 ttl=64 time=0.034 ms
2021-11-25 10:28:16 - sshInstance.py - [line:69] - root - INFO - 64 bytes from fe80::b696:91ff:fe9c:f762%ens787f0: icmp_seq=5 ttl=64 time=0.029 ms

--- fe80::b696:91ff:fe9c:f762 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4108ms
rtt min/avg/max/mdev = 0.029/0.038/0.056/0.011 ms
[root@WW30CYP10 ~]# 
.2021-11-25 10:28:19 - sshInstance.py - [line:39] - root - INFO - closing ssh client on SUT
2021-11-25 10:28:19 - test_nics.py - [line:28] - root - INFO - this is Test_Nics teardown
2021-11-25 10:28:19 - NicTestFixture.py - [line:28] - root - INFO - Starting to run test_gold_PI_Networking_SRIOV_CheckDevice
2021-11-25 10:28:19 - NicTestFixture.py - [line:29] - root - INFO - setup log for testing in the fixture class fbefore
2021-11-25 10:28:19 - test_nics.py - [line:18] - root - INFO - this is Test_Nics setup.
2021-11-25 10:28:19 - transport.py - [line:1819] - paramiko.transport - INFO - Connected (version 2.0, client OpenSSH_8.0)
2021-11-25 10:28:19 - transport.py - [line:1819] - paramiko.transport - INFO - Authentication (publickey) failed.
2021-11-25 10:28:20 - transport.py - [line:1819] - paramiko.transport - INFO - Authentication (password) successful!
2021-11-25 10:28:20 - sshInstance.py - [line:28] - root - INFO - SSH on SUT: 10.112.97.157
2021-11-25 10:28:20 - test_nics.py - [line:74] - root - INFO - run gold_PI_Networking_SRIOV_CheckDevice
2021-11-25 10:28:23 - sshInstance.py - [line:44] - root - INFO - echo 0 > /sys/class/net/ens787f0/device/sriov_numvfs
2021-11-25 10:28:24 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 10:28:33 - sshInstance.py - [line:44] - root - INFO - echo 4 > /sys/class/net/ens787f0/device/sriov_numvfs
2021-11-25 10:28:33 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 10:28:41 - sshInstance.py - [line:44] - root - INFO - ifconfig ens787f0v0 192.168.10.11
2021-11-25 10:28:41 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 10:28:49 - sshInstance.py - [line:44] - root - INFO - ifconfig ens787f0v1 192.168.10.12
2021-11-25 10:28:49 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 10:28:57 - sshInstance.py - [line:44] - root - INFO - ifconfig ens787f0v2 192.168.10.13
2021-11-25 10:28:57 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 10:29:05 - sshInstance.py - [line:44] - root - INFO - ifconfig ens787f0v3 192.168.10.14
2021-11-25 10:29:05 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 10:29:13 - sshInstance.py - [line:44] - root - INFO - ping -c 5 192.168.10.10
2021-11-25 10:29:17 - sshInstance.py - [line:48] - root - INFO - PING 192.168.10.10 (192.168.10.10) 56(84) bytes of data.
64 bytes from 192.168.10.10: icmp_seq=1 ttl=64 time=0.096 ms
64 bytes from 192.168.10.10: icmp_seq=2 ttl=64 time=0.011 ms
64 bytes from 192.168.10.10: icmp_seq=3 ttl=64 time=0.010 ms
64 bytes from 192.168.10.10: icmp_seq=4 ttl=64 time=0.012 ms
64 bytes from 192.168.10.10: icmp_seq=5 ttl=64 time=0.008 ms

--- 192.168.10.10 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4098ms
rtt min/avg/max/mdev = 0.008/0.027/0.096/0.034 ms

2021-11-25 10:29:25 - sshInstance.py - [line:44] - root - INFO - ping6 -c 5 -I ens787f0v0 fe80::b696:91ff:fe9c:f762
2021-11-25 10:29:39 - sshInstance.py - [line:48] - root - INFO - PING fe80::b696:91ff:fe9c:f762(fe80::b696:91ff:fe9c:f762) from :: ens787f0v0: 56 data bytes

--- fe80::b696:91ff:fe9c:f762 ping statistics ---
5 packets transmitted, 0 received, 100% packet loss, time 4108ms


2021-11-25 10:29:47 - sshInstance.py - [line:44] - root - INFO - ping -c 5 192.168.10.10
2021-11-25 10:29:51 - sshInstance.py - [line:48] - root - INFO - PING 192.168.10.10 (192.168.10.10) 56(84) bytes of data.
64 bytes from 192.168.10.10: icmp_seq=1 ttl=64 time=0.039 ms
64 bytes from 192.168.10.10: icmp_seq=2 ttl=64 time=0.011 ms
64 bytes from 192.168.10.10: icmp_seq=3 ttl=64 time=0.008 ms
64 bytes from 192.168.10.10: icmp_seq=4 ttl=64 time=0.024 ms
64 bytes from 192.168.10.10: icmp_seq=5 ttl=64 time=0.011 ms

--- 192.168.10.10 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4093ms
rtt min/avg/max/mdev = 0.008/0.018/0.039/0.012 ms

2021-11-25 10:29:59 - sshInstance.py - [line:44] - root - INFO - ping6 -c 5 -I ens787f0v1 fe80::b696:91ff:fe9c:f762
2021-11-25 10:30:14 - sshInstance.py - [line:48] - root - INFO - PING fe80::b696:91ff:fe9c:f762(fe80::b696:91ff:fe9c:f762) from :: ens787f0v1: 56 data bytes

--- fe80::b696:91ff:fe9c:f762 ping statistics ---
5 packets transmitted, 0 received, 100% packet loss, time 4107ms


2021-11-25 10:30:22 - sshInstance.py - [line:44] - root - INFO - ping -c 5 192.168.10.10
2021-11-25 10:30:26 - sshInstance.py - [line:48] - root - INFO - PING 192.168.10.10 (192.168.10.10) 56(84) bytes of data.
64 bytes from 192.168.10.10: icmp_seq=1 ttl=64 time=0.036 ms
64 bytes from 192.168.10.10: icmp_seq=2 ttl=64 time=0.011 ms
64 bytes from 192.168.10.10: icmp_seq=3 ttl=64 time=0.008 ms
64 bytes from 192.168.10.10: icmp_seq=4 ttl=64 time=0.008 ms
64 bytes from 192.168.10.10: icmp_seq=5 ttl=64 time=0.009 ms

--- 192.168.10.10 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4092ms
rtt min/avg/max/mdev = 0.008/0.014/0.036/0.011 ms

2021-11-25 10:30:34 - sshInstance.py - [line:44] - root - INFO - ping6 -c 5 -I ens787f0v2 fe80::b696:91ff:fe9c:f762
2021-11-25 10:30:48 - sshInstance.py - [line:48] - root - INFO - PING fe80::b696:91ff:fe9c:f762(fe80::b696:91ff:fe9c:f762) from :: ens787f0v2: 56 data bytes

--- fe80::b696:91ff:fe9c:f762 ping statistics ---
5 packets transmitted, 0 received, 100% packet loss, time 4110ms


2021-11-25 10:30:56 - sshInstance.py - [line:44] - root - INFO - ping -c 5 192.168.10.10
2021-11-25 10:31:00 - sshInstance.py - [line:48] - root - INFO - PING 192.168.10.10 (192.168.10.10) 56(84) bytes of data.
64 bytes from 192.168.10.10: icmp_seq=1 ttl=64 time=0.046 ms
64 bytes from 192.168.10.10: icmp_seq=2 ttl=64 time=0.011 ms
64 bytes from 192.168.10.10: icmp_seq=3 ttl=64 time=0.008 ms
64 bytes from 192.168.10.10: icmp_seq=4 ttl=64 time=0.011 ms
64 bytes from 192.168.10.10: icmp_seq=5 ttl=64 time=0.008 ms

--- 192.168.10.10 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4092ms
rtt min/avg/max/mdev = 0.008/0.016/0.046/0.015 ms

2021-11-25 10:31:08 - sshInstance.py - [line:44] - root - INFO - ping6 -c 5 -I ens787f0v3 fe80::b696:91ff:fe9c:f762
2021-11-25 10:31:22 - sshInstance.py - [line:48] - root - INFO - PING fe80::b696:91ff:fe9c:f762(fe80::b696:91ff:fe9c:f762) from :: ens787f0v3: 56 data bytes

--- fe80::b696:91ff:fe9c:f762 ping statistics ---
5 packets transmitted, 0 received, 100% packet loss, time 4108ms


.2021-11-25 10:31:27 - sshInstance.py - [line:39] - root - INFO - closing ssh client on SUT
2021-11-25 10:31:27 - test_nics.py - [line:28] - root - INFO - this is Test_Nics teardown


======================== 3 passed in 445.32s (0:07:25) =========================
[8mha:////4KMKnj+jwomtBZRlOM1zDNsT7NVP2UylJUBAmwQdpqOFAAAAox+LCAAAAAAAAP9tjTESwiAURH/iWNhaeggyGUvHypah8QSYIEKY/wkQSeWJvJp3EM2MlVvs7NvmPV+wjgGOFDSzCgeDsTPMu0mXxTKF4eooM0sX1hFGcooJlQX16rSgoKRgSVXDisNGYecoGtQJttzKu2ycRN2cUyjfgUNt+hEeUPFiTjKkL8wBdrepj4Q/z18BzN4nqNv9p9o3geV5574AAAA=[0m[Pipeline] }
[8mha:////4PHbOgS4fTQzlO31aLQygq6Gmyy7LbpReNAbbgHuNOsPAAAApB+LCAAAAAAAAP9tjTEOwjAQBC9BFLSUPOICEh2iSmu54QUmNsaJdWdsh6TiRXyNPxCIRMUWq51t5vmCZYpw5GixNdQ5So3D4Hs7LRw4dhfPA7Z8xoYpsTcozSBZm3pGydnAnKKEhYCVocZzcmQzrEWr7qryimx1ynH6DgJKp2/wgEJM5qxi/sIYYXPtdWL6ef4KYAwhQ7nbf2r7Bq/le42+AAAA[0m[Pipeline] // stage
[8mha:////4MZyk33+V/AiT4fn8n6G3pw2AKptiha+GL2FVGy8vSODAAAAph+LCAAAAAAAAP9tjTEOwjAQBM9BKWgpeYQjJKgQFa3lhheY2Bgn1l2wLyQVL+Jr/IFAJCq22llpNc8XlDnBgZKXjcM2YK6D7GLvpyYHSu0l0iAbOsuaMFN0UrtBk3XHGTWxgzmigIWCpcM6Ug7oGVaqMXdTRYO+OnGatr2CItgbPECoycwm8RfGBOtrbzPhz/NXAGPHILYMxWb3OZZvBXXnAcEAAAA=[0m[Pipeline] stage
[8mha:////4IbAYeEfzIYrbjXur3hhLHFS6T3zmMsYQQAYadAUrpZ/AAAApx+LCAAAAAAAAP9tjTEOwjAUQ3+LOrAycohUDLAgpq5RFk4QmhDSRv+Xn5R24kRcjTvQUokJD5ZtyXqvNxSR4UTsRGOx9RhrL7rQuymJgbi9BhpEQxdRE0YKVig7KDK2WqqiZGFRlsNKwtpiHSh6dAk2stEPXQaNrjwnnrajhNybOzwhkxM5aU7fMjJsb72JhD/OXwCMXYJ8t5/tMD+LD/s94rDCAAAA[0m[Pipeline] { (run gold nic sriov stress vm)
[8mha:////4FPk2mTBzwof/oyzK3/Y2W4GOSwpNdCdlxh/EpNq5ACcAAAApB+LCAAAAAAAAP9tjTEOwjAQBC9BFLSUPOIiGigQVVrLDS8wsTFOrDtjOyQVL+Jr/IFAJCq2WO1sM88XLFOEI0eLraHOUWocBt/baeHAsbt4HrDlMzZMib1BaQbJ2tQzSs4G5hQlLASsDDWekyObYS1adVeVV2SrU47TdxBQOn2DBxRiMmcV8xfGCJtrrxPTz/NXAGPIUG53n9qHN27Iu42+AAAA[0m[Pipeline] sh
+ pytest /root/.jenkins/workspace/test-nic/npxtester/Tests/testNics/test_network_sriov_stress.py -m nicall -s
============================= test session starts ==============================
platform linux -- Python 3.6.8, pytest-6.2.4, py-1.11.0, pluggy-0.13.1
rootdir: /root/.jenkins/workspace/test-nic/npxtester/Tests/testNics, configfile: pytest.ini
plugins: metadata-1.11.0, html-3.1.1
collected 7 items / 1 deselected / 6 selected

../test-nic/npxtester/Tests/testNics/test_network_sriov_stress.py 2021-11-25 10:31:28 - NicTestFixture.py - [line:28] - root - INFO - Starting to run test_PI_Networking_SRIOV_StressDisableEnableFor5TimesWhenVFIsAssigned_VM_Guest[ubuntu20.04.img-ubuntu20.04_2.img]
2021-11-25 10:31:28 - NicTestFixture.py - [line:29] - root - INFO - setup log for testing in the fixture class fbefore
2021-11-25 10:31:28 - test_network_sriov_stress.py - [line:30] - root - INFO - SSH SUT and setup configurations in the setup function.
2021-11-25 10:31:28 - transport.py - [line:1819] - paramiko.transport - INFO - Connected (version 2.0, client OpenSSH_8.0)
2021-11-25 10:31:28 - transport.py - [line:1819] - paramiko.transport - INFO - Authentication (publickey) failed.
2021-11-25 10:31:28 - transport.py - [line:1819] - paramiko.transport - INFO - Authentication (password) successful!
2021-11-25 10:31:28 - sshInstance.py - [line:28] - root - INFO - SSH on SUT: 10.112.97.157
2021-11-25 10:31:28 - test_network_sriov_stress.py - [line:349] - root - INFO - 

********************************************************Stress Disable and Enable for 1 time when VF is Assigned VM guest.*************************************************************


2021-11-25 10:31:31 - sshInstance.py - [line:44] - root - INFO - /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -s | grep ens787f0 | awk '{print $1;}'
2021-11-25 10:31:32 - sshInstance.py - [line:48] - root - INFO - 0000:31:00.0
0000:31:01.0
0000:31:01.1
0000:31:01.2
0000:31:01.3

2021-11-25 10:31:37 - test_network_sriov_stress.py - [line:80] - root - INFO - pf_id was found: 0000:31:00.0
0000:31:01.0
0000:31:01.1
0000:31:01.2
0000:31:01.3

2021-11-25 10:31:37 - test_network_sriov_stress.py - [line:357] - root - INFO - format_pf_id is 0000\:31\:00.0
0000:31:01.0
0000:31:01.1
0000:31:01.2
0000:31:01.3

2021-11-25 10:31:37 - test_network_sriov_stress.py - [line:360] - root - INFO - pf_id_key: 31
2021-11-25 10:31:42 - sshInstance.py - [line:89] - root - INFO - Activate the web console with: systemctl enable --now cockpit.socket
This system is not registered to Red Hat Insights. See https://cloud.redhat.com/
To register this system, run: insights-client --register
Last login: Thu Nov 25 10:28:31 2021 from 10.239.129.147
[root@WW30CYP10 ~]# ifconfig ens787f0 192.168.10.11
[root@WW30CYP10 ~]# 
2021-11-25 10:31:45 - test_network_sriov_stress.py - [line:268] - root - INFO - Successfully assigned ip to ethernet: ens787f0
2021-11-25 10:31:48 - sshInstance.py - [line:44] - root - INFO - echo 4 > /sys/class/net/ens787f0/device/sriov_numvfs
2021-11-25 10:31:48 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 10:31:53 - test_network_sriov_stress.py - [line:95] - root - INFO - Successfully Virtualized PF to VFs.
2021-11-25 10:31:56 - sshInstance.py - [line:44] - root - INFO -  lspci | grep "Virtual" | awk '{print $1;}'list
2021-11-25 10:31:56 - sshInstance.py - [line:48] - root - INFO - 31:01.0
31:01.1
31:01.2
31:01.3

2021-11-25 10:32:01 - test_network_sriov_stress.py - [line:109] - root - INFO - Succssfully Gotten vf_id list:

2021-11-25 10:32:04 - sshInstance.py - [line:44] - root - INFO -  modinfo vfio-pci | grep "vfio_pci" | awk '{ print $2;}'
2021-11-25 10:32:04 - sshInstance.py - [line:48] - root - INFO - vfio_pci

2021-11-25 10:32:09 - test_network_sriov_stress.py - [line:162] - root - INFO - Successfuly modeprobe vfio-pci
2021-11-25 10:32:12 - sshInstance.py - [line:44] - root - INFO - /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -b vfio-pci 31:01.0
2021-11-25 10:32:12 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 10:32:17 - test_network_sriov_stress.py - [line:141] - root - INFO - Successfuly bound VF to vfio-pci
2021-11-25 10:32:20 - sshInstance.py - [line:44] - root - INFO - /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -b vfio-pci 31:01.1
2021-11-25 10:32:21 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 10:32:26 - test_network_sriov_stress.py - [line:141] - root - INFO - Successfuly bound VF to vfio-pci
2021-11-25 10:32:26 - test_network_sriov_stress.py - [line:381] - root - INFO - lspci -Dnn | grep 31:01.1
2021-11-25 10:32:29 - sshInstance.py - [line:44] - root - INFO - lspci -Dnn | grep 31:01.1
2021-11-25 10:32:29 - sshInstance.py - [line:48] - root - INFO - 0000:31:01.1 Ethernet controller [0200]: Intel Corporation Ethernet Adaptive Virtual Function [8086:1889] (rev 02)

2021-11-25 10:32:34 - test_network_sriov_stress.py - [line:392] - root - INFO - Successfully get vf device id: 8086:1889
2021-11-25 10:32:37 - sshInstance.py - [line:44] - root - INFO - virsh net-info default | grep "Active" | awk '{print $2;}'
2021-11-25 10:32:37 - sshInstance.py - [line:48] - root - INFO - yes

2021-11-25 10:32:42 - test_network_sriov_stress.py - [line:170] - root - INFO - Default network is active? yes

2021-11-25 10:32:46 - sshInstance.py - [line:69] - root - INFO - virt-install --name VMtest1 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_0 --boot hd --disk path=/home//image/ubuntu20.04.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=59900 --noautoconsole

** (process:97455): [1;33mWARNING[0m **: [34m10:32:58.186[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
2021-11-25 10:32:49 - sshInstance.py - [line:69] - root - INFO - Domain creation completed.
[root@WW30CYP10 ~]# 
2021-11-25 10:32:52 - test_network_sriov_stress.py - [line:205] - root - INFO - Successfully created a VM: VMtest1
2021-11-25 10:32:56 - sshInstance.py - [line:69] - root - INFO - virt-install --name VMtest2 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_1 --boot hd --disk path=/home//image/ubuntu20.04_2.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port==5901 --noautoconsole

** (process:97532): [1;33mWARNING[0m **: [34m10:33:08.139[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
2021-11-25 10:32:59 - sshInstance.py - [line:69] - root - INFO - Domain creation completed.
[root@WW30CYP10 ~]# 
2021-11-25 10:33:02 - test_network_sriov_stress.py - [line:205] - root - INFO - Successfully created a VM: VMtest2
2021-11-25 10:33:05 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
2021-11-25 10:33:05 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 10:33:10 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest1
2021-11-25 10:34:14 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
2021-11-25 10:34:14 - sshInstance.py - [line:48] - root - INFO - 192.168.122.72/24

2021-11-25 10:34:19 - test_network_sriov_stress.py - [line:216] - root - INFO - Successfully got VMtest1 IP: 192.168.122.72/24

2021-11-25 10:34:22 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
2021-11-25 10:34:22 - sshInstance.py - [line:48] - root - INFO - 192.168.122.156/24

2021-11-25 10:34:27 - test_network_sriov_stress.py - [line:216] - root - INFO - Successfully got VMtest2 IP: 192.168.122.156/24

2021-11-25 10:34:27 - test_network_sriov_stress.py - [line:409] - root - INFO - ip of VM1: 192.168.122.72
2021-11-25 10:34:27 - test_network_sriov_stress.py - [line:410] - root - INFO - ip of VM1: 192.168.122.156
2021-11-25 10:34:31 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.122.72
PING 192.168.122.72 (192.168.122.72) 56(84) bytes of data.
64 bytes from 192.168.122.72: icmp_seq=1 ttl=64 time=0.125 ms
2021-11-25 10:34:32 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=2 ttl=64 time=0.127 ms
2021-11-25 10:34:33 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=3 ttl=64 time=0.114 ms
2021-11-25 10:34:34 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=4 ttl=64 time=0.067 ms
2021-11-25 10:34:35 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=5 ttl=64 time=0.084 ms

--- 192.168.122.72 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4131ms
rtt min/avg/max/mdev = 0.067/0.103/0.127/0.025 ms
[root@WW30CYP10 ~]# 
2021-11-25 10:34:43 - sshInstance.py - [line:89] - root - INFO - ssh root@192.168.122.72
The authenticity of host '192.168.122.72 (192.168.122.72)' can't be established.
ECDSA key fingerprint is SHA256:uiL9MQ8j64kizIc2NkvuxVE93C2YBfGXw5p1QHW5dUA.
Are you sure you want to continue connecting (yes/no/[fingerprint])? 
2021-11-25 10:34:51 - sshInstance.py - [line:89] - root - INFO - yes
Warning: Permanently added '192.168.122.72' (ECDSA) to the list of known hosts.
root@192.168.122.72's password: 
2021-11-25 10:34:59 - sshInstance.py - [line:89] - root - INFO - 
Welcome to Ubuntu 20.04 LTS (GNU/Linux 5.4.0-26-generic x86_64)
 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage
  System information as of Wed 24 Nov 2021 09:35:08 PM EST
  System load:  0.06               Processes:             136
  Usage of /:   46.6% of 19.07GB   Users logged in:       0
  Memory usage: 30%                IPv4 address for ens3: 192.168.122.72
  Swap usage:   0%

366 updates can be installed immediately.
222 of these updates are security updates.
To see these additional updates run: apt list --upgradable

Last login: Wed Nov 24 05:16:29 2021 from 192.168.122.1
root@localhost:~# 
2021-11-25 10:35:07 - sshInstance.py - [line:89] - root - INFO - lspci -Dnn | grep "8086:1889" | awk '{print $1;}'
0000:00:05.0
root@localhost:~# 
2021-11-25 10:35:13 - test_network_sriov_stress.py - [line:306] - root - INFO - successfully got vf pci id of vm1: 0000:00:05.0
2021-11-25 10:35:18 - sshInstance.py - [line:89] - root - INFO - ls /sys/bus/pci/devices/0000\:00\:05.0/net/ --color=never
ens5
root@localhost:~# 
2021-11-25 10:35:23 - test_network_sriov_stress.py - [line:317] - root - INFO - Successfully got vf device name of vm1: ens5
2021-11-25 10:35:28 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 192.168.10.12
root@localhost:~# 
2021-11-25 10:35:31 - test_network_sriov_stress.py - [line:268] - root - INFO - Successfully assigned ip to ethernet: ens5
2021-11-25 10:35:36 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 down
root@localhost:~# 
2021-11-25 10:35:44 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 hw ether 1234567890ac
root@localhost:~# 
2021-11-25 10:35:52 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 up
root@localhost:~# 
2021-11-25 10:36:00 - sshInstance.py - [line:89] - root - INFO - nmcli device connect ens5
Command 'nmcli' not found, but can be installed with:
apt install network-manager
root@localhost:~# 
2021-11-25 10:36:08 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5
ens5: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.10.12  netmask 255.255.255.0  broadcast 192.168.10.255
        inet6 fe80::1034:56ff:fe78:90ac  prefixlen 64  scopeid 0x20<link>
        ether 12:34:56:78:90:ac  txqueuelen 1000  (Ethernet)
        RX packets 0  bytes 0 (0.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 9  bytes 766 (766.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
root@localhost:~# 
2021-11-25 10:36:16 - sshInstance.py - [line:89] - root - INFO - exit
logout
Connection to 192.168.122.72 closed.
[root@WW30CYP10 ~]# 
2021-11-25 10:36:23 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.122.156
PING 192.168.122.156 (192.168.122.156) 56(84) bytes of data.
64 bytes from 192.168.122.156: icmp_seq=1 ttl=64 time=0.177 ms
2021-11-25 10:36:24 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.156: icmp_seq=2 ttl=64 time=0.098 ms
2021-11-25 10:36:25 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.156: icmp_seq=3 ttl=64 time=0.083 ms
2021-11-25 10:36:26 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.156: icmp_seq=4 ttl=64 time=0.082 ms
2021-11-25 10:36:27 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.156: icmp_seq=5 ttl=64 time=0.081 ms

--- 192.168.122.156 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4137ms
rtt min/avg/max/mdev = 0.081/0.104/0.177/0.037 ms
[root@WW30CYP10 ~]# 
2021-11-25 10:36:35 - sshInstance.py - [line:89] - root - INFO - ssh root@192.168.122.156
The authenticity of host '192.168.122.156 (192.168.122.156)' can't be established.
ECDSA key fingerprint is SHA256:uiL9MQ8j64kizIc2NkvuxVE93C2YBfGXw5p1QHW5dUA.
Are you sure you want to continue connecting (yes/no/[fingerprint])? 
2021-11-25 10:36:43 - sshInstance.py - [line:89] - root - INFO - yes
Warning: Permanently added '192.168.122.156' (ECDSA) to the list of known hosts.
root@192.168.122.156's password: 
2021-11-25 10:36:51 - sshInstance.py - [line:89] - root - INFO - 
Welcome to Ubuntu 20.04 LTS (GNU/Linux 5.4.0-26-generic x86_64)
 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage
  System information as of Wed 24 Nov 2021 09:37:00 PM EST
  System load:  0.01               Processes:             138
  Usage of /:   46.4% of 19.07GB   Users logged in:       0
  Memory usage: 30%                IPv4 address for ens3: 192.168.122.156
  Swap usage:   0%

366 updates can be installed immediately.
222 of these updates are security updates.
To see these additional updates run: apt list --upgradable

Last login: Wed Nov 24 05:03:07 2021 from 192.168.122.1
root@localhost:~# 
2021-11-25 10:36:59 - sshInstance.py - [line:89] - root - INFO - lspci -Dnn | grep "8086:1889" | awk '{print $1;}'
0000:00:05.0
root@localhost:~# 
2021-11-25 10:37:05 - test_network_sriov_stress.py - [line:306] - root - INFO - successfully got vf pci id of vm1: 0000:00:05.0
2021-11-25 10:37:10 - sshInstance.py - [line:89] - root - INFO - ls /sys/bus/pci/devices/0000\:00\:05.0/net/ --color=never
ens5
root@localhost:~# 
2021-11-25 10:37:15 - test_network_sriov_stress.py - [line:317] - root - INFO - Successfully got vf device name of vm1: ens5
2021-11-25 10:37:20 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 192.168.10.13
root@localhost:~# 
2021-11-25 10:37:23 - test_network_sriov_stress.py - [line:268] - root - INFO - Successfully assigned ip to ethernet: ens5
2021-11-25 10:37:28 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 down
root@localhost:~# 
2021-11-25 10:37:36 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 hw ether 1234567890ab
root@localhost:~# 
2021-11-25 10:37:44 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 up
root@localhost:~# 
2021-11-25 10:37:52 - sshInstance.py - [line:89] - root - INFO - nmcli device connect ens5
Command 'nmcli' not found, but can be installed with:
apt install network-manager
root@localhost:~# 
2021-11-25 10:38:00 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5
ens5: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.10.13  netmask 255.255.255.0  broadcast 192.168.10.255
        inet6 fe80::1034:56ff:fe78:90ab  prefixlen 64  scopeid 0x20<link>
        ether 12:34:56:78:90:ab  txqueuelen 1000  (Ethernet)
        RX packets 5  bytes 1722 (1.7 KB)
        RX errors 0  dropped 2  overruns 0  frame 0
        TX packets 9  bytes 766 (766.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
root@localhost:~# 
2021-11-25 10:38:08 - sshInstance.py - [line:89] - root - INFO - exit
logout
Connection to 192.168.122.156 closed.
[root@WW30CYP10 ~]# 
2021-11-25 10:38:11 - test_network_sriov_stress.py - [line:428] - root - INFO - Ping two vms IP from SUT:
2021-11-25 10:38:15 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.10.12
PING 192.168.10.12 (192.168.10.12) 56(84) bytes of data.
64 bytes from 192.168.10.12: icmp_seq=1 ttl=64 time=6.03 ms
2021-11-25 10:38:16 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.12: icmp_seq=2 ttl=64 time=0.041 ms
2021-11-25 10:38:17 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.12: icmp_seq=3 ttl=64 time=0.047 ms
2021-11-25 10:38:18 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.12: icmp_seq=4 ttl=64 time=0.041 ms
2021-11-25 10:38:19 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.12: icmp_seq=5 ttl=64 time=0.034 ms

--- 192.168.10.12 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4077ms
rtt min/avg/max/mdev = 0.034/1.238/6.029/2.395 ms
[root@WW30CYP10 ~]# 
2021-11-25 10:38:26 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.10.13
PING 192.168.10.13 (192.168.10.13) 56(84) bytes of data.
64 bytes from 192.168.10.13: icmp_seq=1 ttl=64 time=0.025 ms
2021-11-25 10:38:27 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=2 ttl=64 time=0.011 ms
2021-11-25 10:38:28 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=3 ttl=64 time=0.008 ms
2021-11-25 10:38:29 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=4 ttl=64 time=0.009 ms
2021-11-25 10:38:30 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=5 ttl=64 time=0.024 ms

--- 192.168.10.13 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4136ms
rtt min/avg/max/mdev = 0.008/0.015/0.025/0.008 ms
[root@WW30CYP10 ~]# 
2021-11-25 10:38:33 - test_network_sriov_stress.py - [line:436] - root - INFO - ping VMtest2 IP from VMtest1
2021-11-25 10:38:37 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.122.72
PING 192.168.122.72 (192.168.122.72) 56(84) bytes of data.
64 bytes from 192.168.122.72: icmp_seq=1 ttl=64 time=0.097 ms
2021-11-25 10:38:38 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=2 ttl=64 time=0.083 ms
2021-11-25 10:38:39 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=3 ttl=64 time=0.075 ms
2021-11-25 10:38:40 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=4 ttl=64 time=0.078 ms
2021-11-25 10:38:41 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=5 ttl=64 time=0.071 ms

--- 192.168.122.72 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4131ms
rtt min/avg/max/mdev = 0.071/0.080/0.097/0.014 ms
[root@WW30CYP10 ~]# 
2021-11-25 10:38:49 - sshInstance.py - [line:89] - root - INFO - ssh root@192.168.122.72
root@192.168.122.72's password: 
2021-11-25 10:38:57 - sshInstance.py - [line:89] - root - INFO - 
Welcome to Ubuntu 20.04 LTS (GNU/Linux 5.4.0-26-generic x86_64)
 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage
  System information as of Wed 24 Nov 2021 09:39:06 PM EST
  System load:  0.0                Processes:             129
  Usage of /:   46.6% of 19.07GB   Users logged in:       0
  Memory usage: 30%                IPv4 address for ens3: 192.168.122.72
  Swap usage:   0%                 IPv4 address for ens5: 192.168.10.12

366 updates can be installed immediately.
222 of these updates are security updates.
To see these additional updates run: apt list --upgradable

Last login: Wed Nov 24 21:35:08 2021 from 192.168.122.1
root@localhost:~# 
2021-11-25 10:39:04 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.10.13
PING 192.168.10.13 (192.168.10.13) 56(84) bytes of data.
64 bytes from 192.168.10.13: icmp_seq=1 ttl=64 time=0.156 ms
2021-11-25 10:39:05 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=2 ttl=64 time=0.034 ms
2021-11-25 10:39:06 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=3 ttl=64 time=0.032 ms
2021-11-25 10:39:07 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=4 ttl=64 time=0.028 ms
2021-11-25 10:39:08 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=5 ttl=64 time=0.033 ms

--- 192.168.10.13 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4080ms
rtt min/avg/max/mdev = 0.028/0.056/0.156/0.049 ms
root@localhost:~# 
2021-11-25 10:39:47 - sshInstance.py - [line:89] - root - INFO - exit
logout
Connection to 192.168.122.72 closed.
[root@WW30CYP10 ~]# 
2021-11-25 10:39:50 - test_network_sriov_stress.py - [line:444] - root - INFO - ping VMtest2 IP from VMtest1
2021-11-25 10:39:54 - sshInstance.py - [line:69] - root - INFO - ping -c 5 -I 192.168.10.11 192.168.10.10
PING 192.168.10.10 (192.168.10.10) from 192.168.10.11 : 56(84) bytes of data.
64 bytes from 192.168.10.10: icmp_seq=1 ttl=64 time=0.040 ms
2021-11-25 10:39:55 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=2 ttl=64 time=0.011 ms
2021-11-25 10:39:56 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=3 ttl=64 time=0.008 ms
2021-11-25 10:39:57 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=4 ttl=64 time=0.011 ms
2021-11-25 10:39:58 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=5 ttl=64 time=0.008 ms

--- 192.168.10.10 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4101ms
rtt min/avg/max/mdev = 0.008/0.015/0.040/0.013 ms
[root@WW30CYP10 ~]# 
2021-11-25 10:40:04 - sshInstance.py - [line:44] - root - INFO - echo 0 > /sys/class/net/ens787f0/device/sriov_numvfs
2021-11-25 10:40:06 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 10:40:11 - test_network_sriov_stress.py - [line:237] - root - INFO - Successfully removed VFs from PF.
2021-11-25 10:40:14 - sshInstance.py - [line:44] - root - INFO - virsh destroy VMtest1
2021-11-25 10:40:15 - sshInstance.py - [line:48] - root - INFO - Domain VMtest1 destroyed


2021-11-25 10:40:20 - test_network_sriov_stress.py - [line:247] - root - INFO - Successfully shut down the VM: VMtest1
2021-11-25 10:40:23 - sshInstance.py - [line:44] - root - INFO - virsh undefine VMtest1
2021-11-25 10:40:23 - sshInstance.py - [line:48] - root - INFO - Domain VMtest1 has been undefined


2021-11-25 10:40:28 - test_network_sriov_stress.py - [line:254] - root - INFO - Successfully removed the VM: VMtest1
2021-11-25 10:40:31 - sshInstance.py - [line:44] - root - INFO - virsh destroy VMtest2
2021-11-25 10:40:32 - sshInstance.py - [line:48] - root - INFO - Domain VMtest2 destroyed


2021-11-25 10:40:37 - test_network_sriov_stress.py - [line:247] - root - INFO - Successfully shut down the VM: VMtest2
2021-11-25 10:40:40 - sshInstance.py - [line:44] - root - INFO - virsh undefine VMtest2
2021-11-25 10:40:40 - sshInstance.py - [line:48] - root - INFO - Domain VMtest2 has been undefined


2021-11-25 10:40:45 - test_network_sriov_stress.py - [line:254] - root - INFO - Successfully removed the VM: VMtest2
2021-11-25 10:40:45 - test_network_sriov_stress.py - [line:349] - root - INFO - 

********************************************************Stress Disable and Enable for 2 time when VF is Assigned VM guest.*************************************************************


2021-11-25 10:40:48 - sshInstance.py - [line:44] - root - INFO - /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -s | grep ens787f0 | awk '{print $1;}'
2021-11-25 10:40:48 - sshInstance.py - [line:48] - root - INFO - 0000:31:00.0

2021-11-25 10:40:53 - test_network_sriov_stress.py - [line:80] - root - INFO - pf_id was found: 0000:31:00.0

2021-11-25 10:40:53 - test_network_sriov_stress.py - [line:357] - root - INFO - format_pf_id is 0000\:31\:00.0

2021-11-25 10:40:53 - test_network_sriov_stress.py - [line:360] - root - INFO - pf_id_key: 31
2021-11-25 10:40:58 - sshInstance.py - [line:89] - root - INFO - ifconfig ens787f0 192.168.10.11
[root@WW30CYP10 ~]# 
2021-11-25 10:41:01 - test_network_sriov_stress.py - [line:268] - root - INFO - Successfully assigned ip to ethernet: ens787f0
2021-11-25 10:41:04 - sshInstance.py - [line:44] - root - INFO - echo 4 > /sys/class/net/ens787f0/device/sriov_numvfs
2021-11-25 10:41:05 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 10:41:10 - test_network_sriov_stress.py - [line:95] - root - INFO - Successfully Virtualized PF to VFs.
2021-11-25 10:41:13 - sshInstance.py - [line:44] - root - INFO -  lspci | grep "Virtual" | awk '{print $1;}'list
2021-11-25 10:41:13 - sshInstance.py - [line:48] - root - INFO - 31:01.0
31:01.1
31:01.2
31:01.3

2021-11-25 10:41:18 - test_network_sriov_stress.py - [line:109] - root - INFO - Succssfully Gotten vf_id list:

2021-11-25 10:41:21 - sshInstance.py - [line:44] - root - INFO -  modinfo vfio-pci | grep "vfio_pci" | awk '{ print $2;}'
2021-11-25 10:41:21 - sshInstance.py - [line:48] - root - INFO - vfio_pci

2021-11-25 10:41:26 - test_network_sriov_stress.py - [line:162] - root - INFO - Successfuly modeprobe vfio-pci
2021-11-25 10:41:29 - sshInstance.py - [line:44] - root - INFO - /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -b vfio-pci 31:01.0
2021-11-25 10:41:30 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 10:41:35 - test_network_sriov_stress.py - [line:141] - root - INFO - Successfuly bound VF to vfio-pci
2021-11-25 10:41:38 - sshInstance.py - [line:44] - root - INFO - /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -b vfio-pci 31:01.1
2021-11-25 10:41:38 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 10:41:43 - test_network_sriov_stress.py - [line:141] - root - INFO - Successfuly bound VF to vfio-pci
2021-11-25 10:41:43 - test_network_sriov_stress.py - [line:381] - root - INFO - lspci -Dnn | grep 31:01.1
2021-11-25 10:41:46 - sshInstance.py - [line:44] - root - INFO - lspci -Dnn | grep 31:01.1
2021-11-25 10:41:46 - sshInstance.py - [line:48] - root - INFO - 0000:31:01.1 Ethernet controller [0200]: Intel Corporation Ethernet Adaptive Virtual Function [8086:1889] (rev 02)

2021-11-25 10:41:51 - test_network_sriov_stress.py - [line:392] - root - INFO - Successfully get vf device id: 8086:1889
2021-11-25 10:41:54 - sshInstance.py - [line:44] - root - INFO - virsh net-info default | grep "Active" | awk '{print $2;}'
2021-11-25 10:41:54 - sshInstance.py - [line:48] - root - INFO - yes

2021-11-25 10:41:59 - test_network_sriov_stress.py - [line:170] - root - INFO - Default network is active? yes

2021-11-25 10:42:03 - sshInstance.py - [line:69] - root - INFO - virt-install --name VMtest1 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_0 --boot hd --disk path=/home//image/ubuntu20.04.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=59900 --noautoconsole

** (process:98766): [1;33mWARNING[0m **: [34m10:42:15.172[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
ERROR    Requested operation is not valid: PCI device 0000:31:01.0 is in use by driver QEMU, domain VMtest1
Domain installation does not appear to have been successful.
If it was, you can restart your domain by running:
  virsh --connect qemu:///system start VMtest1
otherwise, please restart your installation.
[root@WW30CYP10 ~]# 
2021-11-25 10:42:06 - test_network_sriov_stress.py - [line:202] - root - ERROR - Failed to create a VM: virt-install --name VMtest1 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_0 --boot hd --disk path=/home//image/ubuntu20.04.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=59900 --noautoconsole

** (process:98766): [1;33mWARNING[0m **: [34m10:42:15.172[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
ERROR    Requested operation is not valid: PCI device 0000:31:01.0 is in use by driver QEMU, domain VMtest1
Domain installation does not appear to have been successful.
If it was, you can restart your domain by running:
  virsh --connect qemu:///system start VMtest1
otherwise, please restart your installation.
[root@WW30CYP10 ~]# 
2021-11-25 10:42:06 - test_network_sriov_stress.py - [line:203] - root - ERROR - Failed to create a VM: 
2021-11-25 10:42:10 - sshInstance.py - [line:69] - root - INFO - virt-install --name VMtest1 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_0 --boot hd --disk path=/home//image/ubuntu20.04.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=59900 --noautoconsole

** (process:98825): [1;33mWARNING[0m **: [34m10:42:22.199[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
2021-11-25 10:42:13 - sshInstance.py - [line:69] - root - INFO - Domain creation completed.
[root@WW30CYP10 ~]# 
2021-11-25 10:42:16 - test_network_sriov_stress.py - [line:205] - root - INFO - Successfully created a VM: VMtest1
2021-11-25 10:42:20 - sshInstance.py - [line:69] - root - INFO - virt-install --name VMtest2 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_1 --boot hd --disk path=/home//image/ubuntu20.04_2.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port==5901 --noautoconsole

** (process:98894): [1;33mWARNING[0m **: [34m10:42:32.214[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
ERROR    Requested operation is not valid: PCI device 0000:31:01.1 is in use by driver QEMU, domain VMtest2
Domain installation does not appear to have been successful.
If it was, you can restart your domain by running:
  virsh --connect qemu:///system start VMtest2
otherwise, please restart your installation.
[root@WW30CYP10 ~]# 
2021-11-25 10:42:23 - test_network_sriov_stress.py - [line:202] - root - ERROR - Failed to create a VM: virt-install --name VMtest2 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_1 --boot hd --disk path=/home//image/ubuntu20.04_2.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port==5901 --noautoconsole

** (process:98894): [1;33mWARNING[0m **: [34m10:42:32.214[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
ERROR    Requested operation is not valid: PCI device 0000:31:01.1 is in use by driver QEMU, domain VMtest2
Domain installation does not appear to have been successful.
If it was, you can restart your domain by running:
  virsh --connect qemu:///system start VMtest2
otherwise, please restart your installation.
[root@WW30CYP10 ~]# 
2021-11-25 10:42:23 - test_network_sriov_stress.py - [line:203] - root - ERROR - Failed to create a VM: 
2021-11-25 10:42:28 - sshInstance.py - [line:69] - root - INFO - virt-install --name VMtest2 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_1 --boot hd --disk path=/home//image/ubuntu20.04_2.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port==5901 --noautoconsole

** (process:98956): [1;33mWARNING[0m **: [34m10:42:39.221[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
2021-11-25 10:42:31 - sshInstance.py - [line:69] - root - INFO - Domain creation completed.
[root@WW30CYP10 ~]# 
2021-11-25 10:42:34 - test_network_sriov_stress.py - [line:205] - root - INFO - Successfully created a VM: VMtest2
2021-11-25 10:42:37 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
2021-11-25 10:42:37 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 10:42:42 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest1
2021-11-25 10:43:45 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
2021-11-25 10:43:45 - sshInstance.py - [line:48] - root - INFO - 192.168.122.72/24

2021-11-25 10:43:50 - test_network_sriov_stress.py - [line:216] - root - INFO - Successfully got VMtest1 IP: 192.168.122.72/24

2021-11-25 10:43:53 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
2021-11-25 10:43:53 - sshInstance.py - [line:48] - root - INFO - 192.168.122.156/24

2021-11-25 10:43:58 - test_network_sriov_stress.py - [line:216] - root - INFO - Successfully got VMtest2 IP: 192.168.122.156/24

2021-11-25 10:43:58 - test_network_sriov_stress.py - [line:409] - root - INFO - ip of VM1: 192.168.122.72
2021-11-25 10:43:58 - test_network_sriov_stress.py - [line:410] - root - INFO - ip of VM1: 192.168.122.156
2021-11-25 10:44:02 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.122.72
PING 192.168.122.72 (192.168.122.72) 56(84) bytes of data.
64 bytes from 192.168.122.72: icmp_seq=1 ttl=64 time=0.115 ms
2021-11-25 10:44:03 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=2 ttl=64 time=0.135 ms
2021-11-25 10:44:04 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=3 ttl=64 time=0.070 ms
2021-11-25 10:44:05 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=4 ttl=64 time=0.070 ms
2021-11-25 10:44:06 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=5 ttl=64 time=0.081 ms

--- 192.168.122.72 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4127ms
rtt min/avg/max/mdev = 0.070/0.094/0.135/0.026 ms
[root@WW30CYP10 ~]# 
2021-11-25 10:44:14 - sshInstance.py - [line:89] - root - INFO - ssh root@192.168.122.72
root@192.168.122.72's password: 
2021-11-25 10:44:22 - sshInstance.py - [line:89] - root - INFO - 
Welcome to Ubuntu 20.04 LTS (GNU/Linux 5.4.0-26-generic x86_64)
 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage
  System information as of Wed 24 Nov 2021 09:44:31 PM EST
  System load:  0.03               Processes:             138
  Usage of /:   46.6% of 19.07GB   Users logged in:       0
  Memory usage: 30%                IPv4 address for ens3: 192.168.122.72
  Swap usage:   0%

366 updates can be installed immediately.
222 of these updates are security updates.
To see these additional updates run: apt list --upgradable

Last login: Wed Nov 24 21:39:06 2021 from 192.168.122.1
root@localhost:~# 
2021-11-25 10:44:30 - sshInstance.py - [line:89] - root - INFO - lspci -Dnn | grep "8086:1889" | awk '{print $1;}'
0000:00:05.0
root@localhost:~# 
2021-11-25 10:44:36 - test_network_sriov_stress.py - [line:306] - root - INFO - successfully got vf pci id of vm1: 0000:00:05.0
2021-11-25 10:44:41 - sshInstance.py - [line:89] - root - INFO - ls /sys/bus/pci/devices/0000\:00\:05.0/net/ --color=never
ens5
root@localhost:~# 
2021-11-25 10:44:46 - test_network_sriov_stress.py - [line:317] - root - INFO - Successfully got vf device name of vm1: ens5
2021-11-25 10:44:51 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 192.168.10.12
root@localhost:~# 
2021-11-25 10:44:54 - test_network_sriov_stress.py - [line:268] - root - INFO - Successfully assigned ip to ethernet: ens5
2021-11-25 10:44:59 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 down
root@localhost:~# 
2021-11-25 10:45:07 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 hw ether 1234567890ac
root@localhost:~# 
2021-11-25 10:45:15 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 up
root@localhost:~# 
2021-11-25 10:45:23 - sshInstance.py - [line:89] - root - INFO - nmcli device connect ens5
Command 'nmcli' not found, but can be installed with:
apt install network-manager
root@localhost:~# 
2021-11-25 10:45:31 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5
ens5: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.10.12  netmask 255.255.255.0  broadcast 192.168.10.255
        inet6 fe80::1034:56ff:fe78:90ac  prefixlen 64  scopeid 0x20<link>
        ether 12:34:56:78:90:ac  txqueuelen 1000  (Ethernet)
        RX packets 0  bytes 0 (0.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 9  bytes 766 (766.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
root@localhost:~# 
2021-11-25 10:45:39 - sshInstance.py - [line:89] - root - INFO - exit
logout
Connection to 192.168.122.72 closed.
[root@WW30CYP10 ~]# 
2021-11-25 10:45:46 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.122.156
PING 192.168.122.156 (192.168.122.156) 56(84) bytes of data.
64 bytes from 192.168.122.156: icmp_seq=1 ttl=64 time=0.118 ms
2021-11-25 10:45:47 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.156: icmp_seq=2 ttl=64 time=0.090 ms
2021-11-25 10:45:48 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.156: icmp_seq=3 ttl=64 time=0.067 ms
2021-11-25 10:45:49 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.156: icmp_seq=4 ttl=64 time=0.118 ms
2021-11-25 10:45:50 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.156: icmp_seq=5 ttl=64 time=0.077 ms

--- 192.168.122.156 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4074ms
rtt min/avg/max/mdev = 0.067/0.094/0.118/0.020 ms
[root@WW30CYP10 ~]# 
2021-11-25 10:45:58 - sshInstance.py - [line:89] - root - INFO - ssh root@192.168.122.156
root@192.168.122.156's password: 
2021-11-25 10:46:06 - sshInstance.py - [line:89] - root - INFO - 
Welcome to Ubuntu 20.04 LTS (GNU/Linux 5.4.0-26-generic x86_64)
 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage
  System information as of Wed 24 Nov 2021 09:46:15 PM EST
  System load:  0.01               Processes:             138
  Usage of /:   46.4% of 19.07GB   Users logged in:       0
  Memory usage: 30%                IPv4 address for ens3: 192.168.122.156
  Swap usage:   0%

366 updates can be installed immediately.
222 of these updates are security updates.
To see these additional updates run: apt list --upgradable

Last login: Wed Nov 24 21:37:00 2021 from 192.168.122.1
root@localhost:~# 
2021-11-25 10:46:14 - sshInstance.py - [line:89] - root - INFO - lspci -Dnn | grep "8086:1889" | awk '{print $1;}'
0000:00:05.0
root@localhost:~# 
2021-11-25 10:46:20 - test_network_sriov_stress.py - [line:306] - root - INFO - successfully got vf pci id of vm1: 0000:00:05.0
2021-11-25 10:46:25 - sshInstance.py - [line:89] - root - INFO - ls /sys/bus/pci/devices/0000\:00\:05.0/net/ --color=never
ens5
root@localhost:~# 
2021-11-25 10:46:30 - test_network_sriov_stress.py - [line:317] - root - INFO - Successfully got vf device name of vm1: ens5
2021-11-25 10:46:35 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 192.168.10.13
root@localhost:~# 
2021-11-25 10:46:38 - test_network_sriov_stress.py - [line:268] - root - INFO - Successfully assigned ip to ethernet: ens5
2021-11-25 10:46:43 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 down
root@localhost:~# 
2021-11-25 10:46:51 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 hw ether 1234567890ab
root@localhost:~# 
2021-11-25 10:46:59 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 up
root@localhost:~# 
2021-11-25 10:47:07 - sshInstance.py - [line:89] - root - INFO - nmcli device connect ens5
Command 'nmcli' not found, but can be installed with:
apt install network-manager
root@localhost:~# 
2021-11-25 10:47:15 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5
ens5: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.10.13  netmask 255.255.255.0  broadcast 192.168.10.255
        inet6 fe80::1034:56ff:fe78:90ab  prefixlen 64  scopeid 0x20<link>
        ether 12:34:56:78:90:ab  txqueuelen 1000  (Ethernet)
        RX packets 0  bytes 0 (0.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 9  bytes 766 (766.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
root@localhost:~# 
2021-11-25 10:47:23 - sshInstance.py - [line:89] - root - INFO - exit
logout
Connection to 192.168.122.156 closed.
[root@WW30CYP10 ~]# 
2021-11-25 10:47:26 - test_network_sriov_stress.py - [line:428] - root - INFO - Ping two vms IP from SUT:
2021-11-25 10:47:30 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.10.12
PING 192.168.10.12 (192.168.10.12) 56(84) bytes of data.
64 bytes from 192.168.10.12: icmp_seq=1 ttl=64 time=10.5 ms
2021-11-25 10:47:31 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.12: icmp_seq=2 ttl=64 time=0.089 ms
2021-11-25 10:47:32 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.12: icmp_seq=3 ttl=64 time=0.033 ms
2021-11-25 10:47:33 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.12: icmp_seq=4 ttl=64 time=0.038 ms
2021-11-25 10:47:34 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.12: icmp_seq=5 ttl=64 time=0.030 ms

--- 192.168.10.12 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4087ms
rtt min/avg/max/mdev = 0.030/2.131/10.468/4.168 ms
[root@WW30CYP10 ~]# 
2021-11-25 10:47:41 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.10.13
PING 192.168.10.13 (192.168.10.13) 56(84) bytes of data.
64 bytes from 192.168.10.13: icmp_seq=1 ttl=64 time=0.149 ms
2021-11-25 10:47:42 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=2 ttl=64 time=0.048 ms
2021-11-25 10:47:43 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=3 ttl=64 time=0.047 ms
2021-11-25 10:47:44 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=4 ttl=64 time=0.032 ms
2021-11-25 10:47:45 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=5 ttl=64 time=0.032 ms

--- 192.168.10.13 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4082ms
rtt min/avg/max/mdev = 0.032/0.061/0.149/0.045 ms
[root@WW30CYP10 ~]# 
2021-11-25 10:47:48 - test_network_sriov_stress.py - [line:436] - root - INFO - ping VMtest2 IP from VMtest1
2021-11-25 10:47:52 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.122.72
PING 192.168.122.72 (192.168.122.72) 56(84) bytes of data.
64 bytes from 192.168.122.72: icmp_seq=1 ttl=64 time=0.106 ms
2021-11-25 10:47:53 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=2 ttl=64 time=0.081 ms
2021-11-25 10:47:54 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=3 ttl=64 time=0.072 ms
2021-11-25 10:47:55 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=4 ttl=64 time=0.091 ms
2021-11-25 10:47:56 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=5 ttl=64 time=0.086 ms

--- 192.168.122.72 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4076ms
rtt min/avg/max/mdev = 0.072/0.087/0.106/0.012 ms
[root@WW30CYP10 ~]# 
2021-11-25 10:48:04 - sshInstance.py - [line:89] - root - INFO - ssh root@192.168.122.72
root@192.168.122.72's password: 
2021-11-25 10:48:12 - sshInstance.py - [line:89] - root - INFO - 
Welcome to Ubuntu 20.04 LTS (GNU/Linux 5.4.0-26-generic x86_64)
 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage
  System information as of Wed 24 Nov 2021 09:48:21 PM EST
  System load:  0.0                Processes:             129
  Usage of /:   46.6% of 19.07GB   Users logged in:       0
  Memory usage: 30%                IPv4 address for ens3: 192.168.122.72
  Swap usage:   0%                 IPv4 address for ens5: 192.168.10.12

366 updates can be installed immediately.
222 of these updates are security updates.
To see these additional updates run: apt list --upgradable

Last login: Wed Nov 24 21:44:31 2021 from 192.168.122.1
root@localhost:~# 
2021-11-25 10:48:19 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.10.13
PING 192.168.10.13 (192.168.10.13) 56(84) bytes of data.
64 bytes from 192.168.10.13: icmp_seq=1 ttl=64 time=3.63 ms
2021-11-25 10:48:20 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=2 ttl=64 time=0.072 ms
2021-11-25 10:48:21 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=3 ttl=64 time=0.037 ms
2021-11-25 10:48:22 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=4 ttl=64 time=0.034 ms
2021-11-25 10:48:23 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=5 ttl=64 time=0.048 ms

--- 192.168.10.13 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4070ms
rtt min/avg/max/mdev = 0.034/0.763/3.628/1.432 ms
root@localhost:~# 
2021-11-25 10:49:02 - sshInstance.py - [line:89] - root - INFO - exit
logout
Connection to 192.168.122.72 closed.
[root@WW30CYP10 ~]# 
2021-11-25 10:49:05 - test_network_sriov_stress.py - [line:444] - root - INFO - ping VMtest2 IP from VMtest1
2021-11-25 10:49:09 - sshInstance.py - [line:69] - root - INFO - ping -c 5 -I 192.168.10.11 192.168.10.10
PING 192.168.10.10 (192.168.10.10) from 192.168.10.11 : 56(84) bytes of data.
64 bytes from 192.168.10.10: icmp_seq=1 ttl=64 time=0.034 ms
2021-11-25 10:49:10 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=2 ttl=64 time=0.014 ms
2021-11-25 10:49:11 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=3 ttl=64 time=0.011 ms
2021-11-25 10:49:12 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=4 ttl=64 time=0.024 ms
2021-11-25 10:49:13 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=5 ttl=64 time=0.013 ms

--- 192.168.10.10 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4112ms
rtt min/avg/max/mdev = 0.011/0.019/0.034/0.009 ms
[root@WW30CYP10 ~]# 
2021-11-25 10:49:19 - sshInstance.py - [line:44] - root - INFO - echo 0 > /sys/class/net/ens787f0/device/sriov_numvfs
2021-11-25 10:49:21 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 10:49:26 - test_network_sriov_stress.py - [line:237] - root - INFO - Successfully removed VFs from PF.
2021-11-25 10:49:29 - sshInstance.py - [line:44] - root - INFO - virsh destroy VMtest1
2021-11-25 10:49:30 - sshInstance.py - [line:48] - root - INFO - Domain VMtest1 destroyed


2021-11-25 10:49:35 - test_network_sriov_stress.py - [line:247] - root - INFO - Successfully shut down the VM: VMtest1
2021-11-25 10:49:38 - sshInstance.py - [line:44] - root - INFO - virsh undefine VMtest1
2021-11-25 10:49:38 - sshInstance.py - [line:48] - root - INFO - Domain VMtest1 has been undefined


2021-11-25 10:49:43 - test_network_sriov_stress.py - [line:254] - root - INFO - Successfully removed the VM: VMtest1
2021-11-25 10:49:46 - sshInstance.py - [line:44] - root - INFO - virsh destroy VMtest2
2021-11-25 10:49:46 - sshInstance.py - [line:48] - root - INFO - Domain VMtest2 destroyed


2021-11-25 10:49:51 - test_network_sriov_stress.py - [line:247] - root - INFO - Successfully shut down the VM: VMtest2
2021-11-25 10:49:54 - sshInstance.py - [line:44] - root - INFO - virsh undefine VMtest2
2021-11-25 10:49:55 - sshInstance.py - [line:48] - root - INFO - Domain VMtest2 has been undefined


2021-11-25 10:50:00 - test_network_sriov_stress.py - [line:254] - root - INFO - Successfully removed the VM: VMtest2
2021-11-25 10:50:00 - test_network_sriov_stress.py - [line:349] - root - INFO - 

********************************************************Stress Disable and Enable for 3 time when VF is Assigned VM guest.*************************************************************


2021-11-25 10:50:03 - sshInstance.py - [line:44] - root - INFO - /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -s | grep ens787f0 | awk '{print $1;}'
2021-11-25 10:50:03 - sshInstance.py - [line:48] - root - INFO - 0000:31:00.0

2021-11-25 10:50:08 - test_network_sriov_stress.py - [line:80] - root - INFO - pf_id was found: 0000:31:00.0

2021-11-25 10:50:08 - test_network_sriov_stress.py - [line:357] - root - INFO - format_pf_id is 0000\:31\:00.0

2021-11-25 10:50:08 - test_network_sriov_stress.py - [line:360] - root - INFO - pf_id_key: 31
2021-11-25 10:50:13 - sshInstance.py - [line:89] - root - INFO - ifconfig ens787f0 192.168.10.11
[root@WW30CYP10 ~]# 
2021-11-25 10:50:16 - test_network_sriov_stress.py - [line:268] - root - INFO - Successfully assigned ip to ethernet: ens787f0
2021-11-25 10:50:19 - sshInstance.py - [line:44] - root - INFO - echo 4 > /sys/class/net/ens787f0/device/sriov_numvfs
2021-11-25 10:50:19 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 10:50:24 - test_network_sriov_stress.py - [line:95] - root - INFO - Successfully Virtualized PF to VFs.
2021-11-25 10:50:27 - sshInstance.py - [line:44] - root - INFO -  lspci | grep "Virtual" | awk '{print $1;}'list
2021-11-25 10:50:27 - sshInstance.py - [line:48] - root - INFO - 31:01.0
31:01.1
31:01.2
31:01.3

2021-11-25 10:50:32 - test_network_sriov_stress.py - [line:109] - root - INFO - Succssfully Gotten vf_id list:

2021-11-25 10:50:35 - sshInstance.py - [line:44] - root - INFO -  modinfo vfio-pci | grep "vfio_pci" | awk '{ print $2;}'
2021-11-25 10:50:36 - sshInstance.py - [line:48] - root - INFO - vfio_pci

2021-11-25 10:50:41 - test_network_sriov_stress.py - [line:162] - root - INFO - Successfuly modeprobe vfio-pci
2021-11-25 10:50:44 - sshInstance.py - [line:44] - root - INFO - /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -b vfio-pci 31:01.0
2021-11-25 10:50:44 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 10:50:49 - test_network_sriov_stress.py - [line:141] - root - INFO - Successfuly bound VF to vfio-pci
2021-11-25 10:50:52 - sshInstance.py - [line:44] - root - INFO - /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -b vfio-pci 31:01.1
2021-11-25 10:50:53 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 10:50:58 - test_network_sriov_stress.py - [line:141] - root - INFO - Successfuly bound VF to vfio-pci
2021-11-25 10:50:58 - test_network_sriov_stress.py - [line:381] - root - INFO - lspci -Dnn | grep 31:01.1
2021-11-25 10:51:01 - sshInstance.py - [line:44] - root - INFO - lspci -Dnn | grep 31:01.1
2021-11-25 10:51:01 - sshInstance.py - [line:48] - root - INFO - 0000:31:01.1 Ethernet controller [0200]: Intel Corporation Ethernet Adaptive Virtual Function [8086:1889] (rev 02)

2021-11-25 10:51:06 - test_network_sriov_stress.py - [line:392] - root - INFO - Successfully get vf device id: 8086:1889
2021-11-25 10:51:09 - sshInstance.py - [line:44] - root - INFO - virsh net-info default | grep "Active" | awk '{print $2;}'
2021-11-25 10:51:09 - sshInstance.py - [line:48] - root - INFO - yes

2021-11-25 10:51:14 - test_network_sriov_stress.py - [line:170] - root - INFO - Default network is active? yes

2021-11-25 10:51:18 - sshInstance.py - [line:69] - root - INFO - virt-install --name VMtest1 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_0 --boot hd --disk path=/home//image/ubuntu20.04.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=59900 --noautoconsole

** (process:100191): [1;33mWARNING[0m **: [34m10:51:29.904[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
ERROR    Requested operation is not valid: PCI device 0000:31:01.0 is in use by driver QEMU, domain VMtest1
Domain installation does not appear to have been successful.
If it was, you can restart your domain by running:
  virsh --connect qemu:///system start VMtest1
otherwise, please restart your installation.
[root@WW30CYP10 ~]# 
2021-11-25 10:51:21 - test_network_sriov_stress.py - [line:202] - root - ERROR - Failed to create a VM: virt-install --name VMtest1 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_0 --boot hd --disk path=/home//image/ubuntu20.04.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=59900 --noautoconsole

** (process:100191): [1;33mWARNING[0m **: [34m10:51:29.904[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
ERROR    Requested operation is not valid: PCI device 0000:31:01.0 is in use by driver QEMU, domain VMtest1
Domain installation does not appear to have been successful.
If it was, you can restart your domain by running:
  virsh --connect qemu:///system start VMtest1
otherwise, please restart your installation.
[root@WW30CYP10 ~]# 
2021-11-25 10:51:21 - test_network_sriov_stress.py - [line:203] - root - ERROR - Failed to create a VM: 
2021-11-25 10:51:25 - sshInstance.py - [line:69] - root - INFO - virt-install --name VMtest1 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_0 --boot hd --disk path=/home//image/ubuntu20.04.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=59900 --noautoconsole

** (process:100252): [1;33mWARNING[0m **: [34m10:51:36.915[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
2021-11-25 10:51:28 - sshInstance.py - [line:69] - root - INFO - Domain creation completed.
[root@WW30CYP10 ~]# 
2021-11-25 10:51:31 - test_network_sriov_stress.py - [line:205] - root - INFO - Successfully created a VM: VMtest1
2021-11-25 10:51:35 - sshInstance.py - [line:69] - root - INFO - virt-install --name VMtest2 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_1 --boot hd --disk path=/home//image/ubuntu20.04_2.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port==5901 --noautoconsole

** (process:100328): [1;33mWARNING[0m **: [34m10:51:46.923[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
ERROR    Requested operation is not valid: PCI device 0000:31:01.1 is in use by driver QEMU, domain VMtest2
Domain installation does not appear to have been successful.
If it was, you can restart your domain by running:
  virsh --connect qemu:///system start VMtest2
otherwise, please restart your installation.
[root@WW30CYP10 ~]# 
2021-11-25 10:51:38 - test_network_sriov_stress.py - [line:202] - root - ERROR - Failed to create a VM: virt-install --name VMtest2 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_1 --boot hd --disk path=/home//image/ubuntu20.04_2.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port==5901 --noautoconsole

** (process:100328): [1;33mWARNING[0m **: [34m10:51:46.923[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
ERROR    Requested operation is not valid: PCI device 0000:31:01.1 is in use by driver QEMU, domain VMtest2
Domain installation does not appear to have been successful.
If it was, you can restart your domain by running:
  virsh --connect qemu:///system start VMtest2
otherwise, please restart your installation.
[root@WW30CYP10 ~]# 
2021-11-25 10:51:38 - test_network_sriov_stress.py - [line:203] - root - ERROR - Failed to create a VM: 
2021-11-25 10:51:42 - sshInstance.py - [line:69] - root - INFO - virt-install --name VMtest2 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_1 --boot hd --disk path=/home//image/ubuntu20.04_2.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port==5901 --noautoconsole

** (process:100403): [1;33mWARNING[0m **: [34m10:51:53.904[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
2021-11-25 10:51:45 - sshInstance.py - [line:69] - root - INFO - Domain creation completed.
[root@WW30CYP10 ~]# 
2021-11-25 10:51:48 - test_network_sriov_stress.py - [line:205] - root - INFO - Successfully created a VM: VMtest2
2021-11-25 10:51:51 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
2021-11-25 10:51:51 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 10:51:56 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest1
2021-11-25 10:52:59 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
2021-11-25 10:52:59 - sshInstance.py - [line:48] - root - INFO - 192.168.122.72/24

2021-11-25 10:53:04 - test_network_sriov_stress.py - [line:216] - root - INFO - Successfully got VMtest1 IP: 192.168.122.72/24

2021-11-25 10:53:07 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
2021-11-25 10:53:07 - sshInstance.py - [line:48] - root - INFO - 192.168.122.156/24

2021-11-25 10:53:13 - test_network_sriov_stress.py - [line:216] - root - INFO - Successfully got VMtest2 IP: 192.168.122.156/24

2021-11-25 10:53:13 - test_network_sriov_stress.py - [line:409] - root - INFO - ip of VM1: 192.168.122.72
2021-11-25 10:53:13 - test_network_sriov_stress.py - [line:410] - root - INFO - ip of VM1: 192.168.122.156
2021-11-25 10:53:17 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.122.72
PING 192.168.122.72 (192.168.122.72) 56(84) bytes of data.
64 bytes from 192.168.122.72: icmp_seq=1 ttl=64 time=0.104 ms
2021-11-25 10:53:18 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=2 ttl=64 time=0.075 ms
2021-11-25 10:53:19 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=3 ttl=64 time=0.066 ms
2021-11-25 10:53:20 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=4 ttl=64 time=0.070 ms
2021-11-25 10:53:21 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=5 ttl=64 time=0.083 ms

--- 192.168.122.72 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4102ms
rtt min/avg/max/mdev = 0.066/0.079/0.104/0.016 ms
[root@WW30CYP10 ~]# 
2021-11-25 10:53:29 - sshInstance.py - [line:89] - root - INFO - ssh root@192.168.122.72
root@192.168.122.72's password: 
2021-11-25 10:53:37 - sshInstance.py - [line:89] - root - INFO - 
Welcome to Ubuntu 20.04 LTS (GNU/Linux 5.4.0-26-generic x86_64)
 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage
  System information as of Wed 24 Nov 2021 09:53:46 PM EST
  System load:  0.03               Processes:             139
  Usage of /:   46.7% of 19.07GB   Users logged in:       0
  Memory usage: 30%                IPv4 address for ens3: 192.168.122.72
  Swap usage:   0%

366 updates can be installed immediately.
222 of these updates are security updates.
To see these additional updates run: apt list --upgradable

Last login: Wed Nov 24 21:48:21 2021 from 192.168.122.1
root@localhost:~# 
2021-11-25 10:53:45 - sshInstance.py - [line:89] - root - INFO - lspci -Dnn | grep "8086:1889" | awk '{print $1;}'
0000:00:05.0
root@localhost:~# 
2021-11-25 10:53:51 - test_network_sriov_stress.py - [line:306] - root - INFO - successfully got vf pci id of vm1: 0000:00:05.0
2021-11-25 10:53:56 - sshInstance.py - [line:89] - root - INFO - ls /sys/bus/pci/devices/0000\:00\:05.0/net/ --color=never
ens5
root@localhost:~# 
2021-11-25 10:54:01 - test_network_sriov_stress.py - [line:317] - root - INFO - Successfully got vf device name of vm1: ens5
2021-11-25 10:54:06 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 192.168.10.12
root@localhost:~# 
2021-11-25 10:54:09 - test_network_sriov_stress.py - [line:268] - root - INFO - Successfully assigned ip to ethernet: ens5
2021-11-25 10:54:14 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 down
root@localhost:~# 
2021-11-25 10:54:22 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 hw ether 1234567890ac
root@localhost:~# 
2021-11-25 10:54:30 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 up
root@localhost:~# 
2021-11-25 10:54:38 - sshInstance.py - [line:89] - root - INFO - nmcli device connect ens5
Command 'nmcli' not found, but can be installed with:
apt install network-manager
root@localhost:~# 
2021-11-25 10:54:46 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5
ens5: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.10.12  netmask 255.255.255.0  broadcast 192.168.10.255
        inet6 fe80::1034:56ff:fe78:90ac  prefixlen 64  scopeid 0x20<link>
        ether 12:34:56:78:90:ac  txqueuelen 1000  (Ethernet)
        RX packets 0  bytes 0 (0.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 9  bytes 766 (766.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
root@localhost:~# 
2021-11-25 10:54:54 - sshInstance.py - [line:89] - root - INFO - exit
logout
Connection to 192.168.122.72 closed.
[root@WW30CYP10 ~]# 
2021-11-25 10:55:01 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.122.156
PING 192.168.122.156 (192.168.122.156) 56(84) bytes of data.
64 bytes from 192.168.122.156: icmp_seq=1 ttl=64 time=0.199 ms
2021-11-25 10:55:02 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.156: icmp_seq=2 ttl=64 time=0.098 ms
2021-11-25 10:55:03 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.156: icmp_seq=3 ttl=64 time=0.099 ms
2021-11-25 10:55:04 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.156: icmp_seq=4 ttl=64 time=0.081 ms
2021-11-25 10:55:05 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.156: icmp_seq=5 ttl=64 time=0.091 ms

--- 192.168.122.156 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4115ms
rtt min/avg/max/mdev = 0.081/0.113/0.199/0.044 ms
[root@WW30CYP10 ~]# 
2021-11-25 10:55:13 - sshInstance.py - [line:89] - root - INFO - ssh root@192.168.122.156
root@192.168.122.156's password: 
2021-11-25 10:55:21 - sshInstance.py - [line:89] - root - INFO - 
Welcome to Ubuntu 20.04 LTS (GNU/Linux 5.4.0-26-generic x86_64)
 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage
  System information as of Wed 24 Nov 2021 09:55:29 PM EST
  System load:  0.04               Processes:             139
  Usage of /:   46.4% of 19.07GB   Users logged in:       0
  Memory usage: 30%                IPv4 address for ens3: 192.168.122.156
  Swap usage:   0%

366 updates can be installed immediately.
222 of these updates are security updates.
To see these additional updates run: apt list --upgradable

Last login: Wed Nov 24 21:46:15 2021 from 192.168.122.1
root@localhost:~# 
2021-11-25 10:55:29 - sshInstance.py - [line:89] - root - INFO - lspci -Dnn | grep "8086:1889" | awk '{print $1;}'
0000:00:05.0
root@localhost:~# 
2021-11-25 10:55:35 - test_network_sriov_stress.py - [line:306] - root - INFO - successfully got vf pci id of vm1: 0000:00:05.0
2021-11-25 10:55:40 - sshInstance.py - [line:89] - root - INFO - ls /sys/bus/pci/devices/0000\:00\:05.0/net/ --color=never
ens5
root@localhost:~# 
2021-11-25 10:55:45 - test_network_sriov_stress.py - [line:317] - root - INFO - Successfully got vf device name of vm1: ens5
2021-11-25 10:55:50 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 192.168.10.13
root@localhost:~# 
2021-11-25 10:55:53 - test_network_sriov_stress.py - [line:268] - root - INFO - Successfully assigned ip to ethernet: ens5
2021-11-25 10:55:58 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 down
root@localhost:~# 
2021-11-25 10:56:06 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 hw ether 1234567890ab
root@localhost:~# 
2021-11-25 10:56:14 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 up
root@localhost:~# 
2021-11-25 10:56:22 - sshInstance.py - [line:89] - root - INFO - nmcli device connect ens5
Command 'nmcli' not found, but can be installed with:
apt install network-manager
root@localhost:~# 
2021-11-25 10:56:30 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5
ens5: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.10.13  netmask 255.255.255.0  broadcast 192.168.10.255
        inet6 fe80::1034:56ff:fe78:90ab  prefixlen 64  scopeid 0x20<link>
        ether 12:34:56:78:90:ab  txqueuelen 1000  (Ethernet)
        RX packets 0  bytes 0 (0.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 9  bytes 766 (766.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
root@localhost:~# 
2021-11-25 10:56:38 - sshInstance.py - [line:89] - root - INFO - exit
logout
Connection to 192.168.122.156 closed.
[root@WW30CYP10 ~]# 
2021-11-25 10:56:41 - test_network_sriov_stress.py - [line:428] - root - INFO - Ping two vms IP from SUT:
2021-11-25 10:56:45 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.10.12
PING 192.168.10.12 (192.168.10.12) 56(84) bytes of data.
64 bytes from 192.168.10.12: icmp_seq=1 ttl=64 time=5.36 ms
2021-11-25 10:56:46 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.12: icmp_seq=2 ttl=64 time=0.052 ms
2021-11-25 10:56:47 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.12: icmp_seq=3 ttl=64 time=0.047 ms
2021-11-25 10:56:48 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.12: icmp_seq=4 ttl=64 time=0.032 ms
2021-11-25 10:56:49 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.12: icmp_seq=5 ttl=64 time=0.041 ms

--- 192.168.10.12 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4063ms
rtt min/avg/max/mdev = 0.032/1.105/5.355/2.125 ms
[root@WW30CYP10 ~]# 
2021-11-25 10:56:56 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.10.13
PING 192.168.10.13 (192.168.10.13) 56(84) bytes of data.
64 bytes from 192.168.10.13: icmp_seq=1 ttl=64 time=5.36 ms
2021-11-25 10:56:57 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=2 ttl=64 time=0.058 ms
2021-11-25 10:56:58 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=3 ttl=64 time=0.036 ms
2021-11-25 10:56:59 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=4 ttl=64 time=0.039 ms
2021-11-25 10:57:00 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=5 ttl=64 time=0.038 ms

--- 192.168.10.13 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4058ms
rtt min/avg/max/mdev = 0.036/1.105/5.358/2.126 ms
[root@WW30CYP10 ~]# 
2021-11-25 10:57:03 - test_network_sriov_stress.py - [line:436] - root - INFO - ping VMtest2 IP from VMtest1
2021-11-25 10:57:07 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.122.72
PING 192.168.122.72 (192.168.122.72) 56(84) bytes of data.
64 bytes from 192.168.122.72: icmp_seq=1 ttl=64 time=0.232 ms
2021-11-25 10:57:08 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=2 ttl=64 time=0.082 ms
2021-11-25 10:57:09 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=3 ttl=64 time=0.114 ms
2021-11-25 10:57:10 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=4 ttl=64 time=0.082 ms
2021-11-25 10:57:11 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=5 ttl=64 time=0.093 ms

--- 192.168.122.72 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4115ms
rtt min/avg/max/mdev = 0.082/0.120/0.232/0.058 ms
[root@WW30CYP10 ~]# 
2021-11-25 10:57:19 - sshInstance.py - [line:89] - root - INFO - ssh root@192.168.122.72
root@192.168.122.72's password: 
2021-11-25 10:57:27 - sshInstance.py - [line:89] - root - INFO - 
Welcome to Ubuntu 20.04 LTS (GNU/Linux 5.4.0-26-generic x86_64)
 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage
  System information as of Wed 24 Nov 2021 09:57:36 PM EST
  System load:  0.0                Processes:             130
  Usage of /:   46.7% of 19.07GB   Users logged in:       0
  Memory usage: 30%                IPv4 address for ens3: 192.168.122.72
  Swap usage:   0%                 IPv4 address for ens5: 192.168.10.12

366 updates can be installed immediately.
222 of these updates are security updates.
To see these additional updates run: apt list --upgradable

Last login: Wed Nov 24 21:53:46 2021 from 192.168.122.1
root@localhost:~# 
2021-11-25 10:57:34 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.10.13
PING 192.168.10.13 (192.168.10.13) 56(84) bytes of data.
64 bytes from 192.168.10.13: icmp_seq=1 ttl=64 time=0.151 ms
2021-11-25 10:57:35 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=2 ttl=64 time=0.050 ms
2021-11-25 10:57:36 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=3 ttl=64 time=0.054 ms
2021-11-25 10:57:37 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=4 ttl=64 time=0.033 ms
2021-11-25 10:57:38 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=5 ttl=64 time=0.029 ms

--- 192.168.10.13 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4074ms
rtt min/avg/max/mdev = 0.029/0.063/0.151/0.044 ms
root@localhost:~# 
2021-11-25 10:58:17 - sshInstance.py - [line:89] - root - INFO - exit
logout
Connection to 192.168.122.72 closed.
[root@WW30CYP10 ~]# 
2021-11-25 10:58:20 - test_network_sriov_stress.py - [line:444] - root - INFO - ping VMtest2 IP from VMtest1
2021-11-25 10:58:24 - sshInstance.py - [line:69] - root - INFO - ping -c 5 -I 192.168.10.11 192.168.10.10
PING 192.168.10.10 (192.168.10.10) from 192.168.10.11 : 56(84) bytes of data.
64 bytes from 192.168.10.10: icmp_seq=1 ttl=64 time=0.056 ms
2021-11-25 10:58:25 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=2 ttl=64 time=0.021 ms
2021-11-25 10:58:26 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=3 ttl=64 time=0.013 ms
2021-11-25 10:58:27 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=4 ttl=64 time=0.010 ms
2021-11-25 10:58:28 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=5 ttl=64 time=0.011 ms

--- 192.168.10.10 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4085ms
rtt min/avg/max/mdev = 0.010/0.022/0.056/0.017 ms
[root@WW30CYP10 ~]# 
2021-11-25 10:58:34 - sshInstance.py - [line:44] - root - INFO - echo 0 > /sys/class/net/ens787f0/device/sriov_numvfs
2021-11-25 10:58:36 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 10:58:41 - test_network_sriov_stress.py - [line:237] - root - INFO - Successfully removed VFs from PF.
2021-11-25 10:58:44 - sshInstance.py - [line:44] - root - INFO - virsh destroy VMtest1
2021-11-25 10:58:45 - sshInstance.py - [line:48] - root - INFO - Domain VMtest1 destroyed


2021-11-25 10:58:50 - test_network_sriov_stress.py - [line:247] - root - INFO - Successfully shut down the VM: VMtest1
2021-11-25 10:58:53 - sshInstance.py - [line:44] - root - INFO - virsh undefine VMtest1
2021-11-25 10:58:53 - sshInstance.py - [line:48] - root - INFO - Domain VMtest1 has been undefined


2021-11-25 10:58:58 - test_network_sriov_stress.py - [line:254] - root - INFO - Successfully removed the VM: VMtest1
2021-11-25 10:59:01 - sshInstance.py - [line:44] - root - INFO - virsh destroy VMtest2
2021-11-25 10:59:01 - sshInstance.py - [line:48] - root - INFO - Domain VMtest2 destroyed


2021-11-25 10:59:06 - test_network_sriov_stress.py - [line:247] - root - INFO - Successfully shut down the VM: VMtest2
2021-11-25 10:59:09 - sshInstance.py - [line:44] - root - INFO - virsh undefine VMtest2
2021-11-25 10:59:09 - sshInstance.py - [line:48] - root - INFO - Domain VMtest2 has been undefined


2021-11-25 10:59:14 - test_network_sriov_stress.py - [line:254] - root - INFO - Successfully removed the VM: VMtest2
2021-11-25 10:59:14 - test_network_sriov_stress.py - [line:349] - root - INFO - 

********************************************************Stress Disable and Enable for 4 time when VF is Assigned VM guest.*************************************************************


2021-11-25 10:59:17 - sshInstance.py - [line:44] - root - INFO - /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -s | grep ens787f0 | awk '{print $1;}'
2021-11-25 10:59:18 - sshInstance.py - [line:48] - root - INFO - 0000:31:00.0

2021-11-25 10:59:23 - test_network_sriov_stress.py - [line:80] - root - INFO - pf_id was found: 0000:31:00.0

2021-11-25 10:59:23 - test_network_sriov_stress.py - [line:357] - root - INFO - format_pf_id is 0000\:31\:00.0

2021-11-25 10:59:23 - test_network_sriov_stress.py - [line:360] - root - INFO - pf_id_key: 31
2021-11-25 10:59:28 - sshInstance.py - [line:89] - root - INFO - ifconfig ens787f0 192.168.10.11
[root@WW30CYP10 ~]# 
2021-11-25 10:59:31 - test_network_sriov_stress.py - [line:268] - root - INFO - Successfully assigned ip to ethernet: ens787f0
2021-11-25 10:59:34 - sshInstance.py - [line:44] - root - INFO - echo 4 > /sys/class/net/ens787f0/device/sriov_numvfs
2021-11-25 10:59:34 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 10:59:39 - test_network_sriov_stress.py - [line:95] - root - INFO - Successfully Virtualized PF to VFs.
2021-11-25 10:59:42 - sshInstance.py - [line:44] - root - INFO -  lspci | grep "Virtual" | awk '{print $1;}'list
2021-11-25 10:59:42 - sshInstance.py - [line:48] - root - INFO - 31:01.0
31:01.1
31:01.2
31:01.3

2021-11-25 10:59:47 - test_network_sriov_stress.py - [line:109] - root - INFO - Succssfully Gotten vf_id list:

2021-11-25 10:59:50 - sshInstance.py - [line:44] - root - INFO -  modinfo vfio-pci | grep "vfio_pci" | awk '{ print $2;}'
2021-11-25 10:59:50 - sshInstance.py - [line:48] - root - INFO - vfio_pci

2021-11-25 10:59:55 - test_network_sriov_stress.py - [line:162] - root - INFO - Successfuly modeprobe vfio-pci
2021-11-25 10:59:58 - sshInstance.py - [line:44] - root - INFO - /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -b vfio-pci 31:01.0
2021-11-25 10:59:59 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:00:04 - test_network_sriov_stress.py - [line:141] - root - INFO - Successfuly bound VF to vfio-pci
2021-11-25 11:00:07 - sshInstance.py - [line:44] - root - INFO - /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -b vfio-pci 31:01.1
2021-11-25 11:00:08 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:00:13 - test_network_sriov_stress.py - [line:141] - root - INFO - Successfuly bound VF to vfio-pci
2021-11-25 11:00:13 - test_network_sriov_stress.py - [line:381] - root - INFO - lspci -Dnn | grep 31:01.1
2021-11-25 11:00:16 - sshInstance.py - [line:44] - root - INFO - lspci -Dnn | grep 31:01.1
2021-11-25 11:00:16 - sshInstance.py - [line:48] - root - INFO - 0000:31:01.1 Ethernet controller [0200]: Intel Corporation Ethernet Adaptive Virtual Function [8086:1889] (rev 02)

2021-11-25 11:00:21 - test_network_sriov_stress.py - [line:392] - root - INFO - Successfully get vf device id: 8086:1889
2021-11-25 11:00:24 - sshInstance.py - [line:44] - root - INFO - virsh net-info default | grep "Active" | awk '{print $2;}'
2021-11-25 11:00:24 - sshInstance.py - [line:48] - root - INFO - yes

2021-11-25 11:00:29 - test_network_sriov_stress.py - [line:170] - root - INFO - Default network is active? yes

2021-11-25 11:00:33 - sshInstance.py - [line:69] - root - INFO - virt-install --name VMtest1 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_0 --boot hd --disk path=/home//image/ubuntu20.04.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=59900 --noautoconsole

** (process:102206): [1;33mWARNING[0m **: [34m11:00:44.764[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
ERROR    Requested operation is not valid: PCI device 0000:31:01.0 is in use by driver QEMU, domain VMtest1
Domain installation does not appear to have been successful.
If it was, you can restart your domain by running:
  virsh --connect qemu:///system start VMtest1
otherwise, please restart your installation.
[root@WW30CYP10 ~]# 
2021-11-25 11:00:36 - test_network_sriov_stress.py - [line:202] - root - ERROR - Failed to create a VM: virt-install --name VMtest1 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_0 --boot hd --disk path=/home//image/ubuntu20.04.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=59900 --noautoconsole

** (process:102206): [1;33mWARNING[0m **: [34m11:00:44.764[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
ERROR    Requested operation is not valid: PCI device 0000:31:01.0 is in use by driver QEMU, domain VMtest1
Domain installation does not appear to have been successful.
If it was, you can restart your domain by running:
  virsh --connect qemu:///system start VMtest1
otherwise, please restart your installation.
[root@WW30CYP10 ~]# 
2021-11-25 11:00:36 - test_network_sriov_stress.py - [line:203] - root - ERROR - Failed to create a VM: 
2021-11-25 11:00:40 - sshInstance.py - [line:69] - root - INFO - virt-install --name VMtest1 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_0 --boot hd --disk path=/home//image/ubuntu20.04.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=59900 --noautoconsole

** (process:102265): [1;33mWARNING[0m **: [34m11:00:51.776[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
2021-11-25 11:00:43 - sshInstance.py - [line:69] - root - INFO - Domain creation completed.
[root@WW30CYP10 ~]# 
2021-11-25 11:00:46 - test_network_sriov_stress.py - [line:205] - root - INFO - Successfully created a VM: VMtest1
2021-11-25 11:00:50 - sshInstance.py - [line:69] - root - INFO - virt-install --name VMtest2 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_1 --boot hd --disk path=/home//image/ubuntu20.04_2.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port==5901 --noautoconsole

** (process:102330): [1;33mWARNING[0m **: [34m11:01:01.809[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
ERROR    Requested operation is not valid: PCI device 0000:31:01.1 is in use by driver QEMU, domain VMtest2
Domain installation does not appear to have been successful.
If it was, you can restart your domain by running:
  virsh --connect qemu:///system start VMtest2
otherwise, please restart your installation.
[root@WW30CYP10 ~]# 
2021-11-25 11:00:53 - test_network_sriov_stress.py - [line:202] - root - ERROR - Failed to create a VM: virt-install --name VMtest2 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_1 --boot hd --disk path=/home//image/ubuntu20.04_2.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port==5901 --noautoconsole

** (process:102330): [1;33mWARNING[0m **: [34m11:01:01.809[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
ERROR    Requested operation is not valid: PCI device 0000:31:01.1 is in use by driver QEMU, domain VMtest2
Domain installation does not appear to have been successful.
If it was, you can restart your domain by running:
  virsh --connect qemu:///system start VMtest2
otherwise, please restart your installation.
[root@WW30CYP10 ~]# 
2021-11-25 11:00:53 - test_network_sriov_stress.py - [line:203] - root - ERROR - Failed to create a VM: 
2021-11-25 11:00:57 - sshInstance.py - [line:69] - root - INFO - virt-install --name VMtest2 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_1 --boot hd --disk path=/home//image/ubuntu20.04_2.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port==5901 --noautoconsole

** (process:102403): [1;33mWARNING[0m **: [34m11:01:08.816[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
2021-11-25 11:01:00 - sshInstance.py - [line:69] - root - INFO - Domain creation completed.
[root@WW30CYP10 ~]# 
2021-11-25 11:01:03 - test_network_sriov_stress.py - [line:205] - root - INFO - Successfully created a VM: VMtest2
2021-11-25 11:01:06 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
2021-11-25 11:01:06 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:01:11 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest1
2021-11-25 11:02:14 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
2021-11-25 11:02:14 - sshInstance.py - [line:48] - root - INFO - 192.168.122.72/24

2021-11-25 11:02:19 - test_network_sriov_stress.py - [line:216] - root - INFO - Successfully got VMtest1 IP: 192.168.122.72/24

2021-11-25 11:02:22 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
2021-11-25 11:02:22 - sshInstance.py - [line:48] - root - INFO - 192.168.122.156/24

2021-11-25 11:02:27 - test_network_sriov_stress.py - [line:216] - root - INFO - Successfully got VMtest2 IP: 192.168.122.156/24

2021-11-25 11:02:27 - test_network_sriov_stress.py - [line:409] - root - INFO - ip of VM1: 192.168.122.72
2021-11-25 11:02:27 - test_network_sriov_stress.py - [line:410] - root - INFO - ip of VM1: 192.168.122.156
2021-11-25 11:02:31 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.122.72
PING 192.168.122.72 (192.168.122.72) 56(84) bytes of data.
64 bytes from 192.168.122.72: icmp_seq=1 ttl=64 time=0.126 ms
2021-11-25 11:02:32 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=2 ttl=64 time=0.169 ms
2021-11-25 11:02:33 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=3 ttl=64 time=0.100 ms
2021-11-25 11:02:34 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=4 ttl=64 time=0.106 ms
2021-11-25 11:02:35 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=5 ttl=64 time=0.088 ms

--- 192.168.122.72 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4100ms
rtt min/avg/max/mdev = 0.088/0.117/0.169/0.031 ms
[root@WW30CYP10 ~]# 
2021-11-25 11:02:43 - sshInstance.py - [line:89] - root - INFO - ssh root@192.168.122.72
root@192.168.122.72's password: 
2021-11-25 11:02:51 - sshInstance.py - [line:89] - root - INFO - 
Welcome to Ubuntu 20.04 LTS (GNU/Linux 5.4.0-26-generic x86_64)
 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage
  System information as of Wed 24 Nov 2021 10:03:00 PM EST
  System load:  0.04               Processes:             137
  Usage of /:   46.7% of 19.07GB   Users logged in:       0
  Memory usage: 30%                IPv4 address for ens3: 192.168.122.72
  Swap usage:   0%

366 updates can be installed immediately.
222 of these updates are security updates.
To see these additional updates run: apt list --upgradable

Last login: Wed Nov 24 21:57:36 2021 from 192.168.122.1
root@localhost:~# 
2021-11-25 11:02:59 - sshInstance.py - [line:89] - root - INFO - lspci -Dnn | grep "8086:1889" | awk '{print $1;}'
0000:00:05.0
root@localhost:~# 
2021-11-25 11:03:05 - test_network_sriov_stress.py - [line:306] - root - INFO - successfully got vf pci id of vm1: 0000:00:05.0
2021-11-25 11:03:10 - sshInstance.py - [line:89] - root - INFO - ls /sys/bus/pci/devices/0000\:00\:05.0/net/ --color=never
ens5
root@localhost:~# 
2021-11-25 11:03:15 - test_network_sriov_stress.py - [line:317] - root - INFO - Successfully got vf device name of vm1: ens5
2021-11-25 11:03:20 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 192.168.10.12
root@localhost:~# 
2021-11-25 11:03:23 - test_network_sriov_stress.py - [line:268] - root - INFO - Successfully assigned ip to ethernet: ens5
2021-11-25 11:03:28 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 down
root@localhost:~# 
2021-11-25 11:03:36 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 hw ether 1234567890ac
root@localhost:~# 
2021-11-25 11:03:44 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 up
root@localhost:~# 
2021-11-25 11:03:52 - sshInstance.py - [line:89] - root - INFO - nmcli device connect ens5
Command 'nmcli' not found, but can be installed with:
apt install network-manager
root@localhost:~# 
2021-11-25 11:04:01 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5
ens5: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.10.12  netmask 255.255.255.0  broadcast 192.168.10.255
        inet6 fe80::1034:56ff:fe78:90ac  prefixlen 64  scopeid 0x20<link>
        ether 12:34:56:78:90:ac  txqueuelen 1000  (Ethernet)
        RX packets 1  bytes 346 (346.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 8  bytes 696 (696.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
root@localhost:~# 
2021-11-25 11:04:09 - sshInstance.py - [line:89] - root - INFO - exit
logout
Connection to 192.168.122.72 closed.
[root@WW30CYP10 ~]# 
2021-11-25 11:04:16 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.122.156
PING 192.168.122.156 (192.168.122.156) 56(84) bytes of data.
64 bytes from 192.168.122.156: icmp_seq=1 ttl=64 time=0.114 ms
2021-11-25 11:04:17 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.156: icmp_seq=2 ttl=64 time=0.100 ms
2021-11-25 11:04:18 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.156: icmp_seq=3 ttl=64 time=0.070 ms
2021-11-25 11:04:19 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.156: icmp_seq=4 ttl=64 time=0.075 ms
2021-11-25 11:04:20 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.156: icmp_seq=5 ttl=64 time=0.072 ms

--- 192.168.122.156 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4113ms
rtt min/avg/max/mdev = 0.070/0.086/0.114/0.018 ms
[root@WW30CYP10 ~]# 
2021-11-25 11:04:28 - sshInstance.py - [line:89] - root - INFO - ssh root@192.168.122.156
root@192.168.122.156's password: 
2021-11-25 11:04:36 - sshInstance.py - [line:89] - root - INFO - 
Welcome to Ubuntu 20.04 LTS (GNU/Linux 5.4.0-26-generic x86_64)
 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage
  System information as of Wed 24 Nov 2021 10:04:44 PM EST
  System load:  0.07               Processes:             145
  Usage of /:   46.5% of 19.07GB   Users logged in:       0
  Memory usage: 30%                IPv4 address for ens3: 192.168.122.156
  Swap usage:   0%

366 updates can be installed immediately.
222 of these updates are security updates.
To see these additional updates run: apt list --upgradable

Last login: Wed Nov 24 21:55:30 2021 from 192.168.122.1
root@localhost:~# 
2021-11-25 11:04:44 - sshInstance.py - [line:89] - root - INFO - lspci -Dnn | grep "8086:1889" | awk '{print $1;}'
0000:00:05.0
root@localhost:~# 
2021-11-25 11:04:50 - test_network_sriov_stress.py - [line:306] - root - INFO - successfully got vf pci id of vm1: 0000:00:05.0
2021-11-25 11:04:55 - sshInstance.py - [line:89] - root - INFO - ls /sys/bus/pci/devices/0000\:00\:05.0/net/ --color=never
ens5
root@localhost:~# 
2021-11-25 11:05:00 - test_network_sriov_stress.py - [line:317] - root - INFO - Successfully got vf device name of vm1: ens5
2021-11-25 11:05:05 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 192.168.10.13
root@localhost:~# 
2021-11-25 11:05:08 - test_network_sriov_stress.py - [line:268] - root - INFO - Successfully assigned ip to ethernet: ens5
2021-11-25 11:05:13 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 down
root@localhost:~# 
2021-11-25 11:05:21 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 hw ether 1234567890ab
root@localhost:~# 
2021-11-25 11:05:29 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 up
root@localhost:~# 
2021-11-25 11:05:37 - sshInstance.py - [line:89] - root - INFO - nmcli device connect ens5
Command 'nmcli' not found, but can be installed with:
apt install network-manager
root@localhost:~# 
2021-11-25 11:05:45 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5
ens5: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.10.13  netmask 255.255.255.0  broadcast 192.168.10.255
        inet6 fe80::1034:56ff:fe78:90ab  prefixlen 64  scopeid 0x20<link>
        ether 12:34:56:78:90:ab  txqueuelen 1000  (Ethernet)
        RX packets 0  bytes 0 (0.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 9  bytes 766 (766.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
root@localhost:~# 
2021-11-25 11:05:53 - sshInstance.py - [line:89] - root - INFO - exit
logout
Connection to 192.168.122.156 closed.
[root@WW30CYP10 ~]# 
2021-11-25 11:05:56 - test_network_sriov_stress.py - [line:428] - root - INFO - Ping two vms IP from SUT:
2021-11-25 11:06:00 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.10.12
PING 192.168.10.12 (192.168.10.12) 56(84) bytes of data.
64 bytes from 192.168.10.12: icmp_seq=1 ttl=64 time=6.14 ms
2021-11-25 11:06:01 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.12: icmp_seq=2 ttl=64 time=0.038 ms
2021-11-25 11:06:02 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.12: icmp_seq=3 ttl=64 time=0.036 ms
2021-11-25 11:06:03 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.12: icmp_seq=4 ttl=64 time=0.047 ms
2021-11-25 11:06:04 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.12: icmp_seq=5 ttl=64 time=0.043 ms

--- 192.168.10.12 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4058ms
rtt min/avg/max/mdev = 0.036/1.261/6.142/2.440 ms
[root@WW30CYP10 ~]# 
2021-11-25 11:06:11 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.10.13
PING 192.168.10.13 (192.168.10.13) 56(84) bytes of data.
64 bytes from 192.168.10.13: icmp_seq=1 ttl=64 time=6.01 ms
2021-11-25 11:06:12 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=2 ttl=64 time=0.066 ms
2021-11-25 11:06:13 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=3 ttl=64 time=0.044 ms
2021-11-25 11:06:14 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=4 ttl=64 time=0.041 ms
2021-11-25 11:06:15 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=5 ttl=64 time=0.035 ms

--- 192.168.10.13 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4053ms
rtt min/avg/max/mdev = 0.035/1.239/6.012/2.386 ms
[root@WW30CYP10 ~]# 
2021-11-25 11:06:18 - test_network_sriov_stress.py - [line:436] - root - INFO - ping VMtest2 IP from VMtest1
2021-11-25 11:06:22 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.122.72
PING 192.168.122.72 (192.168.122.72) 56(84) bytes of data.
64 bytes from 192.168.122.72: icmp_seq=1 ttl=64 time=0.236 ms
2021-11-25 11:06:23 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=2 ttl=64 time=0.108 ms
2021-11-25 11:06:24 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=3 ttl=64 time=0.167 ms
2021-11-25 11:06:25 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=4 ttl=64 time=0.082 ms
2021-11-25 11:06:26 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=5 ttl=64 time=0.105 ms

--- 192.168.122.72 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4111ms
rtt min/avg/max/mdev = 0.082/0.139/0.236/0.057 ms
[root@WW30CYP10 ~]# 
2021-11-25 11:06:34 - sshInstance.py - [line:89] - root - INFO - ssh root@192.168.122.72
root@192.168.122.72's password: 
2021-11-25 11:06:42 - sshInstance.py - [line:89] - root - INFO - 
Welcome to Ubuntu 20.04 LTS (GNU/Linux 5.4.0-26-generic x86_64)
 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage
  System information as of Wed 24 Nov 2021 10:06:50 PM EST
  System load:  0.0                Processes:             127
  Usage of /:   46.7% of 19.07GB   Users logged in:       0
  Memory usage: 30%                IPv4 address for ens3: 192.168.122.72
  Swap usage:   0%                 IPv4 address for ens5: 192.168.10.12

366 updates can be installed immediately.
222 of these updates are security updates.
To see these additional updates run: apt list --upgradable

Last login: Wed Nov 24 22:03:01 2021 from 192.168.122.1
root@localhost:~# 
2021-11-25 11:06:49 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.10.13
PING 192.168.10.13 (192.168.10.13) 56(84) bytes of data.
64 bytes from 192.168.10.13: icmp_seq=1 ttl=64 time=0.231 ms
2021-11-25 11:06:50 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=2 ttl=64 time=0.043 ms
2021-11-25 11:06:51 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=3 ttl=64 time=0.038 ms
2021-11-25 11:06:52 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=4 ttl=64 time=0.036 ms
2021-11-25 11:06:53 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=5 ttl=64 time=0.048 ms

--- 192.168.10.13 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4091ms
rtt min/avg/max/mdev = 0.036/0.079/0.231/0.076 ms
root@localhost:~# 
2021-11-25 11:07:32 - sshInstance.py - [line:89] - root - INFO - exit
logout
Connection to 192.168.122.72 closed.
[root@WW30CYP10 ~]# 
2021-11-25 11:07:35 - test_network_sriov_stress.py - [line:444] - root - INFO - ping VMtest2 IP from VMtest1
2021-11-25 11:07:39 - sshInstance.py - [line:69] - root - INFO - ping -c 5 -I 192.168.10.11 192.168.10.10
PING 192.168.10.10 (192.168.10.10) from 192.168.10.11 : 56(84) bytes of data.
64 bytes from 192.168.10.10: icmp_seq=1 ttl=64 time=0.109 ms
2021-11-25 11:07:40 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=2 ttl=64 time=0.010 ms
2021-11-25 11:07:41 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=3 ttl=64 time=0.008 ms
2021-11-25 11:07:42 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=4 ttl=64 time=0.011 ms
2021-11-25 11:07:43 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=5 ttl=64 time=0.010 ms

--- 192.168.10.10 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4081ms
rtt min/avg/max/mdev = 0.008/0.029/0.109/0.040 ms
[root@WW30CYP10 ~]# 
2021-11-25 11:07:49 - sshInstance.py - [line:44] - root - INFO - echo 0 > /sys/class/net/ens787f0/device/sriov_numvfs
2021-11-25 11:07:51 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:07:56 - test_network_sriov_stress.py - [line:237] - root - INFO - Successfully removed VFs from PF.
2021-11-25 11:07:59 - sshInstance.py - [line:44] - root - INFO - virsh destroy VMtest1
2021-11-25 11:08:00 - sshInstance.py - [line:48] - root - INFO - Domain VMtest1 destroyed


2021-11-25 11:08:05 - test_network_sriov_stress.py - [line:247] - root - INFO - Successfully shut down the VM: VMtest1
2021-11-25 11:08:08 - sshInstance.py - [line:44] - root - INFO - virsh undefine VMtest1
2021-11-25 11:08:08 - sshInstance.py - [line:48] - root - INFO - Domain VMtest1 has been undefined


2021-11-25 11:08:13 - test_network_sriov_stress.py - [line:254] - root - INFO - Successfully removed the VM: VMtest1
2021-11-25 11:08:16 - sshInstance.py - [line:44] - root - INFO - virsh destroy VMtest2
2021-11-25 11:08:16 - sshInstance.py - [line:48] - root - INFO - Domain VMtest2 destroyed


2021-11-25 11:08:21 - test_network_sriov_stress.py - [line:247] - root - INFO - Successfully shut down the VM: VMtest2
2021-11-25 11:08:24 - sshInstance.py - [line:44] - root - INFO - virsh undefine VMtest2
2021-11-25 11:08:24 - sshInstance.py - [line:48] - root - INFO - Domain VMtest2 has been undefined


2021-11-25 11:08:29 - test_network_sriov_stress.py - [line:254] - root - INFO - Successfully removed the VM: VMtest2
2021-11-25 11:08:29 - test_network_sriov_stress.py - [line:349] - root - INFO - 

********************************************************Stress Disable and Enable for 5 time when VF is Assigned VM guest.*************************************************************


2021-11-25 11:08:32 - sshInstance.py - [line:44] - root - INFO - /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -s | grep ens787f0 | awk '{print $1;}'
2021-11-25 11:08:33 - sshInstance.py - [line:48] - root - INFO - 0000:31:00.0

2021-11-25 11:08:38 - test_network_sriov_stress.py - [line:80] - root - INFO - pf_id was found: 0000:31:00.0

2021-11-25 11:08:38 - test_network_sriov_stress.py - [line:357] - root - INFO - format_pf_id is 0000\:31\:00.0

2021-11-25 11:08:38 - test_network_sriov_stress.py - [line:360] - root - INFO - pf_id_key: 31
2021-11-25 11:08:43 - sshInstance.py - [line:89] - root - INFO - ifconfig ens787f0 192.168.10.11
[root@WW30CYP10 ~]# 
2021-11-25 11:08:46 - test_network_sriov_stress.py - [line:268] - root - INFO - Successfully assigned ip to ethernet: ens787f0
2021-11-25 11:08:49 - sshInstance.py - [line:44] - root - INFO - echo 4 > /sys/class/net/ens787f0/device/sriov_numvfs
2021-11-25 11:08:49 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:08:54 - test_network_sriov_stress.py - [line:95] - root - INFO - Successfully Virtualized PF to VFs.
2021-11-25 11:08:57 - sshInstance.py - [line:44] - root - INFO -  lspci | grep "Virtual" | awk '{print $1;}'list
2021-11-25 11:08:57 - sshInstance.py - [line:48] - root - INFO - 31:01.0
31:01.1
31:01.2
31:01.3

2021-11-25 11:09:02 - test_network_sriov_stress.py - [line:109] - root - INFO - Succssfully Gotten vf_id list:

2021-11-25 11:09:05 - sshInstance.py - [line:44] - root - INFO -  modinfo vfio-pci | grep "vfio_pci" | awk '{ print $2;}'
2021-11-25 11:09:05 - sshInstance.py - [line:48] - root - INFO - vfio_pci

2021-11-25 11:09:10 - test_network_sriov_stress.py - [line:162] - root - INFO - Successfuly modeprobe vfio-pci
2021-11-25 11:09:13 - sshInstance.py - [line:44] - root - INFO - /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -b vfio-pci 31:01.0
2021-11-25 11:09:14 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:09:19 - test_network_sriov_stress.py - [line:141] - root - INFO - Successfuly bound VF to vfio-pci
2021-11-25 11:09:22 - sshInstance.py - [line:44] - root - INFO - /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -b vfio-pci 31:01.1
2021-11-25 11:09:23 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:09:28 - test_network_sriov_stress.py - [line:141] - root - INFO - Successfuly bound VF to vfio-pci
2021-11-25 11:09:28 - test_network_sriov_stress.py - [line:381] - root - INFO - lspci -Dnn | grep 31:01.1
2021-11-25 11:09:31 - sshInstance.py - [line:44] - root - INFO - lspci -Dnn | grep 31:01.1
2021-11-25 11:09:31 - sshInstance.py - [line:48] - root - INFO - 0000:31:01.1 Ethernet controller [0200]: Intel Corporation Ethernet Adaptive Virtual Function [8086:1889] (rev 02)

2021-11-25 11:09:36 - test_network_sriov_stress.py - [line:392] - root - INFO - Successfully get vf device id: 8086:1889
2021-11-25 11:09:39 - sshInstance.py - [line:44] - root - INFO - virsh net-info default | grep "Active" | awk '{print $2;}'
2021-11-25 11:09:39 - sshInstance.py - [line:48] - root - INFO - yes

2021-11-25 11:09:44 - test_network_sriov_stress.py - [line:170] - root - INFO - Default network is active? yes

2021-11-25 11:09:48 - sshInstance.py - [line:69] - root - INFO - virt-install --name VMtest1 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_0 --boot hd --disk path=/home//image/ubuntu20.04.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=59900 --noautoconsole

** (process:103620): [1;33mWARNING[0m **: [34m11:09:59.712[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
ERROR    Requested operation is not valid: PCI device 0000:31:01.0 is in use by driver QEMU, domain VMtest1
Domain installation does not appear to have been successful.
If it was, you can restart your domain by running:
  virsh --connect qemu:///system start VMtest1
otherwise, please restart your installation.
[root@WW30CYP10 ~]# 
2021-11-25 11:09:51 - test_network_sriov_stress.py - [line:202] - root - ERROR - Failed to create a VM: virt-install --name VMtest1 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_0 --boot hd --disk path=/home//image/ubuntu20.04.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=59900 --noautoconsole

** (process:103620): [1;33mWARNING[0m **: [34m11:09:59.712[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
ERROR    Requested operation is not valid: PCI device 0000:31:01.0 is in use by driver QEMU, domain VMtest1
Domain installation does not appear to have been successful.
If it was, you can restart your domain by running:
  virsh --connect qemu:///system start VMtest1
otherwise, please restart your installation.
[root@WW30CYP10 ~]# 
2021-11-25 11:09:51 - test_network_sriov_stress.py - [line:203] - root - ERROR - Failed to create a VM: 
2021-11-25 11:09:55 - sshInstance.py - [line:69] - root - INFO - virt-install --name VMtest1 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_0 --boot hd --disk path=/home//image/ubuntu20.04.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=59900 --noautoconsole

** (process:103682): [1;33mWARNING[0m **: [34m11:10:06.715[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
2021-11-25 11:09:58 - sshInstance.py - [line:69] - root - INFO - Domain creation completed.
[root@WW30CYP10 ~]# 
2021-11-25 11:10:01 - test_network_sriov_stress.py - [line:205] - root - INFO - Successfully created a VM: VMtest1
2021-11-25 11:10:05 - sshInstance.py - [line:69] - root - INFO - virt-install --name VMtest2 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_1 --boot hd --disk path=/home//image/ubuntu20.04_2.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port==5901 --noautoconsole

** (process:103754): [1;33mWARNING[0m **: [34m11:10:16.717[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
ERROR    Requested operation is not valid: PCI device 0000:31:01.1 is in use by driver QEMU, domain VMtest2
Domain installation does not appear to have been successful.
If it was, you can restart your domain by running:
  virsh --connect qemu:///system start VMtest2
otherwise, please restart your installation.
[root@WW30CYP10 ~]# 
2021-11-25 11:10:08 - test_network_sriov_stress.py - [line:202] - root - ERROR - Failed to create a VM: virt-install --name VMtest2 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_1 --boot hd --disk path=/home//image/ubuntu20.04_2.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port==5901 --noautoconsole

** (process:103754): [1;33mWARNING[0m **: [34m11:10:16.717[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
ERROR    Requested operation is not valid: PCI device 0000:31:01.1 is in use by driver QEMU, domain VMtest2
Domain installation does not appear to have been successful.
If it was, you can restart your domain by running:
  virsh --connect qemu:///system start VMtest2
otherwise, please restart your installation.
[root@WW30CYP10 ~]# 
2021-11-25 11:10:08 - test_network_sriov_stress.py - [line:203] - root - ERROR - Failed to create a VM: 
2021-11-25 11:10:12 - sshInstance.py - [line:69] - root - INFO - virt-install --name VMtest2 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_1 --boot hd --disk path=/home//image/ubuntu20.04_2.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port==5901 --noautoconsole

** (process:103813): [1;33mWARNING[0m **: [34m11:10:23.740[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
2021-11-25 11:10:15 - sshInstance.py - [line:69] - root - INFO - Domain creation completed.
[root@WW30CYP10 ~]# 
2021-11-25 11:10:18 - test_network_sriov_stress.py - [line:205] - root - INFO - Successfully created a VM: VMtest2
2021-11-25 11:10:21 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
2021-11-25 11:10:21 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:10:26 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest1
2021-11-25 11:11:29 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
2021-11-25 11:11:29 - sshInstance.py - [line:48] - root - INFO - 192.168.122.72/24

2021-11-25 11:11:34 - test_network_sriov_stress.py - [line:216] - root - INFO - Successfully got VMtest1 IP: 192.168.122.72/24

2021-11-25 11:11:37 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
2021-11-25 11:11:37 - sshInstance.py - [line:48] - root - INFO - 192.168.122.156/24

2021-11-25 11:11:42 - test_network_sriov_stress.py - [line:216] - root - INFO - Successfully got VMtest2 IP: 192.168.122.156/24

2021-11-25 11:11:42 - test_network_sriov_stress.py - [line:409] - root - INFO - ip of VM1: 192.168.122.72
2021-11-25 11:11:42 - test_network_sriov_stress.py - [line:410] - root - INFO - ip of VM1: 192.168.122.156
2021-11-25 11:11:46 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.122.72
PING 192.168.122.72 (192.168.122.72) 56(84) bytes of data.
64 bytes from 192.168.122.72: icmp_seq=1 ttl=64 time=0.126 ms
2021-11-25 11:11:47 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=2 ttl=64 time=0.132 ms
2021-11-25 11:11:48 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=3 ttl=64 time=0.111 ms
2021-11-25 11:11:49 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=4 ttl=64 time=0.086 ms
2021-11-25 11:11:50 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=5 ttl=64 time=0.085 ms

--- 192.168.122.72 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4119ms
rtt min/avg/max/mdev = 0.085/0.108/0.132/0.019 ms
[root@WW30CYP10 ~]# 
2021-11-25 11:11:58 - sshInstance.py - [line:89] - root - INFO - ssh root@192.168.122.72
root@192.168.122.72's password: 
2021-11-25 11:12:06 - sshInstance.py - [line:89] - root - INFO - 
Welcome to Ubuntu 20.04 LTS (GNU/Linux 5.4.0-26-generic x86_64)
 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage
  System information as of Wed 24 Nov 2021 10:12:16 PM EST
  System load:  0.18               Processes:             139
  Usage of /:   46.7% of 19.07GB   Users logged in:       0
  Memory usage: 30%                IPv4 address for ens3: 192.168.122.72
  Swap usage:   0%

366 updates can be installed immediately.
222 of these updates are security updates.
To see these additional updates run: apt list --upgradable

Last login: Wed Nov 24 22:06:51 2021 from 192.168.122.1
root@localhost:~# 
2021-11-25 11:12:14 - sshInstance.py - [line:89] - root - INFO - lspci -Dnn | grep "8086:1889" | awk '{print $1;}'
0000:00:05.0
root@localhost:~# 
2021-11-25 11:12:20 - test_network_sriov_stress.py - [line:306] - root - INFO - successfully got vf pci id of vm1: 0000:00:05.0
2021-11-25 11:12:25 - sshInstance.py - [line:89] - root - INFO - ls /sys/bus/pci/devices/0000\:00\:05.0/net/ --color=never
ens5
root@localhost:~# 
2021-11-25 11:12:30 - test_network_sriov_stress.py - [line:317] - root - INFO - Successfully got vf device name of vm1: ens5
2021-11-25 11:12:35 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 192.168.10.12
root@localhost:~# 
2021-11-25 11:12:38 - test_network_sriov_stress.py - [line:268] - root - INFO - Successfully assigned ip to ethernet: ens5
2021-11-25 11:12:43 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 down
root@localhost:~# 
2021-11-25 11:12:51 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 hw ether 1234567890ac
root@localhost:~# 
2021-11-25 11:12:59 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 up
root@localhost:~# 
2021-11-25 11:13:07 - sshInstance.py - [line:89] - root - INFO - nmcli device connect ens5
Command 'nmcli' not found, but can be installed with:
apt install network-manager
root@localhost:~# 
2021-11-25 11:13:15 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5
ens5: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.10.12  netmask 255.255.255.0  broadcast 192.168.10.255
        inet6 fe80::1034:56ff:fe78:90ac  prefixlen 64  scopeid 0x20<link>
        ether 12:34:56:78:90:ac  txqueuelen 1000  (Ethernet)
        RX packets 2  bytes 692 (692.0 B)
        RX errors 0  dropped 2  overruns 0  frame 0
        TX packets 8  bytes 696 (696.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
root@localhost:~# 
2021-11-25 11:13:23 - sshInstance.py - [line:89] - root - INFO - exit
logout
Connection to 192.168.122.72 closed.
[root@WW30CYP10 ~]# 
2021-11-25 11:13:30 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.122.156
PING 192.168.122.156 (192.168.122.156) 56(84) bytes of data.
64 bytes from 192.168.122.156: icmp_seq=1 ttl=64 time=0.169 ms
2021-11-25 11:13:31 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.156: icmp_seq=2 ttl=64 time=0.084 ms
2021-11-25 11:13:32 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.156: icmp_seq=3 ttl=64 time=0.108 ms
2021-11-25 11:13:33 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.156: icmp_seq=4 ttl=64 time=0.168 ms
2021-11-25 11:13:34 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.156: icmp_seq=5 ttl=64 time=0.133 ms

--- 192.168.122.156 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4130ms
rtt min/avg/max/mdev = 0.084/0.132/0.169/0.034 ms
[root@WW30CYP10 ~]# 
2021-11-25 11:13:42 - sshInstance.py - [line:89] - root - INFO - ssh root@192.168.122.156
root@192.168.122.156's password: 
2021-11-25 11:13:50 - sshInstance.py - [line:89] - root - INFO - 
Welcome to Ubuntu 20.04 LTS (GNU/Linux 5.4.0-26-generic x86_64)
 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage
  System information as of Wed 24 Nov 2021 10:14:00 PM EST
  System load:  0.01               Processes:             140
  Usage of /:   46.5% of 19.07GB   Users logged in:       0
  Memory usage: 30%                IPv4 address for ens3: 192.168.122.156
  Swap usage:   0%

366 updates can be installed immediately.
222 of these updates are security updates.
To see these additional updates run: apt list --upgradable

Last login: Wed Nov 24 22:04:45 2021 from 192.168.122.1
root@localhost:~# 
2021-11-25 11:13:58 - sshInstance.py - [line:89] - root - INFO - lspci -Dnn | grep "8086:1889" | awk '{print $1;}'
0000:00:05.0
root@localhost:~# 
2021-11-25 11:14:04 - test_network_sriov_stress.py - [line:306] - root - INFO - successfully got vf pci id of vm1: 0000:00:05.0
2021-11-25 11:14:10 - sshInstance.py - [line:89] - root - INFO - ls /sys/bus/pci/devices/0000\:00\:05.0/net/ --color=never
ens5
root@localhost:~# 
2021-11-25 11:14:15 - test_network_sriov_stress.py - [line:317] - root - INFO - Successfully got vf device name of vm1: ens5
2021-11-25 11:14:20 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 192.168.10.13
root@localhost:~# 
2021-11-25 11:14:23 - test_network_sriov_stress.py - [line:268] - root - INFO - Successfully assigned ip to ethernet: ens5
2021-11-25 11:14:28 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 down
root@localhost:~# 
2021-11-25 11:14:36 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 hw ether 1234567890ab
root@localhost:~# 
2021-11-25 11:14:44 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 up
root@localhost:~# 
2021-11-25 11:14:52 - sshInstance.py - [line:89] - root - INFO - nmcli device connect ens5
Command 'nmcli' not found, but can be installed with:
apt install network-manager
root@localhost:~# 
2021-11-25 11:15:00 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5
ens5: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.10.13  netmask 255.255.255.0  broadcast 192.168.10.255
        inet6 fe80::1034:56ff:fe78:90ab  prefixlen 64  scopeid 0x20<link>
        ether 12:34:56:78:90:ab  txqueuelen 1000  (Ethernet)
        RX packets 2  bytes 684 (684.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 8  bytes 696 (696.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
root@localhost:~# 
2021-11-25 11:15:08 - sshInstance.py - [line:89] - root - INFO - exit
logout
Connection to 192.168.122.156 closed.
[root@WW30CYP10 ~]# 
2021-11-25 11:15:11 - test_network_sriov_stress.py - [line:428] - root - INFO - Ping two vms IP from SUT:
2021-11-25 11:15:15 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.10.12
PING 192.168.10.12 (192.168.10.12) 56(84) bytes of data.
64 bytes from 192.168.10.12: icmp_seq=1 ttl=64 time=5.32 ms
2021-11-25 11:15:16 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.12: icmp_seq=2 ttl=64 time=0.058 ms
2021-11-25 11:15:17 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.12: icmp_seq=3 ttl=64 time=0.034 ms
2021-11-25 11:15:18 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.12: icmp_seq=4 ttl=64 time=0.049 ms
2021-11-25 11:15:19 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.12: icmp_seq=5 ttl=64 time=0.042 ms

--- 192.168.10.12 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4079ms
rtt min/avg/max/mdev = 0.034/1.099/5.315/2.108 ms
[root@WW30CYP10 ~]# 
2021-11-25 11:15:26 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.10.13
PING 192.168.10.13 (192.168.10.13) 56(84) bytes of data.
64 bytes from 192.168.10.13: icmp_seq=1 ttl=64 time=4.90 ms
2021-11-25 11:15:27 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=2 ttl=64 time=0.050 ms
2021-11-25 11:15:28 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=3 ttl=64 time=0.044 ms
2021-11-25 11:15:29 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=4 ttl=64 time=0.032 ms
2021-11-25 11:15:30 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=5 ttl=64 time=0.030 ms

--- 192.168.10.13 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4073ms
rtt min/avg/max/mdev = 0.030/1.011/4.902/1.945 ms
[root@WW30CYP10 ~]# 
2021-11-25 11:15:33 - test_network_sriov_stress.py - [line:436] - root - INFO - ping VMtest2 IP from VMtest1
2021-11-25 11:15:37 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.122.72
PING 192.168.122.72 (192.168.122.72) 56(84) bytes of data.
64 bytes from 192.168.122.72: icmp_seq=1 ttl=64 time=0.115 ms
2021-11-25 11:15:38 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=2 ttl=64 time=0.129 ms
2021-11-25 11:15:39 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=3 ttl=64 time=0.072 ms
2021-11-25 11:15:40 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=4 ttl=64 time=0.084 ms
2021-11-25 11:15:41 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=5 ttl=64 time=0.080 ms

--- 192.168.122.72 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4131ms
rtt min/avg/max/mdev = 0.072/0.096/0.129/0.022 ms
[root@WW30CYP10 ~]# 
2021-11-25 11:15:49 - sshInstance.py - [line:89] - root - INFO - ssh root@192.168.122.72
root@192.168.122.72's password: 
2021-11-25 11:15:57 - sshInstance.py - [line:89] - root - INFO - 
Welcome to Ubuntu 20.04 LTS (GNU/Linux 5.4.0-26-generic x86_64)
 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage
  System information as of Wed 24 Nov 2021 10:16:06 PM EST
  System load:  0.0                Processes:             127
  Usage of /:   46.7% of 19.07GB   Users logged in:       0
  Memory usage: 30%                IPv4 address for ens3: 192.168.122.72
  Swap usage:   0%                 IPv4 address for ens5: 192.168.10.12

366 updates can be installed immediately.
222 of these updates are security updates.
To see these additional updates run: apt list --upgradable

Last login: Wed Nov 24 22:12:17 2021 from 192.168.122.1
root@localhost:~# 
2021-11-25 11:16:04 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.10.13
PING 192.168.10.13 (192.168.10.13) 56(84) bytes of data.
64 bytes from 192.168.10.13: icmp_seq=1 ttl=64 time=0.208 ms
2021-11-25 11:16:05 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=2 ttl=64 time=0.068 ms
2021-11-25 11:16:06 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=3 ttl=64 time=0.059 ms
2021-11-25 11:16:07 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=4 ttl=64 time=0.035 ms
2021-11-25 11:16:08 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.13: icmp_seq=5 ttl=64 time=0.037 ms

--- 192.168.10.13 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4079ms
rtt min/avg/max/mdev = 0.035/0.081/0.208/0.064 ms
root@localhost:~# 
2021-11-25 11:16:47 - sshInstance.py - [line:89] - root - INFO - exit
logout
Connection to 192.168.122.72 closed.
[root@WW30CYP10 ~]# 
2021-11-25 11:16:50 - test_network_sriov_stress.py - [line:444] - root - INFO - ping VMtest2 IP from VMtest1
2021-11-25 11:16:54 - sshInstance.py - [line:69] - root - INFO - ping -c 5 -I 192.168.10.11 192.168.10.10
PING 192.168.10.10 (192.168.10.10) from 192.168.10.11 : 56(84) bytes of data.
64 bytes from 192.168.10.10: icmp_seq=1 ttl=64 time=0.034 ms
2021-11-25 11:16:55 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=2 ttl=64 time=0.010 ms
2021-11-25 11:16:56 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=3 ttl=64 time=0.008 ms
2021-11-25 11:16:57 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=4 ttl=64 time=0.008 ms
2021-11-25 11:16:58 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.10.10: icmp_seq=5 ttl=64 time=0.008 ms

--- 192.168.10.10 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4102ms
rtt min/avg/max/mdev = 0.008/0.013/0.034/0.011 ms
[root@WW30CYP10 ~]# 
2021-11-25 11:17:04 - sshInstance.py - [line:44] - root - INFO - echo 0 > /sys/class/net/ens787f0/device/sriov_numvfs
2021-11-25 11:17:06 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:17:11 - test_network_sriov_stress.py - [line:237] - root - INFO - Successfully removed VFs from PF.
2021-11-25 11:17:14 - sshInstance.py - [line:44] - root - INFO - virsh destroy VMtest1
2021-11-25 11:17:15 - sshInstance.py - [line:48] - root - INFO - Domain VMtest1 destroyed


2021-11-25 11:17:20 - test_network_sriov_stress.py - [line:247] - root - INFO - Successfully shut down the VM: VMtest1
2021-11-25 11:17:23 - sshInstance.py - [line:44] - root - INFO - virsh undefine VMtest1
2021-11-25 11:17:23 - sshInstance.py - [line:48] - root - INFO - Domain VMtest1 has been undefined


2021-11-25 11:17:28 - test_network_sriov_stress.py - [line:254] - root - INFO - Successfully removed the VM: VMtest1
2021-11-25 11:17:31 - sshInstance.py - [line:44] - root - INFO - virsh destroy VMtest2
2021-11-25 11:17:31 - sshInstance.py - [line:48] - root - INFO - Domain VMtest2 destroyed


2021-11-25 11:17:36 - test_network_sriov_stress.py - [line:247] - root - INFO - Successfully shut down the VM: VMtest2
2021-11-25 11:17:39 - sshInstance.py - [line:44] - root - INFO - virsh undefine VMtest2
2021-11-25 11:17:39 - sshInstance.py - [line:48] - root - INFO - Domain VMtest2 has been undefined


2021-11-25 11:17:44 - test_network_sriov_stress.py - [line:254] - root - INFO - Successfully removed the VM: VMtest2
.2021-11-25 11:17:44 - test_network_sriov_stress.py - [line:52] - root - INFO - this is the teardown of Test_Network_SRIOV_Stress.
2021-11-25 11:17:47 - sshInstance.py - [line:44] - root - INFO - virsh destroy VMtest2
2021-11-25 11:17:47 - sshInstance.py - [line:48] - root - INFO - 

2021-11-25 11:17:52 - test_network_sriov_stress.py - [line:249] - root - ERROR - Failed to shut down the VM VMtest2
2021-11-25 11:17:55 - sshInstance.py - [line:44] - root - INFO - virsh destroy VMtest1
2021-11-25 11:17:55 - sshInstance.py - [line:48] - root - INFO - 

2021-11-25 11:18:01 - test_network_sriov_stress.py - [line:249] - root - ERROR - Failed to shut down the VM VMtest1
2021-11-25 11:18:01 - sshInstance.py - [line:39] - root - INFO - closing ssh client on SUT
2021-11-25 11:18:01 - test_network_sriov_stress.py - [line:57] - root - INFO - =============================================Finished run the test case===============================================
2021-11-25 11:18:01 - NicTestFixture.py - [line:28] - root - INFO - Starting to run test_PI_Networking_SRIOV_StressDisableEnableFor5TimesWhenVFIsAssigned_VM_Guest[ubuntu20.04.img-rhel84rt.img]
2021-11-25 11:18:01 - NicTestFixture.py - [line:29] - root - INFO - setup log for testing in the fixture class fbefore
2021-11-25 11:18:01 - test_network_sriov_stress.py - [line:30] - root - INFO - SSH SUT and setup configurations in the setup function.
2021-11-25 11:18:01 - transport.py - [line:1819] - paramiko.transport - INFO - Connected (version 2.0, client OpenSSH_8.0)
2021-11-25 11:18:01 - transport.py - [line:1819] - paramiko.transport - INFO - Authentication (publickey) failed.
2021-11-25 11:18:01 - transport.py - [line:1819] - paramiko.transport - INFO - Authentication (password) successful!
2021-11-25 11:18:01 - sshInstance.py - [line:28] - root - INFO - SSH on SUT: 10.112.97.157
2021-11-25 11:18:01 - test_network_sriov_stress.py - [line:349] - root - INFO - 

********************************************************Stress Disable and Enable for 1 time when VF is Assigned VM guest.*************************************************************


2021-11-25 11:18:04 - sshInstance.py - [line:44] - root - INFO - /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -s | grep ens787f0 | awk '{print $1;}'
2021-11-25 11:18:04 - sshInstance.py - [line:48] - root - INFO - 0000:31:00.0

2021-11-25 11:18:09 - test_network_sriov_stress.py - [line:80] - root - INFO - pf_id was found: 0000:31:00.0

2021-11-25 11:18:09 - test_network_sriov_stress.py - [line:357] - root - INFO - format_pf_id is 0000\:31\:00.0

2021-11-25 11:18:09 - test_network_sriov_stress.py - [line:360] - root - INFO - pf_id_key: 31
2021-11-25 11:18:14 - sshInstance.py - [line:89] - root - INFO - Activate the web console with: systemctl enable --now cockpit.socket
This system is not registered to Red Hat Insights. See https://cloud.redhat.com/
To register this system, run: insights-client --register
Last login: Thu Nov 25 10:31:39 2021 from 10.239.129.147
[root@WW30CYP10 ~]# ifconfig ens787f0 192.168.10.11
[root@WW30CYP10 ~]# 
2021-11-25 11:18:17 - test_network_sriov_stress.py - [line:268] - root - INFO - Successfully assigned ip to ethernet: ens787f0
2021-11-25 11:18:20 - sshInstance.py - [line:44] - root - INFO - echo 4 > /sys/class/net/ens787f0/device/sriov_numvfs
2021-11-25 11:18:21 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:18:26 - test_network_sriov_stress.py - [line:95] - root - INFO - Successfully Virtualized PF to VFs.
2021-11-25 11:18:29 - sshInstance.py - [line:44] - root - INFO -  lspci | grep "Virtual" | awk '{print $1;}'list
2021-11-25 11:18:29 - sshInstance.py - [line:48] - root - INFO - 31:01.0
31:01.1
31:01.2
31:01.3

2021-11-25 11:18:34 - test_network_sriov_stress.py - [line:109] - root - INFO - Succssfully Gotten vf_id list:

2021-11-25 11:18:37 - sshInstance.py - [line:44] - root - INFO -  modinfo vfio-pci | grep "vfio_pci" | awk '{ print $2;}'
2021-11-25 11:18:37 - sshInstance.py - [line:48] - root - INFO - vfio_pci

2021-11-25 11:18:42 - test_network_sriov_stress.py - [line:162] - root - INFO - Successfuly modeprobe vfio-pci
2021-11-25 11:18:45 - sshInstance.py - [line:44] - root - INFO - /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -b vfio-pci 31:01.0
2021-11-25 11:18:45 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:18:50 - test_network_sriov_stress.py - [line:141] - root - INFO - Successfuly bound VF to vfio-pci
2021-11-25 11:18:53 - sshInstance.py - [line:44] - root - INFO - /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -b vfio-pci 31:01.1
2021-11-25 11:18:54 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:18:59 - test_network_sriov_stress.py - [line:141] - root - INFO - Successfuly bound VF to vfio-pci
2021-11-25 11:18:59 - test_network_sriov_stress.py - [line:381] - root - INFO - lspci -Dnn | grep 31:01.1
2021-11-25 11:19:02 - sshInstance.py - [line:44] - root - INFO - lspci -Dnn | grep 31:01.1
2021-11-25 11:19:02 - sshInstance.py - [line:48] - root - INFO - 0000:31:01.1 Ethernet controller [0200]: Intel Corporation Ethernet Adaptive Virtual Function [8086:1889] (rev 02)

2021-11-25 11:19:07 - test_network_sriov_stress.py - [line:392] - root - INFO - Successfully get vf device id: 8086:1889
2021-11-25 11:19:10 - sshInstance.py - [line:44] - root - INFO - virsh net-info default | grep "Active" | awk '{print $2;}'
2021-11-25 11:19:10 - sshInstance.py - [line:48] - root - INFO - yes

2021-11-25 11:19:15 - test_network_sriov_stress.py - [line:170] - root - INFO - Default network is active? yes

2021-11-25 11:19:19 - sshInstance.py - [line:69] - root - INFO - virt-install --name VMtest1 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_0 --boot hd --disk path=/home//image/ubuntu20.04.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=59900 --noautoconsole

** (process:105162): [1;33mWARNING[0m **: [34m11:19:30.979[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
ERROR    Requested operation is not valid: PCI device 0000:31:01.0 is in use by driver QEMU, domain VMtest1
Domain installation does not appear to have been successful.
If it was, you can restart your domain by running:
  virsh --connect qemu:///system start VMtest1
otherwise, please restart your installation.
[root@WW30CYP10 ~]# 
2021-11-25 11:19:22 - test_network_sriov_stress.py - [line:202] - root - ERROR - Failed to create a VM: virt-install --name VMtest1 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_0 --boot hd --disk path=/home//image/ubuntu20.04.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=59900 --noautoconsole

** (process:105162): [1;33mWARNING[0m **: [34m11:19:30.979[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
ERROR    Requested operation is not valid: PCI device 0000:31:01.0 is in use by driver QEMU, domain VMtest1
Domain installation does not appear to have been successful.
If it was, you can restart your domain by running:
  virsh --connect qemu:///system start VMtest1
otherwise, please restart your installation.
[root@WW30CYP10 ~]# 
2021-11-25 11:19:22 - test_network_sriov_stress.py - [line:203] - root - ERROR - Failed to create a VM: 
2021-11-25 11:19:26 - sshInstance.py - [line:69] - root - INFO - virt-install --name VMtest1 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_0 --boot hd --disk path=/home//image/ubuntu20.04.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=59900 --noautoconsole

** (process:105223): [1;33mWARNING[0m **: [34m11:19:37.996[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
2021-11-25 11:19:29 - sshInstance.py - [line:69] - root - INFO - Domain creation completed.
[root@WW30CYP10 ~]# 
2021-11-25 11:19:32 - test_network_sriov_stress.py - [line:205] - root - INFO - Successfully created a VM: VMtest1
2021-11-25 11:19:36 - sshInstance.py - [line:69] - root - INFO - virt-install --name VMtest2 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_1 --boot hd --disk path=/home//image/rhel84rt.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=5901  --noautoconsole

** (process:105295): [1;33mWARNING[0m **: [34m11:19:48.000[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
ERROR    Requested operation is not valid: PCI device 0000:31:01.1 is in use by driver QEMU, domain VMtest2
Domain installation does not appear to have been successful.
If it was, you can restart your domain by running:
  virsh --connect qemu:///system start VMtest2
otherwise, please restart your installation.
[root@WW30CYP10 ~]# 
2021-11-25 11:19:39 - test_network_sriov_stress.py - [line:202] - root - ERROR - Failed to create a VM: virt-install --name VMtest2 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_1 --boot hd --disk path=/home//image/rhel84rt.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=5901  --noautoconsole

** (process:105295): [1;33mWARNING[0m **: [34m11:19:48.000[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
ERROR    Requested operation is not valid: PCI device 0000:31:01.1 is in use by driver QEMU, domain VMtest2
Domain installation does not appear to have been successful.
If it was, you can restart your domain by running:
  virsh --connect qemu:///system start VMtest2
otherwise, please restart your installation.
[root@WW30CYP10 ~]# 
2021-11-25 11:19:39 - test_network_sriov_stress.py - [line:203] - root - ERROR - Failed to create a VM: 
2021-11-25 11:19:43 - sshInstance.py - [line:69] - root - INFO - virt-install --name VMtest2 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_1 --boot hd --disk path=/home//image/rhel84rt.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=5901  --noautoconsole

** (process:105357): [1;33mWARNING[0m **: [34m11:19:55.000[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
2021-11-25 11:19:46 - sshInstance.py - [line:69] - root - INFO - Domain creation completed.
[root@WW30CYP10 ~]# 
2021-11-25 11:19:49 - test_network_sriov_stress.py - [line:205] - root - INFO - Successfully created a VM: VMtest2
2021-11-25 11:19:52 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
2021-11-25 11:19:52 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:19:57 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest1
2021-11-25 11:21:00 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
2021-11-25 11:21:01 - sshInstance.py - [line:48] - root - INFO - 192.168.122.72/24

2021-11-25 11:21:06 - test_network_sriov_stress.py - [line:216] - root - INFO - Successfully got VMtest1 IP: 192.168.122.72/24

2021-11-25 11:21:09 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
2021-11-25 11:21:09 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:21:14 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest2
2021-11-25 11:22:17 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
2021-11-25 11:22:17 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:22:22 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest2
2021-11-25 11:23:25 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
2021-11-25 11:23:25 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:23:30 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest2
2021-11-25 11:24:33 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
2021-11-25 11:24:33 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:24:38 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest2
2021-11-25 11:25:41 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
2021-11-25 11:25:41 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:25:46 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest2
2021-11-25 11:26:49 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
2021-11-25 11:26:49 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:26:54 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest2
2021-11-25 11:27:54 - test_network_sriov_stress.py - [line:409] - root - INFO - ip of VM1: 192.168.122.72
2021-11-25 11:27:54 - test_network_sriov_stress.py - [line:410] - root - INFO - ip of VM1: 
2021-11-25 11:27:58 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.122.72
PING 192.168.122.72 (192.168.122.72) 56(84) bytes of data.
64 bytes from 192.168.122.72: icmp_seq=1 ttl=64 time=0.147 ms
2021-11-25 11:27:59 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=2 ttl=64 time=0.079 ms
2021-11-25 11:28:00 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=3 ttl=64 time=0.104 ms
2021-11-25 11:28:01 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=4 ttl=64 time=0.097 ms
2021-11-25 11:28:02 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=5 ttl=64 time=0.120 ms

--- 192.168.122.72 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4127ms
rtt min/avg/max/mdev = 0.079/0.109/0.147/0.024 ms
[root@WW30CYP10 ~]# 
2021-11-25 11:28:10 - sshInstance.py - [line:89] - root - INFO - ssh root@192.168.122.72
root@192.168.122.72's password: 
2021-11-25 11:28:18 - sshInstance.py - [line:89] - root - INFO - 
Welcome to Ubuntu 20.04 LTS (GNU/Linux 5.4.0-26-generic x86_64)
 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage
  System information as of Wed 24 Nov 2021 10:28:27 PM EST
  System load:  0.08               Processes:             126
  Usage of /:   46.8% of 19.07GB   Users logged in:       0
  Memory usage: 30%                IPv4 address for ens3: 192.168.122.72
  Swap usage:   0%

366 updates can be installed immediately.
222 of these updates are security updates.
To see these additional updates run: apt list --upgradable

Last login: Wed Nov 24 22:16:07 2021 from 192.168.122.1
root@localhost:~# 
2021-11-25 11:28:26 - sshInstance.py - [line:89] - root - INFO - lspci -Dnn | grep "8086:1889" | awk '{print $1;}'
0000:00:05.0
root@localhost:~# 
2021-11-25 11:28:32 - test_network_sriov_stress.py - [line:306] - root - INFO - successfully got vf pci id of vm1: 0000:00:05.0
2021-11-25 11:28:37 - sshInstance.py - [line:89] - root - INFO - ls /sys/bus/pci/devices/0000\:00\:05.0/net/ --color=never
ens5
root@localhost:~# 
2021-11-25 11:28:42 - test_network_sriov_stress.py - [line:317] - root - INFO - Successfully got vf device name of vm1: ens5
2021-11-25 11:28:47 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 192.168.10.12
root@localhost:~# 
2021-11-25 11:28:50 - test_network_sriov_stress.py - [line:268] - root - INFO - Successfully assigned ip to ethernet: ens5
2021-11-25 11:28:55 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 down
root@localhost:~# 
2021-11-25 11:29:03 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 hw ether 1234567890ac
root@localhost:~# 
2021-11-25 11:29:11 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 up
root@localhost:~# 
2021-11-25 11:29:19 - sshInstance.py - [line:89] - root - INFO - nmcli device connect ens5
Command 'nmcli' not found, but can be installed with:
apt install network-manager
root@localhost:~# 
2021-11-25 11:29:27 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5
ens5: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.10.12  netmask 255.255.255.0  broadcast 192.168.10.255
        inet6 fe80::1034:56ff:fe78:90ac  prefixlen 64  scopeid 0x20<link>
        ether 12:34:56:78:90:ac  txqueuelen 1000  (Ethernet)
        RX packets 5  bytes 1722 (1.7 KB)
        RX errors 0  dropped 1  overruns 0  frame 0
        TX packets 9  bytes 766 (766.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
root@localhost:~# 
2021-11-25 11:29:35 - sshInstance.py - [line:89] - root - INFO - exit
logout
Connection to 192.168.122.72 closed.
[root@WW30CYP10 ~]# 
2021-11-25 11:29:42 - sshInstance.py - [line:69] - root - INFO - ping -c 5 
Usage: ping [-aAbBdDfhLnOqrRUvV64] [-c count] [-i interval] [-I interface]
            [-m mark] [-M pmtudisc_option] [-l preload] [-p pattern] [-Q tos]
            [-s packetsize] [-S sndbuf] [-t ttl] [-T timestamp_option]
            [-w deadline] [-W timeout] [hop1 ...] destination
Usage: ping -6 [-aAbBdDfhLnOqrRUvV] [-c count] [-i interval] [-I interface]
             [-l preload] [-m mark] [-M pmtudisc_option]
             [-N nodeinfo_option] [-p pattern] [-Q tclass] [-s packetsize]
             [-S sndbuf] [-t ttl] [-T timestamp_option] [-w deadline]
             [-W timeout] destination
[root@WW30CYP10 ~]# 
F2021-11-25 11:29:45 - test_network_sriov_stress.py - [line:52] - root - INFO - this is the teardown of Test_Network_SRIOV_Stress.
2021-11-25 11:29:48 - sshInstance.py - [line:44] - root - INFO - virsh destroy VMtest2
2021-11-25 11:29:50 - sshInstance.py - [line:48] - root - INFO - Domain VMtest2 destroyed


2021-11-25 11:29:55 - test_network_sriov_stress.py - [line:247] - root - INFO - Successfully shut down the VM: VMtest2
2021-11-25 11:29:58 - sshInstance.py - [line:44] - root - INFO - virsh undefine VMtest2
2021-11-25 11:29:58 - sshInstance.py - [line:48] - root - INFO - Domain VMtest2 has been undefined


2021-11-25 11:30:03 - test_network_sriov_stress.py - [line:254] - root - INFO - Successfully removed the VM: VMtest2
2021-11-25 11:30:06 - sshInstance.py - [line:44] - root - INFO - virsh destroy VMtest1
2021-11-25 11:30:07 - sshInstance.py - [line:48] - root - INFO - Domain VMtest1 destroyed


2021-11-25 11:30:12 - test_network_sriov_stress.py - [line:247] - root - INFO - Successfully shut down the VM: VMtest1
2021-11-25 11:30:15 - sshInstance.py - [line:44] - root - INFO - virsh undefine VMtest1
2021-11-25 11:30:15 - sshInstance.py - [line:48] - root - INFO - Domain VMtest1 has been undefined


2021-11-25 11:30:20 - test_network_sriov_stress.py - [line:254] - root - INFO - Successfully removed the VM: VMtest1
2021-11-25 11:30:20 - sshInstance.py - [line:39] - root - INFO - closing ssh client on SUT
2021-11-25 11:30:20 - test_network_sriov_stress.py - [line:57] - root - INFO - =============================================Finished run the test case===============================================
2021-11-25 11:30:20 - NicTestFixture.py - [line:28] - root - INFO - Starting to run test_PI_Networking_SRIOV_StressDisableEnableFor5TimesWhenVFIsAssigned_VM_Guest[rhel84rt.img-rhel84rt2.img]
2021-11-25 11:30:20 - NicTestFixture.py - [line:29] - root - INFO - setup log for testing in the fixture class fbefore
2021-11-25 11:30:20 - test_network_sriov_stress.py - [line:30] - root - INFO - SSH SUT and setup configurations in the setup function.
2021-11-25 11:30:20 - transport.py - [line:1819] - paramiko.transport - INFO - Connected (version 2.0, client OpenSSH_8.0)
2021-11-25 11:30:20 - transport.py - [line:1819] - paramiko.transport - INFO - Authentication (publickey) failed.
2021-11-25 11:30:20 - transport.py - [line:1819] - paramiko.transport - INFO - Authentication (password) successful!
2021-11-25 11:30:20 - sshInstance.py - [line:28] - root - INFO - SSH on SUT: 10.112.97.157
2021-11-25 11:30:20 - test_network_sriov_stress.py - [line:349] - root - INFO - 

********************************************************Stress Disable and Enable for 1 time when VF is Assigned VM guest.*************************************************************


2021-11-25 11:30:23 - sshInstance.py - [line:44] - root - INFO - /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -s | grep ens787f0 | awk '{print $1;}'
2021-11-25 11:30:24 - sshInstance.py - [line:48] - root - INFO - 0000:31:00.0
0000:31:01.0
0000:31:01.1
0000:31:01.2
0000:31:01.3

2021-11-25 11:30:29 - test_network_sriov_stress.py - [line:80] - root - INFO - pf_id was found: 0000:31:00.0
0000:31:01.0
0000:31:01.1
0000:31:01.2
0000:31:01.3

2021-11-25 11:30:29 - test_network_sriov_stress.py - [line:357] - root - INFO - format_pf_id is 0000\:31\:00.0
0000:31:01.0
0000:31:01.1
0000:31:01.2
0000:31:01.3

2021-11-25 11:30:29 - test_network_sriov_stress.py - [line:360] - root - INFO - pf_id_key: 31
2021-11-25 11:30:34 - sshInstance.py - [line:89] - root - INFO - Activate the web console with: systemctl enable --now cockpit.socket
This system is not registered to Red Hat Insights. See https://cloud.redhat.com/
To register this system, run: insights-client --register
Last login: Thu Nov 25 11:18:12 2021 from 10.239.129.147
[root@WW30CYP10 ~]# ifconfig ens787f0 192.168.10.11
[root@WW30CYP10 ~]# 
2021-11-25 11:30:37 - test_network_sriov_stress.py - [line:268] - root - INFO - Successfully assigned ip to ethernet: ens787f0
2021-11-25 11:30:40 - sshInstance.py - [line:44] - root - INFO - echo 4 > /sys/class/net/ens787f0/device/sriov_numvfs
2021-11-25 11:30:40 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:30:45 - test_network_sriov_stress.py - [line:95] - root - INFO - Successfully Virtualized PF to VFs.
2021-11-25 11:30:48 - sshInstance.py - [line:44] - root - INFO -  lspci | grep "Virtual" | awk '{print $1;}'list
2021-11-25 11:30:48 - sshInstance.py - [line:48] - root - INFO - 31:01.0
31:01.1
31:01.2
31:01.3

2021-11-25 11:30:53 - test_network_sriov_stress.py - [line:109] - root - INFO - Succssfully Gotten vf_id list:

2021-11-25 11:30:56 - sshInstance.py - [line:44] - root - INFO -  modinfo vfio-pci | grep "vfio_pci" | awk '{ print $2;}'
2021-11-25 11:30:56 - sshInstance.py - [line:48] - root - INFO - vfio_pci

2021-11-25 11:31:01 - test_network_sriov_stress.py - [line:162] - root - INFO - Successfuly modeprobe vfio-pci
2021-11-25 11:31:04 - sshInstance.py - [line:44] - root - INFO - /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -b vfio-pci 31:01.0
2021-11-25 11:31:05 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:31:10 - test_network_sriov_stress.py - [line:141] - root - INFO - Successfuly bound VF to vfio-pci
2021-11-25 11:31:13 - sshInstance.py - [line:44] - root - INFO - /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -b vfio-pci 31:01.1
2021-11-25 11:31:13 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:31:18 - test_network_sriov_stress.py - [line:141] - root - INFO - Successfuly bound VF to vfio-pci
2021-11-25 11:31:18 - test_network_sriov_stress.py - [line:381] - root - INFO - lspci -Dnn | grep 31:01.1
2021-11-25 11:31:21 - sshInstance.py - [line:44] - root - INFO - lspci -Dnn | grep 31:01.1
2021-11-25 11:31:21 - sshInstance.py - [line:48] - root - INFO - 0000:31:01.1 Ethernet controller [0200]: Intel Corporation Ethernet Adaptive Virtual Function [8086:1889] (rev 02)

2021-11-25 11:31:26 - test_network_sriov_stress.py - [line:392] - root - INFO - Successfully get vf device id: 8086:1889
2021-11-25 11:31:29 - sshInstance.py - [line:44] - root - INFO - virsh net-info default | grep "Active" | awk '{print $2;}'
2021-11-25 11:31:29 - sshInstance.py - [line:48] - root - INFO - yes

2021-11-25 11:31:34 - test_network_sriov_stress.py - [line:170] - root - INFO - Default network is active? yes

2021-11-25 11:31:38 - sshInstance.py - [line:69] - root - INFO - virt-install --name VMtest1 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_0 --boot hd --disk path=/home//image/rhel84rt.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=5900  --noautoconsole

** (process:107277): [1;33mWARNING[0m **: [34m11:31:50.053[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
2021-11-25 11:31:41 - sshInstance.py - [line:69] - root - INFO - Domain creation completed.
[root@WW30CYP10 ~]# 
2021-11-25 11:31:44 - test_network_sriov_stress.py - [line:205] - root - INFO - Successfully created a VM: VMtest1
2021-11-25 11:31:48 - sshInstance.py - [line:69] - root - INFO - virt-install --name VMtest2 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_1 --boot hd --disk path=/home//image/rhel84rt2.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=59011 --noautoconsole

** (process:107320): [1;33mWARNING[0m **: [34m11:32:00.074[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
2021-11-25 11:31:51 - sshInstance.py - [line:69] - root - INFO - Domain creation completed.
[root@WW30CYP10 ~]# 
2021-11-25 11:31:54 - test_network_sriov_stress.py - [line:205] - root - INFO - Successfully created a VM: VMtest2
2021-11-25 11:31:57 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
2021-11-25 11:31:58 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:32:03 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest1
2021-11-25 11:33:06 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
2021-11-25 11:33:06 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:33:11 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest1
2021-11-25 11:34:14 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
2021-11-25 11:34:14 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:34:19 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest1
2021-11-25 11:35:22 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
2021-11-25 11:35:22 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:35:27 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest1
2021-11-25 11:36:30 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
2021-11-25 11:36:30 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:36:35 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest1
2021-11-25 11:37:38 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
2021-11-25 11:37:38 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:37:43 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest1
2021-11-25 11:38:46 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
2021-11-25 11:38:46 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:38:51 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest2
2021-11-25 11:39:54 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
2021-11-25 11:39:54 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:39:59 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest2
2021-11-25 11:41:02 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
2021-11-25 11:41:03 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:41:08 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest2
2021-11-25 11:42:11 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
2021-11-25 11:42:11 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:42:16 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest2
2021-11-25 11:43:19 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
2021-11-25 11:43:19 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:43:24 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest2
2021-11-25 11:44:27 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
2021-11-25 11:44:27 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:44:32 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest2
2021-11-25 11:45:32 - test_network_sriov_stress.py - [line:409] - root - INFO - ip of VM1: 
2021-11-25 11:45:32 - test_network_sriov_stress.py - [line:410] - root - INFO - ip of VM1: 
2021-11-25 11:45:36 - sshInstance.py - [line:69] - root - INFO - ping -c 5 
Usage: ping [-aAbBdDfhLnOqrRUvV64] [-c count] [-i interval] [-I interface]
            [-m mark] [-M pmtudisc_option] [-l preload] [-p pattern] [-Q tos]
            [-s packetsize] [-S sndbuf] [-t ttl] [-T timestamp_option]
            [-w deadline] [-W timeout] [hop1 ...] destination
Usage: ping -6 [-aAbBdDfhLnOqrRUvV] [-c count] [-i interval] [-I interface]
             [-l preload] [-m mark] [-M pmtudisc_option]
             [-N nodeinfo_option] [-p pattern] [-Q tclass] [-s packetsize]
             [-S sndbuf] [-t ttl] [-T timestamp_option] [-w deadline]
             [-W timeout] destination
[root@WW30CYP10 ~]# 
F2021-11-25 11:45:39 - test_network_sriov_stress.py - [line:52] - root - INFO - this is the teardown of Test_Network_SRIOV_Stress.
2021-11-25 11:45:42 - sshInstance.py - [line:44] - root - INFO - virsh destroy VMtest2
2021-11-25 11:45:43 - sshInstance.py - [line:48] - root - INFO - Domain VMtest2 destroyed


2021-11-25 11:45:48 - test_network_sriov_stress.py - [line:247] - root - INFO - Successfully shut down the VM: VMtest2
2021-11-25 11:45:51 - sshInstance.py - [line:44] - root - INFO - virsh undefine VMtest2
2021-11-25 11:45:51 - sshInstance.py - [line:48] - root - INFO - Domain VMtest2 has been undefined


2021-11-25 11:45:56 - test_network_sriov_stress.py - [line:254] - root - INFO - Successfully removed the VM: VMtest2
2021-11-25 11:45:59 - sshInstance.py - [line:44] - root - INFO - virsh destroy VMtest1
2021-11-25 11:46:00 - sshInstance.py - [line:48] - root - INFO - Domain VMtest1 destroyed


2021-11-25 11:46:05 - test_network_sriov_stress.py - [line:247] - root - INFO - Successfully shut down the VM: VMtest1
2021-11-25 11:46:08 - sshInstance.py - [line:44] - root - INFO - virsh undefine VMtest1
2021-11-25 11:46:08 - sshInstance.py - [line:48] - root - INFO - Domain VMtest1 has been undefined


2021-11-25 11:46:13 - test_network_sriov_stress.py - [line:254] - root - INFO - Successfully removed the VM: VMtest1
2021-11-25 11:46:13 - sshInstance.py - [line:39] - root - INFO - closing ssh client on SUT
2021-11-25 11:46:13 - test_network_sriov_stress.py - [line:57] - root - INFO - =============================================Finished run the test case===============================================
2021-11-25 11:46:13 - NicTestFixture.py - [line:28] - root - INFO - Starting to run test_PI_Networking_SRIOV_StressTrafficBetweenPFVFAndTestClientFor2Hours_VM_Guest[ubuntu20.04.img-ubuntu20.04_2.img]
2021-11-25 11:46:13 - NicTestFixture.py - [line:29] - root - INFO - setup log for testing in the fixture class fbefore
2021-11-25 11:46:13 - test_network_sriov_stress.py - [line:30] - root - INFO - SSH SUT and setup configurations in the setup function.
2021-11-25 11:46:13 - transport.py - [line:1819] - paramiko.transport - INFO - Connected (version 2.0, client OpenSSH_8.0)
2021-11-25 11:46:13 - transport.py - [line:1819] - paramiko.transport - INFO - Authentication (publickey) failed.
2021-11-25 11:46:13 - transport.py - [line:1819] - paramiko.transport - INFO - Authentication (password) successful!
2021-11-25 11:46:13 - sshInstance.py - [line:28] - root - INFO - SSH on SUT: 10.112.97.157
2021-11-25 11:46:16 - sshInstance.py - [line:44] - root - INFO - /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -s | grep ens787f0 | awk '{print $1;}'
2021-11-25 11:46:17 - sshInstance.py - [line:48] - root - INFO - 0000:31:00.0
0000:31:01.2
0000:31:01.3

2021-11-25 11:46:22 - test_network_sriov_stress.py - [line:80] - root - INFO - pf_id was found: 0000:31:00.0
0000:31:01.2
0000:31:01.3

2021-11-25 11:46:22 - test_network_sriov_stress.py - [line:467] - root - INFO - format_pf_id is 0000\:31\:00.0
0000:31:01.2
0000:31:01.3

2021-11-25 11:46:22 - test_network_sriov_stress.py - [line:470] - root - INFO - pf_id_key: 31
2021-11-25 11:46:27 - sshInstance.py - [line:89] - root - INFO - Activate the web console with: systemctl enable --now cockpit.socket
This system is not registered to Red Hat Insights. See https://cloud.redhat.com/
To register this system, run: insights-client --register
Last login: Thu Nov 25 11:30:31 2021 from 10.239.129.147
[root@WW30CYP10 ~]# ifconfig ens787f0 192.168.10.11
[root@WW30CYP10 ~]# 
2021-11-25 11:46:30 - test_network_sriov_stress.py - [line:268] - root - INFO - Successfully assigned ip to ethernet: ens787f0
2021-11-25 11:46:33 - sshInstance.py - [line:44] - root - INFO - echo 4 > /sys/class/net/ens787f0/device/sriov_numvfs
2021-11-25 11:46:33 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:46:38 - test_network_sriov_stress.py - [line:95] - root - INFO - Successfully Virtualized PF to VFs.
2021-11-25 11:46:41 - sshInstance.py - [line:44] - root - INFO -  lspci | grep "Virtual" | awk '{print $1;}'list
2021-11-25 11:46:41 - sshInstance.py - [line:48] - root - INFO - 31:01.0
31:01.1
31:01.2
31:01.3

2021-11-25 11:46:46 - test_network_sriov_stress.py - [line:109] - root - INFO - Succssfully Gotten vf_id list:

2021-11-25 11:46:49 - sshInstance.py - [line:44] - root - INFO -  modinfo vfio-pci | grep "vfio_pci" | awk '{ print $2;}'
2021-11-25 11:46:49 - sshInstance.py - [line:48] - root - INFO - vfio_pci

2021-11-25 11:46:54 - test_network_sriov_stress.py - [line:162] - root - INFO - Successfuly modeprobe vfio-pci
2021-11-25 11:46:57 - sshInstance.py - [line:44] - root - INFO - /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -b vfio-pci 31:01.0
2021-11-25 11:46:58 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:47:03 - test_network_sriov_stress.py - [line:141] - root - INFO - Successfuly bound VF to vfio-pci
2021-11-25 11:47:06 - sshInstance.py - [line:44] - root - INFO - /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -b vfio-pci 31:01.1
2021-11-25 11:47:06 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:47:11 - test_network_sriov_stress.py - [line:141] - root - INFO - Successfuly bound VF to vfio-pci
2021-11-25 11:47:11 - test_network_sriov_stress.py - [line:493] - root - INFO - lspci -Dnn | grep 31:01.1
2021-11-25 11:47:14 - sshInstance.py - [line:44] - root - INFO - lspci -Dnn | grep 31:01.1
2021-11-25 11:47:15 - sshInstance.py - [line:48] - root - INFO - 0000:31:01.1 Ethernet controller [0200]: Intel Corporation Ethernet Adaptive Virtual Function [8086:1889] (rev 02)

2021-11-25 11:47:20 - test_network_sriov_stress.py - [line:504] - root - INFO - Successfully get vf device id: 8086:1889
2021-11-25 11:47:23 - sshInstance.py - [line:44] - root - INFO - virsh net-info default | grep "Active" | awk '{print $2;}'
2021-11-25 11:47:23 - sshInstance.py - [line:48] - root - INFO - yes

2021-11-25 11:47:28 - test_network_sriov_stress.py - [line:170] - root - INFO - Default network is active? yes

2021-11-25 11:47:32 - sshInstance.py - [line:69] - root - INFO - virt-install --name VMtest1 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_0 --boot hd --disk path=/home//image/ubuntu20.04.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=59900 --noautoconsole

** (process:108590): [1;33mWARNING[0m **: [34m11:47:43.236[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
2021-11-25 11:47:35 - sshInstance.py - [line:69] - root - INFO - Domain creation completed.
[root@WW30CYP10 ~]# 
2021-11-25 11:47:38 - test_network_sriov_stress.py - [line:205] - root - INFO - Successfully created a VM: VMtest1
2021-11-25 11:47:42 - sshInstance.py - [line:69] - root - INFO - virt-install --name VMtest2 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_1 --boot hd --disk path=/home//image/ubuntu20.04_2.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port==5901 --noautoconsole

** (process:108641): [1;33mWARNING[0m **: [34m11:47:53.235[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
2021-11-25 11:47:45 - sshInstance.py - [line:69] - root - INFO - Domain creation completed.
[root@WW30CYP10 ~]# 
2021-11-25 11:47:48 - test_network_sriov_stress.py - [line:205] - root - INFO - Successfully created a VM: VMtest2
2021-11-25 11:47:51 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
2021-11-25 11:47:51 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 11:47:56 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest1
2021-11-25 11:48:59 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
2021-11-25 11:48:59 - sshInstance.py - [line:48] - root - INFO - 192.168.122.72/24

2021-11-25 11:49:04 - test_network_sriov_stress.py - [line:216] - root - INFO - Successfully got VMtest1 IP: 192.168.122.72/24

2021-11-25 11:49:07 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
2021-11-25 11:49:07 - sshInstance.py - [line:48] - root - INFO - 192.168.122.156/24

2021-11-25 11:49:12 - test_network_sriov_stress.py - [line:216] - root - INFO - Successfully got VMtest2 IP: 192.168.122.156/24

2021-11-25 11:49:16 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.122.72
PING 192.168.122.72 (192.168.122.72) 56(84) bytes of data.
64 bytes from 192.168.122.72: icmp_seq=1 ttl=64 time=0.110 ms
2021-11-25 11:49:17 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=2 ttl=64 time=0.096 ms
2021-11-25 11:49:18 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=3 ttl=64 time=0.107 ms
2021-11-25 11:49:19 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=4 ttl=64 time=0.078 ms
2021-11-25 11:49:20 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=5 ttl=64 time=0.071 ms

--- 192.168.122.72 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4079ms
rtt min/avg/max/mdev = 0.071/0.092/0.110/0.017 ms
[root@WW30CYP10 ~]# 
2021-11-25 11:49:28 - sshInstance.py - [line:89] - root - INFO - ssh root@192.168.122.72
root@192.168.122.72's password: 
2021-11-25 11:49:36 - sshInstance.py - [line:89] - root - INFO - 
Welcome to Ubuntu 20.04 LTS (GNU/Linux 5.4.0-26-generic x86_64)
 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage
  System information as of Wed 24 Nov 2021 10:49:45 PM EST
  System load:  0.07               Processes:             135
  Usage of /:   46.8% of 19.07GB   Users logged in:       0
  Memory usage: 30%                IPv4 address for ens3: 192.168.122.72
  Swap usage:   0%

366 updates can be installed immediately.
222 of these updates are security updates.
To see these additional updates run: apt list --upgradable

Last login: Wed Nov 24 22:28:28 2021 from 192.168.122.1
root@localhost:~# 
2021-11-25 11:49:44 - sshInstance.py - [line:89] - root - INFO - lspci -Dnn | grep "8086:1889" | awk '{print $1;}'
0000:00:05.0
root@localhost:~# 
2021-11-25 11:49:50 - test_network_sriov_stress.py - [line:306] - root - INFO - successfully got vf pci id of vm1: 0000:00:05.0
2021-11-25 11:49:55 - sshInstance.py - [line:89] - root - INFO - ls /sys/bus/pci/devices/0000\:00\:05.0/net/ --color=never
ens5
root@localhost:~# 
2021-11-25 11:50:00 - test_network_sriov_stress.py - [line:317] - root - INFO - Successfully got vf device name of vm1: ens5
2021-11-25 11:50:05 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 192.168.10.12
root@localhost:~# 
2021-11-25 11:50:08 - test_network_sriov_stress.py - [line:268] - root - INFO - Successfully assigned ip to ethernet: ens5
2021-11-25 11:50:13 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 down
root@localhost:~# 
2021-11-25 11:50:21 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 hw ether 1234567890ac
root@localhost:~# 
2021-11-25 11:50:29 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 up
root@localhost:~# 
2021-11-25 11:50:37 - sshInstance.py - [line:89] - root - INFO - nmcli device connect ens5
Command 'nmcli' not found, but can be installed with:
apt install network-manager
root@localhost:~# 
2021-11-25 11:50:45 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5
ens5: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.10.12  netmask 255.255.255.0  broadcast 192.168.10.255
        inet6 fe80::1034:56ff:fe78:90ac  prefixlen 64  scopeid 0x20<link>
        ether 12:34:56:78:90:ac  txqueuelen 1000  (Ethernet)
        RX packets 0  bytes 0 (0.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 8  bytes 696 (696.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
root@localhost:~# 
2021-11-25 11:50:53 - sshInstance.py - [line:89] - root - INFO - exit
logout
Connection to 192.168.122.72 closed.
[root@WW30CYP10 ~]# 
2021-11-25 11:51:00 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.122.156
PING 192.168.122.156 (192.168.122.156) 56(84) bytes of data.
64 bytes from 192.168.122.156: icmp_seq=1 ttl=64 time=0.166 ms
2021-11-25 11:51:01 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.156: icmp_seq=2 ttl=64 time=0.095 ms
2021-11-25 11:51:02 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.156: icmp_seq=3 ttl=64 time=0.088 ms
2021-11-25 11:51:03 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.156: icmp_seq=4 ttl=64 time=0.109 ms
2021-11-25 11:51:04 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.156: icmp_seq=5 ttl=64 time=0.083 ms

--- 192.168.122.156 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4092ms
rtt min/avg/max/mdev = 0.083/0.108/0.166/0.030 ms
[root@WW30CYP10 ~]# 
2021-11-25 11:51:12 - sshInstance.py - [line:89] - root - INFO - ssh root@192.168.122.156
root@192.168.122.156's password: 
2021-11-25 11:51:20 - sshInstance.py - [line:89] - root - INFO - 
Welcome to Ubuntu 20.04 LTS (GNU/Linux 5.4.0-26-generic x86_64)
 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage
  System information as of Wed 24 Nov 2021 10:51:28 PM EST
  System load:  0.0                Processes:             137
  Usage of /:   46.6% of 19.07GB   Users logged in:       0
  Memory usage: 30%                IPv4 address for ens3: 192.168.122.156
  Swap usage:   0%

366 updates can be installed immediately.
222 of these updates are security updates.
To see these additional updates run: apt list --upgradable

Last login: Wed Nov 24 22:14:00 2021 from 192.168.122.1
root@localhost:~# 
2021-11-25 11:51:28 - sshInstance.py - [line:89] - root - INFO - lspci -Dnn | grep "8086:1889" | awk '{print $1;}'
0000:00:05.0
root@localhost:~# 
2021-11-25 11:51:34 - test_network_sriov_stress.py - [line:306] - root - INFO - successfully got vf pci id of vm1: 0000:00:05.0
2021-11-25 11:51:39 - sshInstance.py - [line:89] - root - INFO - ls /sys/bus/pci/devices/0000\:00\:05.0/net/ --color=never
ens5
root@localhost:~# 
2021-11-25 11:51:44 - test_network_sriov_stress.py - [line:317] - root - INFO - Successfully got vf device name of vm1: ens5
2021-11-25 11:51:49 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 192.168.10.13
root@localhost:~# 
2021-11-25 11:51:52 - test_network_sriov_stress.py - [line:268] - root - INFO - Successfully assigned ip to ethernet: ens5
2021-11-25 11:51:57 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 down
root@localhost:~# 
2021-11-25 11:52:05 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 hw ether 1234567890ab
root@localhost:~# 
2021-11-25 11:52:13 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 up
root@localhost:~# 
2021-11-25 11:52:21 - sshInstance.py - [line:89] - root - INFO - nmcli device connect ens5
Command 'nmcli' not found, but can be installed with:
apt install network-manager
root@localhost:~# 
2021-11-25 11:52:29 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5
ens5: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.10.13  netmask 255.255.255.0  broadcast 192.168.10.255
        inet6 fe80::1034:56ff:fe78:90ab  prefixlen 64  scopeid 0x20<link>
        ether 12:34:56:78:90:ab  txqueuelen 1000  (Ethernet)
        RX packets 0  bytes 0 (0.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 9  bytes 766 (766.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
root@localhost:~# 
2021-11-25 11:52:37 - sshInstance.py - [line:89] - root - INFO - exit
logout
Connection to 192.168.122.156 closed.
[root@WW30CYP10 ~]# 
2021-11-25 11:52:44 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.122.72
PING 192.168.122.72 (192.168.122.72) 56(84) bytes of data.
64 bytes from 192.168.122.72: icmp_seq=1 ttl=64 time=0.143 ms
2021-11-25 11:52:45 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=2 ttl=64 time=0.109 ms
2021-11-25 11:52:46 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=3 ttl=64 time=0.152 ms
2021-11-25 11:52:47 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=4 ttl=64 time=0.094 ms
2021-11-25 11:52:48 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=5 ttl=64 time=0.089 ms

--- 192.168.122.72 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4105ms
rtt min/avg/max/mdev = 0.089/0.117/0.152/0.027 ms
[root@WW30CYP10 ~]# 
2021-11-25 11:52:56 - sshInstance.py - [line:89] - root - INFO - ssh root@192.168.122.72
root@192.168.122.72's password: 
2021-11-25 11:53:04 - sshInstance.py - [line:89] - root - INFO - 
Welcome to Ubuntu 20.04 LTS (GNU/Linux 5.4.0-26-generic x86_64)
 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage
  System information as of Wed 24 Nov 2021 10:53:13 PM EST
  System load:  0.01               Processes:             137
  Usage of /:   46.8% of 19.07GB   Users logged in:       0
  Memory usage: 30%                IPv4 address for ens3: 192.168.122.72
  Swap usage:   0%                 IPv4 address for ens5: 192.168.10.12

366 updates can be installed immediately.
222 of these updates are security updates.
To see these additional updates run: apt list --upgradable

Last login: Wed Nov 24 22:49:46 2021 from 192.168.122.1
root@localhost:~# 
2021-11-25 11:53:12 - sshInstance.py - [line:89] - root - INFO - nohup ping -w 600 192.168.10.11 > ping_sut1.txt &
[1] 1053
root@localhost:~# 
root@localhost:~# nohup: ignoring input and redirecting stderr to stdout

2021-11-25 11:53:20 - sshInstance.py - [line:89] - root - INFO - nohup ping6 -I ens5 -w 600 fe80::b696:91ff:fe9c:f760 >ping6_sut1.txt &
[2] 1056
root@localhost:~# 
root@localhost:~# nohup: ignoring input and redirecting stderr to stdout

2021-11-25 11:53:28 - sshInstance.py - [line:89] - root - INFO - nohup ping -w 600 192.168.10.13 > ping_vm2.txt &
[3] 1058
root@localhost:~# 
root@localhost:~# nohup: ignoring input and redirecting stderr to stdout

2021-11-25 11:53:36 - sshInstance.py - [line:89] - root - INFO - nohup ping6 -I ens5 -w 600 fe80::1034:56ff:fe78:90ab >ping6_vm2.txt &
[4] 1060
root@localhost:~# 
root@localhost:~# nohup: ignoring input and redirecting stderr to stdout

2021-11-25 11:53:44 - sshInstance.py - [line:89] - root - INFO - nohup ping -w 600 192.168.10.10 > ping_sut2.txt &
[5] 1061
root@localhost:~# 
root@localhost:~# nohup: ignoring input and redirecting stderr to stdout

2021-11-25 11:53:52 - sshInstance.py - [line:89] - root - INFO - nohup ping6 -I ens5 -w 600 fe80::b696:91ff:fe9c:f762 >ping6_sut2.txt &
[6] 1062
root@localhost:~# 
root@localhost:~# nohup: ignoring input and redirecting stderr to stdout

2021-11-25 11:53:55 - test_network_sriov_stress.py - [line:567] - root - INFO - ---ping end -----
2021-11-25 11:54:00 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_sut1.txt
64 bytes from 192.168.10.11: icmp_seq=38 ttl=64 time=0.029 ms
64 bytes from 192.168.10.11: icmp_seq=39 ttl=64 time=0.028 ms
64 bytes from 192.168.10.11: icmp_seq=40 ttl=64 time=0.027 ms
64 bytes from 192.168.10.11: icmp_seq=41 ttl=64 time=0.028 ms
64 bytes from 192.168.10.11: icmp_seq=42 ttl=64 time=0.032 ms
64 bytes from 192.168.10.11: icmp_seq=43 ttl=64 time=0.027 ms
64 bytes from 192.168.10.11: icmp_seq=44 ttl=64 time=0.029 ms
64 bytes from 192.168.10.11: icmp_seq=45 ttl=64 time=0.030 ms
64 bytes from 192.168.10.11: icmp_seq=46 ttl=64 time=0.028 ms
64 bytes from 192.168.10.11: icmp_seq=47 ttl=64 time=0.030 ms
root@localhost:~# 
2021-11-25 11:54:08 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_sut1.txt
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=38 ttl=64 time=0.026 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=39 ttl=64 time=0.029 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=40 ttl=64 time=0.026 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=41 ttl=64 time=0.031 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=42 ttl=64 time=0.026 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=43 ttl=64 time=0.029 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=44 ttl=64 time=0.033 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=45 ttl=64 time=0.020 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=46 ttl=64 time=0.029 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=47 ttl=64 time=0.028 ms
root@localhost:~# 
2021-11-25 11:54:16 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_vm2.txt
64 bytes from 192.168.10.13: icmp_seq=38 ttl=64 time=0.035 ms
64 bytes from 192.168.10.13: icmp_seq=39 ttl=64 time=0.032 ms
64 bytes from 192.168.10.13: icmp_seq=40 ttl=64 time=0.035 ms
64 bytes from 192.168.10.13: icmp_seq=41 ttl=64 time=0.031 ms
64 bytes from 192.168.10.13: icmp_seq=42 ttl=64 time=0.030 ms
64 bytes from 192.168.10.13: icmp_seq=43 ttl=64 time=0.030 ms
64 bytes from 192.168.10.13: icmp_seq=44 ttl=64 time=0.032 ms
64 bytes from 192.168.10.13: icmp_seq=45 ttl=64 time=0.029 ms
64 bytes from 192.168.10.13: icmp_seq=46 ttl=64 time=0.030 ms
64 bytes from 192.168.10.13: icmp_seq=47 ttl=64 time=0.032 ms
root@localhost:~# 
2021-11-25 11:54:24 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_vm2.txt
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=38 ttl=64 time=0.031 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=39 ttl=64 time=0.031 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=40 ttl=64 time=0.034 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=41 ttl=64 time=0.035 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=42 ttl=64 time=0.032 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=43 ttl=64 time=0.032 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=44 ttl=64 time=0.028 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=45 ttl=64 time=0.036 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=46 ttl=64 time=0.037 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=47 ttl=64 time=0.031 ms
root@localhost:~# 
2021-11-25 11:54:32 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_sut2.txt
64 bytes from 192.168.10.10: icmp_seq=38 ttl=64 time=0.029 ms
64 bytes from 192.168.10.10: icmp_seq=39 ttl=64 time=0.027 ms
64 bytes from 192.168.10.10: icmp_seq=40 ttl=64 time=0.033 ms
64 bytes from 192.168.10.10: icmp_seq=41 ttl=64 time=0.029 ms
64 bytes from 192.168.10.10: icmp_seq=42 ttl=64 time=0.027 ms
64 bytes from 192.168.10.10: icmp_seq=43 ttl=64 time=0.027 ms
64 bytes from 192.168.10.10: icmp_seq=44 ttl=64 time=0.027 ms
64 bytes from 192.168.10.10: icmp_seq=45 ttl=64 time=0.028 ms
64 bytes from 192.168.10.10: icmp_seq=46 ttl=64 time=0.028 ms
64 bytes from 192.168.10.10: icmp_seq=47 ttl=64 time=0.025 ms
root@localhost:~# 
2021-11-25 11:54:40 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_sut2.txt
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=38 ttl=64 time=0.040 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=39 ttl=64 time=0.037 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=40 ttl=64 time=0.035 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=41 ttl=64 time=0.034 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=42 ttl=64 time=0.037 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=43 ttl=64 time=0.038 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=44 ttl=64 time=0.037 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=45 ttl=64 time=0.032 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=46 ttl=64 time=0.036 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=47 ttl=64 time=0.033 ms
root@localhost:~# 
2021-11-25 11:54:58 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_sut1.txt
64 bytes from 192.168.10.11: icmp_seq=95 ttl=64 time=0.028 ms
64 bytes from 192.168.10.11: icmp_seq=96 ttl=64 time=0.029 ms
64 bytes from 192.168.10.11: icmp_seq=97 ttl=64 time=0.028 ms
64 bytes from 192.168.10.11: icmp_seq=98 ttl=64 time=0.028 ms
64 bytes from 192.168.10.11: icmp_seq=99 ttl=64 time=0.027 ms
64 bytes from 192.168.10.11: icmp_seq=100 ttl=64 time=0.064 ms
64 bytes from 192.168.10.11: icmp_seq=101 ttl=64 time=0.039 ms
64 bytes from 192.168.10.11: icmp_seq=102 ttl=64 time=0.032 ms
64 bytes from 192.168.10.11: icmp_seq=103 ttl=64 time=0.030 ms
64 bytes from 192.168.10.11: icmp_seq=104 ttl=64 time=0.028 ms
root@localhost:~# 
2021-11-25 11:55:06 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_sut1.txt
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=95 ttl=64 time=0.030 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=96 ttl=64 time=0.030 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=97 ttl=64 time=0.029 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=98 ttl=64 time=0.027 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=99 ttl=64 time=0.029 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=100 ttl=64 time=0.029 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=101 ttl=64 time=0.027 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=102 ttl=64 time=0.032 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=103 ttl=64 time=0.027 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=104 ttl=64 time=0.027 ms
root@localhost:~# 
2021-11-25 11:55:14 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_vm2.txt
64 bytes from 192.168.10.13: icmp_seq=95 ttl=64 time=0.033 ms
64 bytes from 192.168.10.13: icmp_seq=96 ttl=64 time=0.030 ms
64 bytes from 192.168.10.13: icmp_seq=97 ttl=64 time=0.042 ms
64 bytes from 192.168.10.13: icmp_seq=98 ttl=64 time=0.044 ms
64 bytes from 192.168.10.13: icmp_seq=99 ttl=64 time=0.034 ms
64 bytes from 192.168.10.13: icmp_seq=100 ttl=64 time=0.028 ms
64 bytes from 192.168.10.13: icmp_seq=101 ttl=64 time=0.029 ms
64 bytes from 192.168.10.13: icmp_seq=102 ttl=64 time=0.029 ms
64 bytes from 192.168.10.13: icmp_seq=103 ttl=64 time=0.032 ms
64 bytes from 192.168.10.13: icmp_seq=104 ttl=64 time=0.031 ms
root@localhost:~# 
2021-11-25 11:55:22 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_vm2.txt
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=95 ttl=64 time=0.032 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=96 ttl=64 time=0.031 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=97 ttl=64 time=0.033 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=98 ttl=64 time=0.041 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=99 ttl=64 time=0.035 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=100 ttl=64 time=0.035 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=101 ttl=64 time=0.035 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=102 ttl=64 time=0.032 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=103 ttl=64 time=0.033 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=104 ttl=64 time=0.037 ms
root@localhost:~# 
2021-11-25 11:55:30 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_sut2.txt
64 bytes from 192.168.10.10: icmp_seq=95 ttl=64 time=0.027 ms
64 bytes from 192.168.10.10: icmp_seq=96 ttl=64 time=0.028 ms
64 bytes from 192.168.10.10: icmp_seq=97 ttl=64 time=0.034 ms
64 bytes from 192.168.10.10: icmp_seq=98 ttl=64 time=0.032 ms
64 bytes from 192.168.10.10: icmp_seq=99 ttl=64 time=0.031 ms
64 bytes from 192.168.10.10: icmp_seq=100 ttl=64 time=0.026 ms
64 bytes from 192.168.10.10: icmp_seq=101 ttl=64 time=0.028 ms
64 bytes from 192.168.10.10: icmp_seq=102 ttl=64 time=0.026 ms
64 bytes from 192.168.10.10: icmp_seq=103 ttl=64 time=0.028 ms
64 bytes from 192.168.10.10: icmp_seq=104 ttl=64 time=0.025 ms
root@localhost:~# 
2021-11-25 11:55:38 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_sut2.txt
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=95 ttl=64 time=0.032 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=96 ttl=64 time=0.029 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=97 ttl=64 time=0.036 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=98 ttl=64 time=0.046 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=99 ttl=64 time=0.030 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=100 ttl=64 time=0.034 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=101 ttl=64 time=0.033 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=102 ttl=64 time=0.031 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=103 ttl=64 time=0.036 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=104 ttl=64 time=0.032 ms
root@localhost:~# 
2021-11-25 11:55:56 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_sut1.txt
64 bytes from 192.168.10.11: icmp_seq=152 ttl=64 time=0.028 ms
64 bytes from 192.168.10.11: icmp_seq=153 ttl=64 time=0.028 ms
64 bytes from 192.168.10.11: icmp_seq=154 ttl=64 time=0.027 ms
64 bytes from 192.168.10.11: icmp_seq=155 ttl=64 time=0.028 ms
64 bytes from 192.168.10.11: icmp_seq=156 ttl=64 time=0.029 ms
64 bytes from 192.168.10.11: icmp_seq=157 ttl=64 time=0.029 ms
64 bytes from 192.168.10.11: icmp_seq=158 ttl=64 time=0.029 ms
64 bytes from 192.168.10.11: icmp_seq=159 ttl=64 time=0.074 ms
64 bytes from 192.168.10.11: icmp_seq=160 ttl=64 time=0.035 ms
64 bytes from 192.168.10.11: icmp_seq=161 ttl=64 time=0.030 ms
root@localhost:~# 
2021-11-25 11:56:04 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_sut1.txt
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=152 ttl=64 time=0.032 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=153 ttl=64 time=0.027 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=154 ttl=64 time=0.037 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=155 ttl=64 time=0.027 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=156 ttl=64 time=0.027 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=157 ttl=64 time=0.027 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=158 ttl=64 time=0.041 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=159 ttl=64 time=0.028 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=160 ttl=64 time=0.028 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=161 ttl=64 time=0.037 ms
root@localhost:~# 
2021-11-25 11:56:12 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_vm2.txt
64 bytes from 192.168.10.13: icmp_seq=152 ttl=64 time=0.031 ms
64 bytes from 192.168.10.13: icmp_seq=153 ttl=64 time=0.040 ms
64 bytes from 192.168.10.13: icmp_seq=154 ttl=64 time=0.033 ms
64 bytes from 192.168.10.13: icmp_seq=155 ttl=64 time=0.028 ms
64 bytes from 192.168.10.13: icmp_seq=156 ttl=64 time=0.030 ms
64 bytes from 192.168.10.13: icmp_seq=157 ttl=64 time=0.030 ms
64 bytes from 192.168.10.13: icmp_seq=158 ttl=64 time=0.029 ms
64 bytes from 192.168.10.13: icmp_seq=159 ttl=64 time=0.033 ms
64 bytes from 192.168.10.13: icmp_seq=160 ttl=64 time=0.044 ms
64 bytes from 192.168.10.13: icmp_seq=161 ttl=64 time=0.032 ms
root@localhost:~# 
2021-11-25 11:56:20 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_vm2.txt
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=152 ttl=64 time=0.042 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=153 ttl=64 time=0.039 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=154 ttl=64 time=0.041 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=155 ttl=64 time=0.059 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=156 ttl=64 time=0.035 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=157 ttl=64 time=0.035 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=158 ttl=64 time=0.037 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=159 ttl=64 time=0.034 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=160 ttl=64 time=0.034 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=161 ttl=64 time=0.036 ms
root@localhost:~# 
2021-11-25 11:56:28 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_sut2.txt
64 bytes from 192.168.10.10: icmp_seq=152 ttl=64 time=0.027 ms
64 bytes from 192.168.10.10: icmp_seq=153 ttl=64 time=0.025 ms
64 bytes from 192.168.10.10: icmp_seq=154 ttl=64 time=0.038 ms
64 bytes from 192.168.10.10: icmp_seq=155 ttl=64 time=0.032 ms
64 bytes from 192.168.10.10: icmp_seq=156 ttl=64 time=0.036 ms
64 bytes from 192.168.10.10: icmp_seq=157 ttl=64 time=0.060 ms
64 bytes from 192.168.10.10: icmp_seq=158 ttl=64 time=0.039 ms
64 bytes from 192.168.10.10: icmp_seq=159 ttl=64 time=0.037 ms
64 bytes from 192.168.10.10: icmp_seq=160 ttl=64 time=0.041 ms
64 bytes from 192.168.10.10: icmp_seq=161 ttl=64 time=0.033 ms
root@localhost:~# 
2021-11-25 11:56:36 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_sut2.txt
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=152 ttl=64 time=0.034 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=153 ttl=64 time=0.036 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=154 ttl=64 time=0.037 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=155 ttl=64 time=0.029 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=156 ttl=64 time=0.030 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=157 ttl=64 time=0.030 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=158 ttl=64 time=0.032 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=159 ttl=64 time=0.036 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=160 ttl=64 time=0.033 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=161 ttl=64 time=0.045 ms
root@localhost:~# 
2021-11-25 11:56:54 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_sut1.txt
64 bytes from 192.168.10.11: icmp_seq=209 ttl=64 time=0.029 ms
64 bytes from 192.168.10.11: icmp_seq=210 ttl=64 time=0.030 ms
64 bytes from 192.168.10.11: icmp_seq=211 ttl=64 time=0.034 ms
64 bytes from 192.168.10.11: icmp_seq=212 ttl=64 time=0.027 ms
64 bytes from 192.168.10.11: icmp_seq=213 ttl=64 time=0.028 ms
64 bytes from 192.168.10.11: icmp_seq=214 ttl=64 time=0.028 ms
64 bytes from 192.168.10.11: icmp_seq=215 ttl=64 time=0.027 ms
64 bytes from 192.168.10.11: icmp_seq=216 ttl=64 time=0.029 ms
64 bytes from 192.168.10.11: icmp_seq=217 ttl=64 time=0.029 ms
64 bytes from 192.168.10.11: icmp_seq=218 ttl=64 time=0.061 ms
root@localhost:~# 
2021-11-25 11:57:02 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_sut1.txt
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=209 ttl=64 time=0.029 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=210 ttl=64 time=0.058 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=211 ttl=64 time=0.050 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=212 ttl=64 time=0.038 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=213 ttl=64 time=0.034 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=214 ttl=64 time=0.031 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=215 ttl=64 time=0.035 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=216 ttl=64 time=0.031 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=217 ttl=64 time=0.032 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=218 ttl=64 time=0.029 ms
root@localhost:~# 
2021-11-25 11:57:10 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_vm2.txt
64 bytes from 192.168.10.13: icmp_seq=209 ttl=64 time=0.031 ms
64 bytes from 192.168.10.13: icmp_seq=210 ttl=64 time=0.034 ms
64 bytes from 192.168.10.13: icmp_seq=211 ttl=64 time=0.029 ms
64 bytes from 192.168.10.13: icmp_seq=212 ttl=64 time=0.041 ms
64 bytes from 192.168.10.13: icmp_seq=213 ttl=64 time=0.031 ms
64 bytes from 192.168.10.13: icmp_seq=214 ttl=64 time=0.042 ms
64 bytes from 192.168.10.13: icmp_seq=215 ttl=64 time=0.029 ms
64 bytes from 192.168.10.13: icmp_seq=216 ttl=64 time=0.032 ms
64 bytes from 192.168.10.13: icmp_seq=217 ttl=64 time=0.029 ms
64 bytes from 192.168.10.13: icmp_seq=218 ttl=64 time=0.029 ms
root@localhost:~# 
2021-11-25 11:57:18 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_vm2.txt
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=209 ttl=64 time=0.035 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=210 ttl=64 time=0.033 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=211 ttl=64 time=0.038 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=212 ttl=64 time=0.034 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=213 ttl=64 time=0.033 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=214 ttl=64 time=0.038 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=215 ttl=64 time=0.036 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=216 ttl=64 time=0.030 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=217 ttl=64 time=0.032 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=218 ttl=64 time=0.029 ms
root@localhost:~# 
2021-11-25 11:57:26 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_sut2.txt
64 bytes from 192.168.10.10: icmp_seq=209 ttl=64 time=0.037 ms
64 bytes from 192.168.10.10: icmp_seq=210 ttl=64 time=0.028 ms
64 bytes from 192.168.10.10: icmp_seq=211 ttl=64 time=0.029 ms
64 bytes from 192.168.10.10: icmp_seq=212 ttl=64 time=0.025 ms
64 bytes from 192.168.10.10: icmp_seq=213 ttl=64 time=0.025 ms
64 bytes from 192.168.10.10: icmp_seq=214 ttl=64 time=0.026 ms
64 bytes from 192.168.10.10: icmp_seq=215 ttl=64 time=0.027 ms
64 bytes from 192.168.10.10: icmp_seq=216 ttl=64 time=0.042 ms
64 bytes from 192.168.10.10: icmp_seq=217 ttl=64 time=0.034 ms
64 bytes from 192.168.10.10: icmp_seq=218 ttl=64 time=0.028 ms
root@localhost:~# 
2021-11-25 11:57:34 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_sut2.txt
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=209 ttl=64 time=0.039 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=210 ttl=64 time=0.034 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=211 ttl=64 time=0.035 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=212 ttl=64 time=0.034 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=213 ttl=64 time=0.034 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=214 ttl=64 time=0.031 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=215 ttl=64 time=0.034 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=216 ttl=64 time=0.033 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=217 ttl=64 time=0.032 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=218 ttl=64 time=0.037 ms
root@localhost:~# 
2021-11-25 11:57:52 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_sut1.txt
64 bytes from 192.168.10.11: icmp_seq=265 ttl=64 time=0.029 ms
64 bytes from 192.168.10.11: icmp_seq=266 ttl=64 time=0.042 ms
64 bytes from 192.168.10.11: icmp_seq=267 ttl=64 time=0.033 ms
64 bytes from 192.168.10.11: icmp_seq=268 ttl=64 time=0.030 ms
64 bytes from 192.168.10.11: icmp_seq=269 ttl=64 time=0.028 ms
64 bytes from 192.168.10.11: icmp_seq=270 ttl=64 time=0.029 ms
64 bytes from 192.168.10.11: icmp_seq=271 ttl=64 time=0.041 ms
64 bytes from 192.168.10.11: icmp_seq=272 ttl=64 time=0.030 ms
64 bytes from 192.168.10.11: icmp_seq=273 ttl=64 time=0.029 ms
64 bytes from 192.168.10.11: icmp_seq=274 ttl=64 time=0.031 ms
root@localhost:~# 
2021-11-25 11:58:00 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_sut1.txt
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=265 ttl=64 time=0.024 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=266 ttl=64 time=0.035 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=267 ttl=64 time=0.065 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=268 ttl=64 time=0.057 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=269 ttl=64 time=0.038 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=270 ttl=64 time=0.027 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=271 ttl=64 time=0.028 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=272 ttl=64 time=0.030 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=273 ttl=64 time=0.046 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=274 ttl=64 time=0.028 ms
root@localhost:~# 
2021-11-25 11:58:08 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_vm2.txt
64 bytes from 192.168.10.13: icmp_seq=265 ttl=64 time=0.040 ms
64 bytes from 192.168.10.13: icmp_seq=266 ttl=64 time=0.031 ms
64 bytes from 192.168.10.13: icmp_seq=267 ttl=64 time=0.039 ms
64 bytes from 192.168.10.13: icmp_seq=268 ttl=64 time=0.038 ms
64 bytes from 192.168.10.13: icmp_seq=269 ttl=64 time=0.032 ms
64 bytes from 192.168.10.13: icmp_seq=270 ttl=64 time=0.037 ms
64 bytes from 192.168.10.13: icmp_seq=271 ttl=64 time=0.032 ms
64 bytes from 192.168.10.13: icmp_seq=272 ttl=64 time=0.032 ms
64 bytes from 192.168.10.13: icmp_seq=273 ttl=64 time=0.027 ms
64 bytes from 192.168.10.13: icmp_seq=274 ttl=64 time=0.035 ms
root@localhost:~# 
2021-11-25 11:58:17 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_vm2.txt
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=265 ttl=64 time=0.035 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=266 ttl=64 time=0.041 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=267 ttl=64 time=0.037 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=268 ttl=64 time=0.036 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=269 ttl=64 time=0.034 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=270 ttl=64 time=0.035 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=271 ttl=64 time=0.037 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=272 ttl=64 time=0.046 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=273 ttl=64 time=0.034 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=274 ttl=64 time=0.036 ms
root@localhost:~# 
2021-11-25 11:58:25 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_sut2.txt
64 bytes from 192.168.10.10: icmp_seq=265 ttl=64 time=0.031 ms
64 bytes from 192.168.10.10: icmp_seq=266 ttl=64 time=0.031 ms
64 bytes from 192.168.10.10: icmp_seq=267 ttl=64 time=0.035 ms
64 bytes from 192.168.10.10: icmp_seq=268 ttl=64 time=0.044 ms
64 bytes from 192.168.10.10: icmp_seq=269 ttl=64 time=0.030 ms
64 bytes from 192.168.10.10: icmp_seq=270 ttl=64 time=0.027 ms
64 bytes from 192.168.10.10: icmp_seq=271 ttl=64 time=0.030 ms
64 bytes from 192.168.10.10: icmp_seq=272 ttl=64 time=0.026 ms
64 bytes from 192.168.10.10: icmp_seq=273 ttl=64 time=0.032 ms
64 bytes from 192.168.10.10: icmp_seq=274 ttl=64 time=0.032 ms
root@localhost:~# 
2021-11-25 11:58:33 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_sut2.txt
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=265 ttl=64 time=0.031 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=266 ttl=64 time=0.034 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=267 ttl=64 time=0.035 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=268 ttl=64 time=0.030 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=269 ttl=64 time=0.031 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=270 ttl=64 time=0.413 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=271 ttl=64 time=0.028 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=272 ttl=64 time=0.028 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=273 ttl=64 time=0.037 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=274 ttl=64 time=0.031 ms
root@localhost:~# 
2021-11-25 11:58:51 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_sut1.txt
64 bytes from 192.168.10.11: icmp_seq=322 ttl=64 time=0.036 ms
64 bytes from 192.168.10.11: icmp_seq=323 ttl=64 time=0.030 ms
64 bytes from 192.168.10.11: icmp_seq=324 ttl=64 time=0.034 ms
64 bytes from 192.168.10.11: icmp_seq=325 ttl=64 time=0.037 ms
64 bytes from 192.168.10.11: icmp_seq=326 ttl=64 time=0.030 ms
64 bytes from 192.168.10.11: icmp_seq=327 ttl=64 time=0.037 ms
64 bytes from 192.168.10.11: icmp_seq=328 ttl=64 time=0.034 ms
64 bytes from 192.168.10.11: icmp_seq=329 ttl=64 time=0.036 ms
64 bytes from 192.168.10.11: icmp_seq=330 ttl=64 time=0.032 ms
64 bytes from 192.168.10.11: icmp_seq=331 ttl=64 time=0.032 ms
root@localhost:~# 
2021-11-25 11:58:59 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_sut1.txt
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=322 ttl=64 time=0.027 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=323 ttl=64 time=0.026 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=324 ttl=64 time=0.038 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=325 ttl=64 time=0.029 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=326 ttl=64 time=0.028 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=327 ttl=64 time=0.031 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=328 ttl=64 time=0.028 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=329 ttl=64 time=0.027 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=330 ttl=64 time=0.030 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=331 ttl=64 time=0.026 ms
root@localhost:~# 
2021-11-25 11:59:07 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_vm2.txt
64 bytes from 192.168.10.13: icmp_seq=322 ttl=64 time=0.040 ms
64 bytes from 192.168.10.13: icmp_seq=323 ttl=64 time=0.034 ms
64 bytes from 192.168.10.13: icmp_seq=324 ttl=64 time=0.037 ms
64 bytes from 192.168.10.13: icmp_seq=325 ttl=64 time=0.033 ms
64 bytes from 192.168.10.13: icmp_seq=326 ttl=64 time=0.029 ms
64 bytes from 192.168.10.13: icmp_seq=327 ttl=64 time=0.028 ms
64 bytes from 192.168.10.13: icmp_seq=328 ttl=64 time=0.044 ms
64 bytes from 192.168.10.13: icmp_seq=329 ttl=64 time=0.044 ms
64 bytes from 192.168.10.13: icmp_seq=330 ttl=64 time=0.037 ms
64 bytes from 192.168.10.13: icmp_seq=331 ttl=64 time=0.035 ms
root@localhost:~# 
2021-11-25 11:59:15 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_vm2.txt
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=322 ttl=64 time=0.035 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=323 ttl=64 time=0.039 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=324 ttl=64 time=0.036 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=325 ttl=64 time=0.038 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=326 ttl=64 time=0.039 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=327 ttl=64 time=0.426 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=328 ttl=64 time=0.037 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=329 ttl=64 time=0.042 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=330 ttl=64 time=0.037 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=331 ttl=64 time=0.040 ms
root@localhost:~# 
2021-11-25 11:59:23 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_sut2.txt
64 bytes from 192.168.10.10: icmp_seq=322 ttl=64 time=0.025 ms
64 bytes from 192.168.10.10: icmp_seq=323 ttl=64 time=0.034 ms
64 bytes from 192.168.10.10: icmp_seq=324 ttl=64 time=0.031 ms
64 bytes from 192.168.10.10: icmp_seq=325 ttl=64 time=0.026 ms
64 bytes from 192.168.10.10: icmp_seq=326 ttl=64 time=0.034 ms
64 bytes from 192.168.10.10: icmp_seq=327 ttl=64 time=0.027 ms
64 bytes from 192.168.10.10: icmp_seq=328 ttl=64 time=0.029 ms
64 bytes from 192.168.10.10: icmp_seq=329 ttl=64 time=0.026 ms
64 bytes from 192.168.10.10: icmp_seq=330 ttl=64 time=0.029 ms
64 bytes from 192.168.10.10: icmp_seq=331 ttl=64 time=0.026 ms
root@localhost:~# 
2021-11-25 11:59:31 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_sut2.txt
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=322 ttl=64 time=0.028 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=323 ttl=64 time=0.031 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=324 ttl=64 time=0.039 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=325 ttl=64 time=0.032 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=326 ttl=64 time=0.030 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=327 ttl=64 time=0.028 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=328 ttl=64 time=0.028 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=329 ttl=64 time=0.031 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=330 ttl=64 time=0.031 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=331 ttl=64 time=0.029 ms
root@localhost:~# 
2021-11-25 11:59:49 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_sut1.txt
64 bytes from 192.168.10.11: icmp_seq=379 ttl=64 time=0.035 ms
64 bytes from 192.168.10.11: icmp_seq=380 ttl=64 time=0.032 ms
64 bytes from 192.168.10.11: icmp_seq=381 ttl=64 time=0.036 ms
64 bytes from 192.168.10.11: icmp_seq=382 ttl=64 time=0.031 ms
64 bytes from 192.168.10.11: icmp_seq=383 ttl=64 time=0.032 ms
64 bytes from 192.168.10.11: icmp_seq=384 ttl=64 time=0.035 ms
64 bytes from 192.168.10.11: icmp_seq=385 ttl=64 time=0.035 ms
64 bytes from 192.168.10.11: icmp_seq=386 ttl=64 time=0.028 ms
64 bytes from 192.168.10.11: icmp_seq=387 ttl=64 time=0.029 ms
64 bytes from 192.168.10.11: icmp_seq=388 ttl=64 time=0.029 ms
root@localhost:~# 
2021-11-25 11:59:57 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_sut1.txt
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=379 ttl=64 time=0.026 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=380 ttl=64 time=0.028 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=381 ttl=64 time=0.053 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=382 ttl=64 time=0.028 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=383 ttl=64 time=0.026 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=384 ttl=64 time=0.044 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=385 ttl=64 time=0.029 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=386 ttl=64 time=0.032 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=387 ttl=64 time=0.029 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=388 ttl=64 time=0.026 ms
root@localhost:~# 
2021-11-25 12:00:05 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_vm2.txt
64 bytes from 192.168.10.13: icmp_seq=379 ttl=64 time=0.031 ms
64 bytes from 192.168.10.13: icmp_seq=380 ttl=64 time=0.030 ms
64 bytes from 192.168.10.13: icmp_seq=381 ttl=64 time=0.031 ms
64 bytes from 192.168.10.13: icmp_seq=382 ttl=64 time=0.035 ms
64 bytes from 192.168.10.13: icmp_seq=383 ttl=64 time=0.031 ms
64 bytes from 192.168.10.13: icmp_seq=384 ttl=64 time=0.075 ms
64 bytes from 192.168.10.13: icmp_seq=385 ttl=64 time=0.048 ms
64 bytes from 192.168.10.13: icmp_seq=386 ttl=64 time=0.032 ms
64 bytes from 192.168.10.13: icmp_seq=387 ttl=64 time=0.032 ms
64 bytes from 192.168.10.13: icmp_seq=388 ttl=64 time=0.040 ms
root@localhost:~# 
2021-11-25 12:00:13 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_vm2.txt
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=379 ttl=64 time=0.035 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=380 ttl=64 time=3.66 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=381 ttl=64 time=0.063 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=382 ttl=64 time=0.039 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=383 ttl=64 time=0.034 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=384 ttl=64 time=0.031 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=385 ttl=64 time=0.032 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=386 ttl=64 time=0.028 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=387 ttl=64 time=0.031 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=388 ttl=64 time=0.027 ms
root@localhost:~# 
2021-11-25 12:00:21 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_sut2.txt
64 bytes from 192.168.10.10: icmp_seq=379 ttl=64 time=0.026 ms
64 bytes from 192.168.10.10: icmp_seq=380 ttl=64 time=0.025 ms
64 bytes from 192.168.10.10: icmp_seq=381 ttl=64 time=0.028 ms
64 bytes from 192.168.10.10: icmp_seq=382 ttl=64 time=0.030 ms
64 bytes from 192.168.10.10: icmp_seq=383 ttl=64 time=0.032 ms
64 bytes from 192.168.10.10: icmp_seq=384 ttl=64 time=0.027 ms
64 bytes from 192.168.10.10: icmp_seq=385 ttl=64 time=0.035 ms
64 bytes from 192.168.10.10: icmp_seq=386 ttl=64 time=0.026 ms
64 bytes from 192.168.10.10: icmp_seq=387 ttl=64 time=0.026 ms
64 bytes from 192.168.10.10: icmp_seq=388 ttl=64 time=0.026 ms
root@localhost:~# 
2021-11-25 12:00:29 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_sut2.txt
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=379 ttl=64 time=0.029 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=380 ttl=64 time=0.029 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=381 ttl=64 time=0.033 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=382 ttl=64 time=0.029 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=383 ttl=64 time=0.030 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=384 ttl=64 time=0.035 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=385 ttl=64 time=0.034 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=386 ttl=64 time=0.031 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=387 ttl=64 time=0.030 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=388 ttl=64 time=0.032 ms
root@localhost:~# 
2021-11-25 12:00:47 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_sut1.txt
64 bytes from 192.168.10.11: icmp_seq=435 ttl=64 time=0.034 ms
64 bytes from 192.168.10.11: icmp_seq=436 ttl=64 time=0.033 ms
64 bytes from 192.168.10.11: icmp_seq=437 ttl=64 time=0.033 ms
64 bytes from 192.168.10.11: icmp_seq=438 ttl=64 time=0.032 ms
64 bytes from 192.168.10.11: icmp_seq=439 ttl=64 time=0.061 ms
64 bytes from 192.168.10.11: icmp_seq=440 ttl=64 time=0.035 ms
64 bytes from 192.168.10.11: icmp_seq=441 ttl=64 time=0.033 ms
64 bytes from 192.168.10.11: icmp_seq=442 ttl=64 time=0.036 ms
64 bytes from 192.168.10.11: icmp_seq=443 ttl=64 time=0.032 ms
64 bytes from 192.168.10.11: icmp_seq=444 ttl=64 time=0.031 ms
root@localhost:~# 
2021-11-25 12:00:55 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_sut1.txt
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=435 ttl=64 time=0.027 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=436 ttl=64 time=0.027 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=437 ttl=64 time=0.026 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=438 ttl=64 time=0.032 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=439 ttl=64 time=0.026 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=440 ttl=64 time=0.025 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=441 ttl=64 time=0.025 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=442 ttl=64 time=0.026 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=443 ttl=64 time=0.042 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=444 ttl=64 time=0.034 ms
root@localhost:~# 
2021-11-25 12:01:03 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_vm2.txt
64 bytes from 192.168.10.13: icmp_seq=435 ttl=64 time=0.032 ms
64 bytes from 192.168.10.13: icmp_seq=436 ttl=64 time=0.033 ms
64 bytes from 192.168.10.13: icmp_seq=437 ttl=64 time=0.030 ms
64 bytes from 192.168.10.13: icmp_seq=438 ttl=64 time=0.030 ms
64 bytes from 192.168.10.13: icmp_seq=439 ttl=64 time=0.029 ms
64 bytes from 192.168.10.13: icmp_seq=440 ttl=64 time=0.032 ms
64 bytes from 192.168.10.13: icmp_seq=441 ttl=64 time=0.028 ms
64 bytes from 192.168.10.13: icmp_seq=442 ttl=64 time=0.027 ms
64 bytes from 192.168.10.13: icmp_seq=443 ttl=64 time=0.035 ms
64 bytes from 192.168.10.13: icmp_seq=444 ttl=64 time=0.028 ms
root@localhost:~# 
2021-11-25 12:01:11 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_vm2.txt
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=435 ttl=64 time=0.031 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=436 ttl=64 time=0.030 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=437 ttl=64 time=0.029 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=438 ttl=64 time=0.039 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=439 ttl=64 time=0.034 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=440 ttl=64 time=0.033 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=441 ttl=64 time=0.032 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=442 ttl=64 time=0.053 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=443 ttl=64 time=0.048 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=444 ttl=64 time=0.035 ms
root@localhost:~# 
2021-11-25 12:01:19 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_sut2.txt
64 bytes from 192.168.10.10: icmp_seq=435 ttl=64 time=0.029 ms
64 bytes from 192.168.10.10: icmp_seq=436 ttl=64 time=0.029 ms
64 bytes from 192.168.10.10: icmp_seq=437 ttl=64 time=0.027 ms
64 bytes from 192.168.10.10: icmp_seq=438 ttl=64 time=0.031 ms
64 bytes from 192.168.10.10: icmp_seq=439 ttl=64 time=0.028 ms
64 bytes from 192.168.10.10: icmp_seq=440 ttl=64 time=0.034 ms
64 bytes from 192.168.10.10: icmp_seq=441 ttl=64 time=0.028 ms
64 bytes from 192.168.10.10: icmp_seq=442 ttl=64 time=0.026 ms
64 bytes from 192.168.10.10: icmp_seq=443 ttl=64 time=0.029 ms
64 bytes from 192.168.10.10: icmp_seq=444 ttl=64 time=0.036 ms
root@localhost:~# 
2021-11-25 12:01:27 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_sut2.txt
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=435 ttl=64 time=0.032 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=436 ttl=64 time=0.031 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=437 ttl=64 time=0.041 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=438 ttl=64 time=0.030 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=439 ttl=64 time=0.065 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=440 ttl=64 time=0.031 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=441 ttl=64 time=0.034 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=442 ttl=64 time=0.037 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=443 ttl=64 time=0.028 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=444 ttl=64 time=0.028 ms
root@localhost:~# 
2021-11-25 12:01:45 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_sut1.txt
64 bytes from 192.168.10.11: icmp_seq=492 ttl=64 time=0.031 ms
64 bytes from 192.168.10.11: icmp_seq=493 ttl=64 time=0.032 ms
64 bytes from 192.168.10.11: icmp_seq=494 ttl=64 time=0.032 ms
64 bytes from 192.168.10.11: icmp_seq=495 ttl=64 time=0.033 ms
64 bytes from 192.168.10.11: icmp_seq=496 ttl=64 time=0.032 ms
64 bytes from 192.168.10.11: icmp_seq=497 ttl=64 time=0.034 ms
64 bytes from 192.168.10.11: icmp_seq=498 ttl=64 time=0.040 ms
64 bytes from 192.168.10.11: icmp_seq=499 ttl=64 time=0.033 ms
64 bytes from 192.168.10.11: icmp_seq=500 ttl=64 time=0.033 ms
64 bytes from 192.168.10.11: icmp_seq=501 ttl=64 time=0.035 ms
root@localhost:~# 
2021-11-25 12:01:53 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_sut1.txt
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=492 ttl=64 time=0.025 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=493 ttl=64 time=0.026 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=494 ttl=64 time=0.033 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=495 ttl=64 time=0.027 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=496 ttl=64 time=0.030 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=497 ttl=64 time=0.027 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=498 ttl=64 time=0.026 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=499 ttl=64 time=0.025 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=500 ttl=64 time=0.025 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=501 ttl=64 time=0.026 ms
root@localhost:~# 
2021-11-25 12:02:01 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_vm2.txt
64 bytes from 192.168.10.13: icmp_seq=492 ttl=64 time=0.028 ms
64 bytes from 192.168.10.13: icmp_seq=493 ttl=64 time=0.027 ms
64 bytes from 192.168.10.13: icmp_seq=494 ttl=64 time=0.033 ms
64 bytes from 192.168.10.13: icmp_seq=495 ttl=64 time=0.034 ms
64 bytes from 192.168.10.13: icmp_seq=496 ttl=64 time=0.028 ms
64 bytes from 192.168.10.13: icmp_seq=497 ttl=64 time=0.030 ms
64 bytes from 192.168.10.13: icmp_seq=498 ttl=64 time=0.028 ms
64 bytes from 192.168.10.13: icmp_seq=499 ttl=64 time=0.028 ms
64 bytes from 192.168.10.13: icmp_seq=500 ttl=64 time=0.028 ms
64 bytes from 192.168.10.13: icmp_seq=501 ttl=64 time=0.028 ms
root@localhost:~# 
2021-11-25 12:02:09 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_vm2.txt
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=492 ttl=64 time=0.031 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=493 ttl=64 time=0.030 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=494 ttl=64 time=0.042 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=495 ttl=64 time=0.032 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=496 ttl=64 time=0.035 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=497 ttl=64 time=0.031 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=498 ttl=64 time=0.069 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=499 ttl=64 time=0.036 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=500 ttl=64 time=0.032 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=501 ttl=64 time=0.032 ms
root@localhost:~# 
2021-11-25 12:02:17 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_sut2.txt
64 bytes from 192.168.10.10: icmp_seq=492 ttl=64 time=0.036 ms
64 bytes from 192.168.10.10: icmp_seq=493 ttl=64 time=0.030 ms
64 bytes from 192.168.10.10: icmp_seq=494 ttl=64 time=0.031 ms
64 bytes from 192.168.10.10: icmp_seq=495 ttl=64 time=0.026 ms
64 bytes from 192.168.10.10: icmp_seq=496 ttl=64 time=0.025 ms
64 bytes from 192.168.10.10: icmp_seq=497 ttl=64 time=0.025 ms
64 bytes from 192.168.10.10: icmp_seq=498 ttl=64 time=0.030 ms
64 bytes from 192.168.10.10: icmp_seq=499 ttl=64 time=0.031 ms
64 bytes from 192.168.10.10: icmp_seq=500 ttl=64 time=0.026 ms
64 bytes from 192.168.10.10: icmp_seq=501 ttl=64 time=0.026 ms
root@localhost:~# 
2021-11-25 12:02:25 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_sut2.txt
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=492 ttl=64 time=0.029 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=493 ttl=64 time=0.027 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=494 ttl=64 time=0.033 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=495 ttl=64 time=0.033 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=496 ttl=64 time=0.033 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=497 ttl=64 time=0.028 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=498 ttl=64 time=0.028 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=499 ttl=64 time=0.027 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=500 ttl=64 time=0.027 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=501 ttl=64 time=0.033 ms
root@localhost:~# 
2021-11-25 12:02:43 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_sut1.txt
64 bytes from 192.168.10.11: icmp_seq=549 ttl=64 time=0.032 ms
64 bytes from 192.168.10.11: icmp_seq=550 ttl=64 time=0.035 ms
64 bytes from 192.168.10.11: icmp_seq=551 ttl=64 time=0.031 ms
64 bytes from 192.168.10.11: icmp_seq=552 ttl=64 time=0.032 ms
64 bytes from 192.168.10.11: icmp_seq=553 ttl=64 time=0.031 ms
64 bytes from 192.168.10.11: icmp_seq=554 ttl=64 time=0.034 ms
64 bytes from 192.168.10.11: icmp_seq=555 ttl=64 time=0.033 ms
64 bytes from 192.168.10.11: icmp_seq=556 ttl=64 time=0.031 ms
64 bytes from 192.168.10.11: icmp_seq=557 ttl=64 time=0.039 ms
64 bytes from 192.168.10.11: icmp_seq=558 ttl=64 time=0.031 ms
root@localhost:~# 
2021-11-25 12:02:51 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_sut1.txt
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=549 ttl=64 time=0.038 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=550 ttl=64 time=0.027 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=551 ttl=64 time=0.028 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=552 ttl=64 time=0.029 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=553 ttl=64 time=0.029 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=554 ttl=64 time=0.026 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=555 ttl=64 time=0.025 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=556 ttl=64 time=0.025 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=557 ttl=64 time=0.025 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=558 ttl=64 time=0.028 ms
root@localhost:~# 
2021-11-25 12:02:59 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_vm2.txt
64 bytes from 192.168.10.13: icmp_seq=549 ttl=64 time=0.028 ms
64 bytes from 192.168.10.13: icmp_seq=550 ttl=64 time=0.028 ms
64 bytes from 192.168.10.13: icmp_seq=551 ttl=64 time=0.030 ms
64 bytes from 192.168.10.13: icmp_seq=552 ttl=64 time=0.028 ms
64 bytes from 192.168.10.13: icmp_seq=553 ttl=64 time=0.028 ms
64 bytes from 192.168.10.13: icmp_seq=554 ttl=64 time=0.031 ms
64 bytes from 192.168.10.13: icmp_seq=555 ttl=64 time=0.028 ms
64 bytes from 192.168.10.13: icmp_seq=556 ttl=64 time=0.028 ms
64 bytes from 192.168.10.13: icmp_seq=557 ttl=64 time=0.028 ms
64 bytes from 192.168.10.13: icmp_seq=558 ttl=64 time=0.027 ms
root@localhost:~# 
2021-11-25 12:03:07 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_vm2.txt
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=549 ttl=64 time=0.033 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=550 ttl=64 time=0.032 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=551 ttl=64 time=0.033 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=552 ttl=64 time=0.044 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=553 ttl=64 time=0.037 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=554 ttl=64 time=0.030 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=555 ttl=64 time=0.033 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=556 ttl=64 time=0.036 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=557 ttl=64 time=0.034 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=558 ttl=64 time=0.034 ms
root@localhost:~# 
2021-11-25 12:03:15 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_sut2.txt
64 bytes from 192.168.10.10: icmp_seq=549 ttl=64 time=0.029 ms
64 bytes from 192.168.10.10: icmp_seq=550 ttl=64 time=0.028 ms
64 bytes from 192.168.10.10: icmp_seq=551 ttl=64 time=0.043 ms
64 bytes from 192.168.10.10: icmp_seq=552 ttl=64 time=0.028 ms
64 bytes from 192.168.10.10: icmp_seq=553 ttl=64 time=0.030 ms
64 bytes from 192.168.10.10: icmp_seq=554 ttl=64 time=0.027 ms
64 bytes from 192.168.10.10: icmp_seq=555 ttl=64 time=0.029 ms
64 bytes from 192.168.10.10: icmp_seq=556 ttl=64 time=0.031 ms
64 bytes from 192.168.10.10: icmp_seq=557 ttl=64 time=0.032 ms
64 bytes from 192.168.10.10: icmp_seq=558 ttl=64 time=0.028 ms
[1]   Done                    nohup ping -w 600 192.168.10.11 > ping_sut1.txt
root@localhost:~# 
2021-11-25 12:03:23 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_sut2.txt
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=549 ttl=64 time=0.027 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=550 ttl=64 time=0.030 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=551 ttl=64 time=0.028 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=552 ttl=64 time=0.031 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=553 ttl=64 time=0.028 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=554 ttl=64 time=0.028 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=555 ttl=64 time=0.034 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=556 ttl=64 time=0.031 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=557 ttl=64 time=0.030 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=558 ttl=64 time=0.030 ms
[2]   Done                    nohup ping6 -I ens5 -w 600 fe80::b696:91ff:fe9c:f760 > ping6_sut1.txt
root@localhost:~# 
2021-11-25 12:03:41 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_sut1.txt
64 bytes from 192.168.10.11: icmp_seq=581 ttl=64 time=0.034 ms
64 bytes from 192.168.10.11: icmp_seq=582 ttl=64 time=0.034 ms
64 bytes from 192.168.10.11: icmp_seq=583 ttl=64 time=0.033 ms
64 bytes from 192.168.10.11: icmp_seq=584 ttl=64 time=0.032 ms
64 bytes from 192.168.10.11: icmp_seq=585 ttl=64 time=0.034 ms
64 bytes from 192.168.10.11: icmp_seq=586 ttl=64 time=0.043 ms
--- 192.168.10.11 ping statistics ---
586 packets transmitted, 586 received, 0% packet loss, time 599001ms
rtt min/avg/max/mdev = 0.026/0.045/3.931/0.226 ms
[3]   Done                    nohup ping -w 600 192.168.10.13 > ping_vm2.txt
[4]   Done                    nohup ping6 -I ens5 -w 600 fe80::1034:56ff:fe78:90ab > ping6_vm2.txt
root@localhost:~# 
2021-11-25 12:03:49 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_sut1.txt
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=581 ttl=64 time=0.031 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=582 ttl=64 time=0.036 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=583 ttl=64 time=0.039 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=584 ttl=64 time=0.030 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=585 ttl=64 time=0.029 ms
64 bytes from fe80::b696:91ff:fe9c:f760%ens5: icmp_seq=586 ttl=64 time=0.025 ms
--- fe80::b696:91ff:fe9c:f760 ping statistics ---
586 packets transmitted, 586 received, 0% packet loss, time 599026ms
rtt min/avg/max/mdev = 0.020/0.030/0.177/0.009 ms
[5]-  Done                    nohup ping -w 600 192.168.10.10 > ping_sut2.txt
root@localhost:~# 
2021-11-25 12:03:57 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_vm2.txt
64 bytes from 192.168.10.13: icmp_seq=581 ttl=64 time=0.029 ms
64 bytes from 192.168.10.13: icmp_seq=582 ttl=64 time=0.073 ms
64 bytes from 192.168.10.13: icmp_seq=583 ttl=64 time=0.032 ms
64 bytes from 192.168.10.13: icmp_seq=584 ttl=64 time=0.028 ms
64 bytes from 192.168.10.13: icmp_seq=585 ttl=64 time=0.029 ms
64 bytes from 192.168.10.13: icmp_seq=586 ttl=64 time=0.029 ms
--- 192.168.10.13 ping statistics ---
586 packets transmitted, 586 received, 0% packet loss, time 599018ms
rtt min/avg/max/mdev = 0.026/0.034/0.156/0.009 ms
[6]+  Done                    nohup ping6 -I ens5 -w 600 fe80::b696:91ff:fe9c:f762 > ping6_sut2.txt
root@localhost:~# 
2021-11-25 12:04:05 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_vm2.txt
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=581 ttl=64 time=0.427 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=582 ttl=64 time=0.038 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=583 ttl=64 time=0.034 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=584 ttl=64 time=0.035 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=585 ttl=64 time=0.036 ms
64 bytes from fe80::1034:56ff:fe78:90ab%ens5: icmp_seq=586 ttl=64 time=0.031 ms
--- fe80::1034:56ff:fe78:90ab ping statistics ---
586 packets transmitted, 586 received, 0% packet loss, time 598977ms
rtt min/avg/max/mdev = 0.026/0.054/3.661/0.215 ms
root@localhost:~# 
2021-11-25 12:04:13 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping_sut2.txt
64 bytes from 192.168.10.10: icmp_seq=581 ttl=64 time=0.030 ms
64 bytes from 192.168.10.10: icmp_seq=582 ttl=64 time=0.029 ms
64 bytes from 192.168.10.10: icmp_seq=583 ttl=64 time=0.027 ms
64 bytes from 192.168.10.10: icmp_seq=584 ttl=64 time=0.038 ms
64 bytes from 192.168.10.10: icmp_seq=585 ttl=64 time=0.028 ms
64 bytes from 192.168.10.10: icmp_seq=586 ttl=64 time=0.025 ms
--- 192.168.10.10 ping statistics ---
586 packets transmitted, 586 received, 0% packet loss, time 599032ms
rtt min/avg/max/mdev = 0.025/0.030/0.076/0.005 ms
root@localhost:~# 
2021-11-25 12:04:21 - sshInstance.py - [line:89] - root - INFO - tail -n 10 /root/ping6_sut2.txt
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=581 ttl=64 time=0.030 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=582 ttl=64 time=0.032 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=583 ttl=64 time=0.032 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=584 ttl=64 time=0.033 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=585 ttl=64 time=0.432 ms
64 bytes from fe80::b696:91ff:fe9c:f762%ens5: icmp_seq=586 ttl=64 time=0.040 ms
--- fe80::b696:91ff:fe9c:f762 ping statistics ---
586 packets transmitted, 586 received, 0% packet loss, time 599024ms
rtt min/avg/max/mdev = 0.026/0.040/0.433/0.050 ms
root@localhost:~# 
2021-11-25 12:04:24 - test_network_sriov_stress.py - [line:614] - root - INFO - Successfully ping sut1
2021-11-25 12:04:24 - test_network_sriov_stress.py - [line:614] - root - INFO - Successfully ping6 sut1
2021-11-25 12:04:24 - test_network_sriov_stress.py - [line:614] - root - INFO - Successfully ping vm2
2021-11-25 12:04:24 - test_network_sriov_stress.py - [line:614] - root - INFO - Successfully ping6 vm2
2021-11-25 12:04:24 - test_network_sriov_stress.py - [line:614] - root - INFO - Successfully ping sut2
2021-11-25 12:04:24 - test_network_sriov_stress.py - [line:614] - root - INFO - Successfully ping6 sut2
2021-11-25 12:04:24 - test_network_sriov_stress.py - [line:615] - root - INFO - check ---end---
2021-11-25 12:04:29 - sshInstance.py - [line:89] - root - INFO - exit
logout
Connection to 192.168.122.72 closed.
[root@WW30CYP10 ~]# 
.2021-11-25 12:04:32 - test_network_sriov_stress.py - [line:52] - root - INFO - this is the teardown of Test_Network_SRIOV_Stress.
2021-11-25 12:04:35 - sshInstance.py - [line:44] - root - INFO - virsh destroy VMtest2
2021-11-25 12:04:36 - sshInstance.py - [line:48] - root - INFO - Domain VMtest2 destroyed


2021-11-25 12:04:41 - test_network_sriov_stress.py - [line:247] - root - INFO - Successfully shut down the VM: VMtest2
2021-11-25 12:04:44 - sshInstance.py - [line:44] - root - INFO - virsh undefine VMtest2
2021-11-25 12:04:44 - sshInstance.py - [line:48] - root - INFO - Domain VMtest2 has been undefined


2021-11-25 12:04:49 - test_network_sriov_stress.py - [line:254] - root - INFO - Successfully removed the VM: VMtest2
2021-11-25 12:04:52 - sshInstance.py - [line:44] - root - INFO - virsh destroy VMtest1
2021-11-25 12:04:53 - sshInstance.py - [line:48] - root - INFO - Domain VMtest1 destroyed


2021-11-25 12:04:58 - test_network_sriov_stress.py - [line:247] - root - INFO - Successfully shut down the VM: VMtest1
2021-11-25 12:05:01 - sshInstance.py - [line:44] - root - INFO - virsh undefine VMtest1
2021-11-25 12:05:01 - sshInstance.py - [line:48] - root - INFO - Domain VMtest1 has been undefined


2021-11-25 12:05:06 - test_network_sriov_stress.py - [line:254] - root - INFO - Successfully removed the VM: VMtest1
2021-11-25 12:05:06 - sshInstance.py - [line:39] - root - INFO - closing ssh client on SUT
2021-11-25 12:05:06 - test_network_sriov_stress.py - [line:57] - root - INFO - =============================================Finished run the test case===============================================
2021-11-25 12:05:06 - NicTestFixture.py - [line:28] - root - INFO - Starting to run test_PI_Networking_SRIOV_StressTrafficBetweenPFVFAndTestClientFor2Hours_VM_Guest[ubuntu20.04.img-rhel84rt.img]
2021-11-25 12:05:06 - NicTestFixture.py - [line:29] - root - INFO - setup log for testing in the fixture class fbefore
2021-11-25 12:05:06 - test_network_sriov_stress.py - [line:30] - root - INFO - SSH SUT and setup configurations in the setup function.
2021-11-25 12:05:06 - transport.py - [line:1819] - paramiko.transport - INFO - Connected (version 2.0, client OpenSSH_8.0)
2021-11-25 12:05:06 - transport.py - [line:1819] - paramiko.transport - INFO - Authentication (publickey) failed.
2021-11-25 12:05:06 - transport.py - [line:1819] - paramiko.transport - INFO - Authentication (password) successful!
2021-11-25 12:05:06 - sshInstance.py - [line:28] - root - INFO - SSH on SUT: 10.112.97.157
2021-11-25 12:05:09 - sshInstance.py - [line:44] - root - INFO - /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -s | grep ens787f0 | awk '{print $1;}'
2021-11-25 12:05:10 - sshInstance.py - [line:48] - root - INFO - 0000:31:00.0
0000:31:01.2
0000:31:01.3

2021-11-25 12:05:15 - test_network_sriov_stress.py - [line:80] - root - INFO - pf_id was found: 0000:31:00.0
0000:31:01.2
0000:31:01.3

2021-11-25 12:05:15 - test_network_sriov_stress.py - [line:467] - root - INFO - format_pf_id is 0000\:31\:00.0
0000:31:01.2
0000:31:01.3

2021-11-25 12:05:15 - test_network_sriov_stress.py - [line:470] - root - INFO - pf_id_key: 31
2021-11-25 12:05:20 - sshInstance.py - [line:89] - root - INFO - Activate the web console with: systemctl enable --now cockpit.socket
This system is not registered to Red Hat Insights. See https://cloud.redhat.com/
To register this system, run: insights-client --register
Last login: Thu Nov 25 11:46:25 2021 from 10.239.129.147
[root@WW30CYP10 ~]# ifconfig ens787f0 192.168.10.11
[root@WW30CYP10 ~]# 
2021-11-25 12:05:23 - test_network_sriov_stress.py - [line:268] - root - INFO - Successfully assigned ip to ethernet: ens787f0
2021-11-25 12:05:26 - sshInstance.py - [line:44] - root - INFO - echo 4 > /sys/class/net/ens787f0/device/sriov_numvfs
2021-11-25 12:05:26 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 12:05:31 - test_network_sriov_stress.py - [line:95] - root - INFO - Successfully Virtualized PF to VFs.
2021-11-25 12:05:34 - sshInstance.py - [line:44] - root - INFO -  lspci | grep "Virtual" | awk '{print $1;}'list
2021-11-25 12:05:34 - sshInstance.py - [line:48] - root - INFO - 31:01.0
31:01.1
31:01.2
31:01.3

2021-11-25 12:05:39 - test_network_sriov_stress.py - [line:109] - root - INFO - Succssfully Gotten vf_id list:

2021-11-25 12:05:42 - sshInstance.py - [line:44] - root - INFO -  modinfo vfio-pci | grep "vfio_pci" | awk '{ print $2;}'
2021-11-25 12:05:42 - sshInstance.py - [line:48] - root - INFO - vfio_pci

2021-11-25 12:05:47 - test_network_sriov_stress.py - [line:162] - root - INFO - Successfuly modeprobe vfio-pci
2021-11-25 12:05:50 - sshInstance.py - [line:44] - root - INFO - /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -b vfio-pci 31:01.0
2021-11-25 12:05:51 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 12:05:56 - test_network_sriov_stress.py - [line:141] - root - INFO - Successfuly bound VF to vfio-pci
2021-11-25 12:05:59 - sshInstance.py - [line:44] - root - INFO - /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -b vfio-pci 31:01.1
2021-11-25 12:05:59 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 12:06:04 - test_network_sriov_stress.py - [line:141] - root - INFO - Successfuly bound VF to vfio-pci
2021-11-25 12:06:04 - test_network_sriov_stress.py - [line:493] - root - INFO - lspci -Dnn | grep 31:01.1
2021-11-25 12:06:07 - sshInstance.py - [line:44] - root - INFO - lspci -Dnn | grep 31:01.1
2021-11-25 12:06:07 - sshInstance.py - [line:48] - root - INFO - 0000:31:01.1 Ethernet controller [0200]: Intel Corporation Ethernet Adaptive Virtual Function [8086:1889] (rev 02)

2021-11-25 12:06:12 - test_network_sriov_stress.py - [line:504] - root - INFO - Successfully get vf device id: 8086:1889
2021-11-25 12:06:15 - sshInstance.py - [line:44] - root - INFO - virsh net-info default | grep "Active" | awk '{print $2;}'
2021-11-25 12:06:16 - sshInstance.py - [line:48] - root - INFO - yes

2021-11-25 12:06:21 - test_network_sriov_stress.py - [line:170] - root - INFO - Default network is active? yes

2021-11-25 12:06:25 - sshInstance.py - [line:69] - root - INFO - virt-install --name VMtest1 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_0 --boot hd --disk path=/home//image/ubuntu20.04.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=59900 --noautoconsole

** (process:110448): [1;33mWARNING[0m **: [34m12:06:36.119[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
2021-11-25 12:06:28 - sshInstance.py - [line:69] - root - INFO - Domain creation completed.
[root@WW30CYP10 ~]# 
2021-11-25 12:06:31 - test_network_sriov_stress.py - [line:205] - root - INFO - Successfully created a VM: VMtest1
2021-11-25 12:06:35 - sshInstance.py - [line:69] - root - INFO - virt-install --name VMtest2 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_1 --boot hd --disk path=/home//image/rhel84rt.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=5901  --noautoconsole

** (process:110491): [1;33mWARNING[0m **: [34m12:06:46.125[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
2021-11-25 12:06:38 - sshInstance.py - [line:69] - root - INFO - Domain creation completed.
[root@WW30CYP10 ~]# 
2021-11-25 12:06:41 - test_network_sriov_stress.py - [line:205] - root - INFO - Successfully created a VM: VMtest2
2021-11-25 12:06:44 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
2021-11-25 12:06:44 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 12:06:49 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest1
2021-11-25 12:07:52 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
2021-11-25 12:07:52 - sshInstance.py - [line:48] - root - INFO - 192.168.122.72/24

2021-11-25 12:07:57 - test_network_sriov_stress.py - [line:216] - root - INFO - Successfully got VMtest1 IP: 192.168.122.72/24

2021-11-25 12:08:00 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
2021-11-25 12:08:00 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 12:08:05 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest2
2021-11-25 12:09:08 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
2021-11-25 12:09:08 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 12:09:13 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest2
2021-11-25 12:10:16 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
2021-11-25 12:10:16 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 12:10:21 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest2
2021-11-25 12:11:24 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
2021-11-25 12:11:24 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 12:11:29 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest2
2021-11-25 12:12:32 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
2021-11-25 12:12:32 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 12:12:37 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest2
2021-11-25 12:13:40 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
2021-11-25 12:13:40 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 12:13:45 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest2
2021-11-25 12:14:50 - sshInstance.py - [line:69] - root - INFO - ping -c 5 192.168.122.72
PING 192.168.122.72 (192.168.122.72) 56(84) bytes of data.
64 bytes from 192.168.122.72: icmp_seq=1 ttl=64 time=0.120 ms
2021-11-25 12:14:51 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=2 ttl=64 time=0.082 ms
2021-11-25 12:14:52 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=3 ttl=64 time=0.095 ms
2021-11-25 12:14:53 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=4 ttl=64 time=0.102 ms
2021-11-25 12:14:54 - sshInstance.py - [line:69] - root - INFO - 64 bytes from 192.168.122.72: icmp_seq=5 ttl=64 time=0.085 ms

--- 192.168.122.72 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4132ms
rtt min/avg/max/mdev = 0.082/0.096/0.120/0.018 ms
[root@WW30CYP10 ~]# 
2021-11-25 12:15:02 - sshInstance.py - [line:89] - root - INFO - ssh root@192.168.122.72
root@192.168.122.72's password: 
2021-11-25 12:15:10 - sshInstance.py - [line:89] - root - INFO - 
Welcome to Ubuntu 20.04 LTS (GNU/Linux 5.4.0-26-generic x86_64)
 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage
  System information as of Wed 24 Nov 2021 11:15:18 PM EST
  System load:  0.0                Processes:             126
  Usage of /:   46.9% of 19.07GB   Users logged in:       0
  Memory usage: 30%                IPv4 address for ens3: 192.168.122.72
  Swap usage:   0%

366 updates can be installed immediately.
222 of these updates are security updates.
To see these additional updates run: apt list --upgradable

Last login: Wed Nov 24 22:53:14 2021 from 192.168.122.1
root@localhost:~# 
2021-11-25 12:15:18 - sshInstance.py - [line:89] - root - INFO - lspci -Dnn | grep "8086:1889" | awk '{print $1;}'
0000:00:05.0
root@localhost:~# 
2021-11-25 12:15:24 - test_network_sriov_stress.py - [line:306] - root - INFO - successfully got vf pci id of vm1: 0000:00:05.0
2021-11-25 12:15:29 - sshInstance.py - [line:89] - root - INFO - ls /sys/bus/pci/devices/0000\:00\:05.0/net/ --color=never
ens5
root@localhost:~# 
2021-11-25 12:15:34 - test_network_sriov_stress.py - [line:317] - root - INFO - Successfully got vf device name of vm1: ens5
2021-11-25 12:15:39 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 192.168.10.12
root@localhost:~# 
2021-11-25 12:15:42 - test_network_sriov_stress.py - [line:268] - root - INFO - Successfully assigned ip to ethernet: ens5
2021-11-25 12:15:47 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 down
root@localhost:~# 
2021-11-25 12:15:55 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 hw ether 1234567890ac
root@localhost:~# 
2021-11-25 12:16:03 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5 up
root@localhost:~# 
2021-11-25 12:16:11 - sshInstance.py - [line:89] - root - INFO - nmcli device connect ens5
Command 'nmcli' not found, but can be installed with:
apt install network-manager
root@localhost:~# 
2021-11-25 12:16:19 - sshInstance.py - [line:89] - root - INFO - ifconfig ens5
ens5: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.10.12  netmask 255.255.255.0  broadcast 192.168.10.255
        inet6 fe80::1034:56ff:fe78:90ac  prefixlen 64  scopeid 0x20<link>
        ether 12:34:56:78:90:ac  txqueuelen 1000  (Ethernet)
        RX packets 4  bytes 1376 (1.3 KB)
        RX errors 0  dropped 1  overruns 0  frame 0
        TX packets 8  bytes 696 (696.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
root@localhost:~# 
2021-11-25 12:16:27 - sshInstance.py - [line:89] - root - INFO - exit
logout
Connection to 192.168.122.72 closed.
[root@WW30CYP10 ~]# 
2021-11-25 12:16:34 - sshInstance.py - [line:69] - root - INFO - ping -c 5 
Usage: ping [-aAbBdDfhLnOqrRUvV64] [-c count] [-i interval] [-I interface]
            [-m mark] [-M pmtudisc_option] [-l preload] [-p pattern] [-Q tos]
            [-s packetsize] [-S sndbuf] [-t ttl] [-T timestamp_option]
            [-w deadline] [-W timeout] [hop1 ...] destination
Usage: ping -6 [-aAbBdDfhLnOqrRUvV] [-c count] [-i interval] [-I interface]
             [-l preload] [-m mark] [-M pmtudisc_option]
             [-N nodeinfo_option] [-p pattern] [-Q tclass] [-s packetsize]
             [-S sndbuf] [-t ttl] [-T timestamp_option] [-w deadline]
             [-W timeout] destination
[root@WW30CYP10 ~]# 
F2021-11-25 12:16:37 - test_network_sriov_stress.py - [line:52] - root - INFO - this is the teardown of Test_Network_SRIOV_Stress.
2021-11-25 12:16:40 - sshInstance.py - [line:44] - root - INFO - virsh destroy VMtest2
2021-11-25 12:16:41 - sshInstance.py - [line:48] - root - INFO - Domain VMtest2 destroyed


2021-11-25 12:16:46 - test_network_sriov_stress.py - [line:247] - root - INFO - Successfully shut down the VM: VMtest2
2021-11-25 12:16:49 - sshInstance.py - [line:44] - root - INFO - virsh undefine VMtest2
2021-11-25 12:16:49 - sshInstance.py - [line:48] - root - INFO - Domain VMtest2 has been undefined


2021-11-25 12:16:54 - test_network_sriov_stress.py - [line:254] - root - INFO - Successfully removed the VM: VMtest2
2021-11-25 12:16:57 - sshInstance.py - [line:44] - root - INFO - virsh destroy VMtest1
2021-11-25 12:16:58 - sshInstance.py - [line:48] - root - INFO - Domain VMtest1 destroyed


2021-11-25 12:17:03 - test_network_sriov_stress.py - [line:247] - root - INFO - Successfully shut down the VM: VMtest1
2021-11-25 12:17:06 - sshInstance.py - [line:44] - root - INFO - virsh undefine VMtest1
2021-11-25 12:17:06 - sshInstance.py - [line:48] - root - INFO - Domain VMtest1 has been undefined


2021-11-25 12:17:11 - test_network_sriov_stress.py - [line:254] - root - INFO - Successfully removed the VM: VMtest1
2021-11-25 12:17:11 - sshInstance.py - [line:39] - root - INFO - closing ssh client on SUT
2021-11-25 12:17:11 - test_network_sriov_stress.py - [line:57] - root - INFO - =============================================Finished run the test case===============================================
2021-11-25 12:17:11 - NicTestFixture.py - [line:28] - root - INFO - Starting to run test_PI_Networking_SRIOV_StressTrafficBetweenPFVFAndTestClientFor2Hours_VM_Guest[rhel84rt.img-rhel84rt2.img]
2021-11-25 12:17:11 - NicTestFixture.py - [line:29] - root - INFO - setup log for testing in the fixture class fbefore
2021-11-25 12:17:11 - test_network_sriov_stress.py - [line:30] - root - INFO - SSH SUT and setup configurations in the setup function.
2021-11-25 12:17:11 - transport.py - [line:1819] - paramiko.transport - INFO - Connected (version 2.0, client OpenSSH_8.0)
2021-11-25 12:17:11 - transport.py - [line:1819] - paramiko.transport - INFO - Authentication (publickey) failed.
2021-11-25 12:17:11 - transport.py - [line:1819] - paramiko.transport - INFO - Authentication (password) successful!
2021-11-25 12:17:11 - sshInstance.py - [line:28] - root - INFO - SSH on SUT: 10.112.97.157
2021-11-25 12:17:14 - sshInstance.py - [line:44] - root - INFO - /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -s | grep ens787f0 | awk '{print $1;}'
2021-11-25 12:17:15 - sshInstance.py - [line:48] - root - INFO - 0000:31:00.0
0000:31:01.2
0000:31:01.3

2021-11-25 12:17:20 - test_network_sriov_stress.py - [line:80] - root - INFO - pf_id was found: 0000:31:00.0
0000:31:01.2
0000:31:01.3

2021-11-25 12:17:20 - test_network_sriov_stress.py - [line:467] - root - INFO - format_pf_id is 0000\:31\:00.0
0000:31:01.2
0000:31:01.3

2021-11-25 12:17:20 - test_network_sriov_stress.py - [line:470] - root - INFO - pf_id_key: 31
2021-11-25 12:17:25 - sshInstance.py - [line:89] - root - INFO - Activate the web console with: systemctl enable --now cockpit.socket
This system is not registered to Red Hat Insights. See https://cloud.redhat.com/
To register this system, run: insights-client --register
Last login: Thu Nov 25 12:05:18 2021 from 10.239.129.147
[root@WW30CYP10 ~]# ifconfig ens787f0 192.168.10.11
[root@WW30CYP10 ~]# 
2021-11-25 12:17:28 - test_network_sriov_stress.py - [line:268] - root - INFO - Successfully assigned ip to ethernet: ens787f0
2021-11-25 12:17:31 - sshInstance.py - [line:44] - root - INFO - echo 4 > /sys/class/net/ens787f0/device/sriov_numvfs
2021-11-25 12:17:31 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 12:17:36 - test_network_sriov_stress.py - [line:95] - root - INFO - Successfully Virtualized PF to VFs.
2021-11-25 12:17:39 - sshInstance.py - [line:44] - root - INFO -  lspci | grep "Virtual" | awk '{print $1;}'list
2021-11-25 12:17:39 - sshInstance.py - [line:48] - root - INFO - 31:01.0
31:01.1
31:01.2
31:01.3

2021-11-25 12:17:44 - test_network_sriov_stress.py - [line:109] - root - INFO - Succssfully Gotten vf_id list:

2021-11-25 12:17:47 - sshInstance.py - [line:44] - root - INFO -  modinfo vfio-pci | grep "vfio_pci" | awk '{ print $2;}'
2021-11-25 12:17:47 - sshInstance.py - [line:48] - root - INFO - vfio_pci

2021-11-25 12:17:52 - test_network_sriov_stress.py - [line:162] - root - INFO - Successfuly modeprobe vfio-pci
2021-11-25 12:17:55 - sshInstance.py - [line:44] - root - INFO - /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -b vfio-pci 31:01.0
2021-11-25 12:17:56 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 12:18:01 - test_network_sriov_stress.py - [line:141] - root - INFO - Successfuly bound VF to vfio-pci
2021-11-25 12:18:04 - sshInstance.py - [line:44] - root - INFO - /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -b vfio-pci 31:01.1
2021-11-25 12:18:04 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 12:18:09 - test_network_sriov_stress.py - [line:141] - root - INFO - Successfuly bound VF to vfio-pci
2021-11-25 12:18:09 - test_network_sriov_stress.py - [line:493] - root - INFO - lspci -Dnn | grep 31:01.1
2021-11-25 12:18:12 - sshInstance.py - [line:44] - root - INFO - lspci -Dnn | grep 31:01.1
2021-11-25 12:18:12 - sshInstance.py - [line:48] - root - INFO - 0000:31:01.1 Ethernet controller [0200]: Intel Corporation Ethernet Adaptive Virtual Function [8086:1889] (rev 02)

2021-11-25 12:18:17 - test_network_sriov_stress.py - [line:504] - root - INFO - Successfully get vf device id: 8086:1889
2021-11-25 12:18:20 - sshInstance.py - [line:44] - root - INFO - virsh net-info default | grep "Active" | awk '{print $2;}'
2021-11-25 12:18:20 - sshInstance.py - [line:48] - root - INFO - yes

2021-11-25 12:18:25 - test_network_sriov_stress.py - [line:170] - root - INFO - Default network is active? yes

2021-11-25 12:18:29 - sshInstance.py - [line:69] - root - INFO - virt-install --name VMtest1 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_0 --boot hd --disk path=/home//image/rhel84rt.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=5900  --noautoconsole

** (process:111592): [1;33mWARNING[0m **: [34m12:18:40.834[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
2021-11-25 12:18:32 - sshInstance.py - [line:69] - root - INFO - Domain creation completed.
[root@WW30CYP10 ~]# 
2021-11-25 12:18:35 - test_network_sriov_stress.py - [line:205] - root - INFO - Successfully created a VM: VMtest1
2021-11-25 12:18:39 - sshInstance.py - [line:69] - root - INFO - virt-install --name VMtest2 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_1 --boot hd --disk path=/home//image/rhel84rt2.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=59011 --noautoconsole

** (process:111635): [1;33mWARNING[0m **: [34m12:18:50.863[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
2021-11-25 12:18:42 - sshInstance.py - [line:69] - root - INFO - Domain creation completed.
[root@WW30CYP10 ~]# 
2021-11-25 12:18:45 - test_network_sriov_stress.py - [line:205] - root - INFO - Successfully created a VM: VMtest2
2021-11-25 12:18:48 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
2021-11-25 12:18:48 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 12:18:53 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest1
2021-11-25 12:19:56 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
2021-11-25 12:19:56 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 12:20:01 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest1
2021-11-25 12:21:05 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
2021-11-25 12:21:05 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 12:21:10 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest1
2021-11-25 12:22:13 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
2021-11-25 12:22:13 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 12:22:18 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest1
2021-11-25 12:23:21 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
2021-11-25 12:23:21 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 12:23:26 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest1
2021-11-25 12:24:29 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
2021-11-25 12:24:29 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 12:24:34 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest1
2021-11-25 12:25:37 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
2021-11-25 12:25:37 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 12:25:42 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest2
2021-11-25 12:26:45 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
2021-11-25 12:26:45 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 12:26:50 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest2
2021-11-25 12:27:53 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
2021-11-25 12:27:53 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 12:27:58 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest2
2021-11-25 12:29:01 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
2021-11-25 12:29:02 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 12:29:07 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest2
2021-11-25 12:30:10 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
2021-11-25 12:30:10 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 12:30:15 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest2
2021-11-25 12:31:18 - sshInstance.py - [line:44] - root - INFO - virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
2021-11-25 12:31:18 - sshInstance.py - [line:48] - root - INFO - 
2021-11-25 12:31:23 - test_network_sriov_stress.py - [line:221] - root - ERROR - not found IP of VMtest2
2021-11-25 12:32:27 - sshInstance.py - [line:69] - root - INFO - ping -c 5 
Usage: ping [-aAbBdDfhLnOqrRUvV64] [-c count] [-i interval] [-I interface]
            [-m mark] [-M pmtudisc_option] [-l preload] [-p pattern] [-Q tos]
            [-s packetsize] [-S sndbuf] [-t ttl] [-T timestamp_option]
            [-w deadline] [-W timeout] [hop1 ...] destination
Usage: ping -6 [-aAbBdDfhLnOqrRUvV] [-c count] [-i interval] [-I interface]
             [-l preload] [-m mark] [-M pmtudisc_option]
             [-N nodeinfo_option] [-p pattern] [-Q tclass] [-s packetsize]
             [-S sndbuf] [-t ttl] [-T timestamp_option] [-w deadline]
             [-W timeout] destination
[root@WW30CYP10 ~]# 
F2021-11-25 12:32:30 - test_network_sriov_stress.py - [line:52] - root - INFO - this is the teardown of Test_Network_SRIOV_Stress.
2021-11-25 12:32:33 - sshInstance.py - [line:44] - root - INFO - virsh destroy VMtest2
2021-11-25 12:32:34 - sshInstance.py - [line:48] - root - INFO - Domain VMtest2 destroyed


2021-11-25 12:32:39 - test_network_sriov_stress.py - [line:247] - root - INFO - Successfully shut down the VM: VMtest2
2021-11-25 12:32:42 - sshInstance.py - [line:44] - root - INFO - virsh undefine VMtest2
2021-11-25 12:32:42 - sshInstance.py - [line:48] - root - INFO - Domain VMtest2 has been undefined


2021-11-25 12:32:47 - test_network_sriov_stress.py - [line:254] - root - INFO - Successfully removed the VM: VMtest2
2021-11-25 12:32:50 - sshInstance.py - [line:44] - root - INFO - virsh destroy VMtest1
2021-11-25 12:32:51 - sshInstance.py - [line:48] - root - INFO - Domain VMtest1 destroyed


2021-11-25 12:32:56 - test_network_sriov_stress.py - [line:247] - root - INFO - Successfully shut down the VM: VMtest1
2021-11-25 12:32:59 - sshInstance.py - [line:44] - root - INFO - virsh undefine VMtest1
2021-11-25 12:32:59 - sshInstance.py - [line:48] - root - INFO - Domain VMtest1 has been undefined


2021-11-25 12:33:04 - test_network_sriov_stress.py - [line:254] - root - INFO - Successfully removed the VM: VMtest1
2021-11-25 12:33:04 - sshInstance.py - [line:39] - root - INFO - closing ssh client on SUT
2021-11-25 12:33:04 - test_network_sriov_stress.py - [line:57] - root - INFO - =============================================Finished run the test case===============================================


=================================== FAILURES ===================================
_ Test_Network_SRIOV_Stress.test_PI_Networking_SRIOV_StressDisableEnableFor5TimesWhenVFIsAssigned_VM_Guest[ubuntu20.04.img-rhel84rt.img] _

self = <Tests.testNics.test_network_sriov_stress.Test_Network_SRIOV_Stress object at 0x7f7a1016d390>
vm1_image = 'ubuntu20.04.img', vm2_image = 'rhel84rt.img'

    @pytest.mark.nicall
    @pytest.mark.usefixtures("fbefore")
    @pytest.mark.parametrize('vm1_image, vm2_image', vm_image)
    def test_PI_Networking_SRIOV_StressDisableEnableFor5TimesWhenVFIsAssigned_VM_Guest(self, vm1_image, vm2_image):
        for j in range(1, 6):
            logging.info("\n\n********************************************************Stress Disable and Enable for {} time when VF is Assigned VM guest.*************************************************************\n\n".format(j))
            # get pf id: 0000:xx:xx.x
            pf_id, status= self.get_pf_id(self.pf_name)
            # transfer pf_id to 0000\:00\:00.0 format
            if not pf_id:
                assert 200 == status
            else:
                pf_id_format = pf_id.replace(":", "\\:", 2)
                logging.info("format_pf_id is {}".format(pf_id_format))
                # get the number key of pf_id
                pf_id_key = pf_id.split(":")[1]
                logging.info("pf_id_key: {}".format(pf_id_key))
                # assign IP to PF in SUT and sut2
                pf_ip = "192.168.{}.{}".format(self.dhcp_info["ipv4"].split(".")[2],
                                               str(int(self.dhcp_info["ipv4"].split(".")[3])+1))
                dhcp_ipv4 = self.dhcp_info["ipv4"]
                assert 200 == self.assign_ip_ehternet(self.session, pf_ip, self.pf_name)
                # virtulize the pf to vfs
                assert 200 == self.virtualize_pf_to_vfs(self.pf_name)
                # get vf ids
                vf_id_list, status=self.get_vf_ids(pf_id_key)
                if status == 200:
                    # modprobe vfio-pci
                    assert 200 == self.modprobe("vfio-pci")
                    # bind vf with vfio-pci
                    host_dev_id_list, status = self.bind_vf_to_vfio_pci(vf_id_list)
                    assert 200 == status
                else:
                    assert 200 == status
                # get vF device ida
                #tmp code
                cmd = "lspci -Dnn | grep %s" % (vf_id_list[1])
                logging.info(cmd)
                vf_device_id = ""
                vf_device_id_rs, error = self.ssh_sut.ssh_exec_cmd(self.client, cmd)
                if vf_device_id_rs:
                    st = False
                    vf_device_id = None
                    for one in vf_device_id_rs.split(" "):
                        one = " "+one+" "
                        if one.find(" [") > -1 and one.find("] ") > -1 and one.find(":")> -1:
                            vf_device_id = one.replace("[", "").replace("]","").strip()
                    if not vf_device_id: assert 200 == 400,"vf_device_id is not found"
                    logging.info("Successfully get vf device id: {}".format(vf_device_id))
                    assert 200 == 200
                else:
                    logging.error("Fail to get vf device id.")
                    assert 200==400
    
                #set network
                status = self.default_network_isActive(self.defult_network)
                if status == "no":
                    assert 200 == self.start_default_network(self.defult_network)
    
                # start VMs
                assert 200 == self.create_vm(vm1_image, host_dev_id_list[0], self.vm1_name, "5900")
                assert 200 == self.create_vm(vm2_image, host_dev_id_list[1], self.vm2_name, "5901")
                # get VM ssh IP
                vm1_ip, status1 = self.get_vm_ip(self.vm1_name)
                vm2_ip, status2 = self.get_vm_ip(self.vm2_name)
                logging.info("ip of VM1: {}".format(vm1_ip))
                logging.info("ip of VM1: {}".format(vm2_ip))
    
                #ssh VM1 to set VF
                vm1_vf_ip = "192.168.{}.{}".format(self.dhcp_info["ipv4"].split(".")[2],
                                               str(int(self.dhcp_info["ipv4"].split(".")[3])+2))
                vm2_vf_ip = "192.168.{}.{}".format(self.dhcp_info["ipv4"].split(".")[2],
                                               str(int(self.dhcp_info["ipv4"].split(".")[3])+3))
                assert 200 == self.on_session_ssh(self.ssh_sut, self.session, vm1_ip),"ssh vm failed,the reason may be is password is error,vm ip isimpassability"
                vm1_vf_name, vm1_ipv6, status = self.ssh_vm_set_VF(vm1_ip, vf_device_id, vm1_vf_ip, "1234567890ac")
                self.ssh_sut.run_ssh_cmd(self.session, "exit\n")
    
                assert 200 == status, "vm1 vf related settings failed"
>               assert 200 == self.on_session_ssh(self.ssh_sut, self.session, vm2_ip),"ssh vm failed,the reason may be is password is error,vm ip isimpassability"
E               AssertionError: ssh vm failed,the reason may be is password is error,vm ip isimpassability
E               assert 200 == 400
E                +  where 400 = <bound method Test_Network_SRIOV_Stress.on_session_ssh of <Tests.testNics.test_network_sriov_stress.Test_Network_SRIOV_Stress object at 0x7f7a1016d390>>(<libs.commons.sshInstance.sshInstance object at 0x7f7a109a2898>, <paramiko.Channel 0 (open) window=2095844 -> <paramiko.Transport at 0x109a2b38 (cipher aes128-ctr, 128 bits) (active; 1 open channel(s))>>, '')
E                +    where <bound method Test_Network_SRIOV_Stress.on_session_ssh of <Tests.testNics.test_network_sriov_stress.Test_Network_SRIOV_Stress object at 0x7f7a1016d390>> = <Tests.testNics.test_network_sriov_stress.Test_Network_SRIOV_Stress object at 0x7f7a1016d390>.on_session_ssh
E                +    and   <libs.commons.sshInstance.sshInstance object at 0x7f7a109a2898> = <Tests.testNics.test_network_sriov_stress.Test_Network_SRIOV_Stress object at 0x7f7a1016d390>.ssh_sut
E                +    and   <paramiko.Channel 0 (open) window=2095844 -> <paramiko.Transport at 0x109a2b38 (cipher aes128-ctr, 128 bits) (active; 1 open channel(s))>> = <Tests.testNics.test_network_sriov_stress.Test_Network_SRIOV_Stress object at 0x7f7a1016d390>.session

../test-nic/npxtester/Tests/testNics/test_network_sriov_stress.py:422: AssertionError
------------------------------ Captured log call -------------------------------
INFO     root:test_network_sriov_stress.py:349 

********************************************************Stress Disable and Enable for 1 time when VF is Assigned VM guest.*************************************************************


INFO     root:sshInstance.py:44 /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -s | grep ens787f0 | awk '{print $1;}'
INFO     root:sshInstance.py:48 0000:31:00.0

INFO     root:test_network_sriov_stress.py:80 pf_id was found: 0000:31:00.0

INFO     root:test_network_sriov_stress.py:357 format_pf_id is 0000\:31\:00.0

INFO     root:test_network_sriov_stress.py:360 pf_id_key: 31
INFO     root:sshInstance.py:89 Activate the web console with: systemctl enable --now cockpit.socket
This system is not registered to Red Hat Insights. See https://cloud.redhat.com/
To register this system, run: insights-client --register
Last login: Thu Nov 25 10:31:39 2021 from 10.239.129.147
[root@WW30CYP10 ~]# ifconfig ens787f0 192.168.10.11
[root@WW30CYP10 ~]# 
INFO     root:test_network_sriov_stress.py:268 Successfully assigned ip to ethernet: ens787f0
INFO     root:sshInstance.py:44 echo 4 > /sys/class/net/ens787f0/device/sriov_numvfs
INFO     root:sshInstance.py:48 
INFO     root:test_network_sriov_stress.py:95 Successfully Virtualized PF to VFs.
INFO     root:sshInstance.py:44  lspci | grep "Virtual" | awk '{print $1;}'list
INFO     root:sshInstance.py:48 31:01.0
31:01.1
31:01.2
31:01.3

INFO     root:test_network_sriov_stress.py:109 Succssfully Gotten vf_id list:

INFO     root:sshInstance.py:44  modinfo vfio-pci | grep "vfio_pci" | awk '{ print $2;}'
INFO     root:sshInstance.py:48 vfio_pci

INFO     root:test_network_sriov_stress.py:162 Successfuly modeprobe vfio-pci
INFO     root:sshInstance.py:44 /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -b vfio-pci 31:01.0
INFO     root:sshInstance.py:48 
INFO     root:test_network_sriov_stress.py:141 Successfuly bound VF to vfio-pci
INFO     root:sshInstance.py:44 /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -b vfio-pci 31:01.1
INFO     root:sshInstance.py:48 
INFO     root:test_network_sriov_stress.py:141 Successfuly bound VF to vfio-pci
INFO     root:test_network_sriov_stress.py:381 lspci -Dnn | grep 31:01.1
INFO     root:sshInstance.py:44 lspci -Dnn | grep 31:01.1
INFO     root:sshInstance.py:48 0000:31:01.1 Ethernet controller [0200]: Intel Corporation Ethernet Adaptive Virtual Function [8086:1889] (rev 02)

INFO     root:test_network_sriov_stress.py:392 Successfully get vf device id: 8086:1889
INFO     root:sshInstance.py:44 virsh net-info default | grep "Active" | awk '{print $2;}'
INFO     root:sshInstance.py:48 yes

INFO     root:test_network_sriov_stress.py:170 Default network is active? yes

INFO     root:sshInstance.py:69 virt-install --name VMtest1 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_0 --boot hd --disk path=/home//image/ubuntu20.04.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=59900 --noautoconsole

** (process:105162): [1;33mWARNING[0m **: [34m11:19:30.979[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
ERROR    Requested operation is not valid: PCI device 0000:31:01.0 is in use by driver QEMU, domain VMtest1
Domain installation does not appear to have been successful.
If it was, you can restart your domain by running:
  virsh --connect qemu:///system start VMtest1
otherwise, please restart your installation.
[root@WW30CYP10 ~]# 
ERROR    root:test_network_sriov_stress.py:202 Failed to create a VM: virt-install --name VMtest1 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_0 --boot hd --disk path=/home//image/ubuntu20.04.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=59900 --noautoconsole

** (process:105162): [1;33mWARNING[0m **: [34m11:19:30.979[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
ERROR    Requested operation is not valid: PCI device 0000:31:01.0 is in use by driver QEMU, domain VMtest1
Domain installation does not appear to have been successful.
If it was, you can restart your domain by running:
  virsh --connect qemu:///system start VMtest1
otherwise, please restart your installation.
[root@WW30CYP10 ~]# 
ERROR    root:test_network_sriov_stress.py:203 Failed to create a VM: 
INFO     root:sshInstance.py:69 virt-install --name VMtest1 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_0 --boot hd --disk path=/home//image/ubuntu20.04.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=59900 --noautoconsole

** (process:105223): [1;33mWARNING[0m **: [34m11:19:37.996[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
INFO     root:sshInstance.py:69 Domain creation completed.
[root@WW30CYP10 ~]# 
INFO     root:test_network_sriov_stress.py:205 Successfully created a VM: VMtest1
INFO     root:sshInstance.py:69 virt-install --name VMtest2 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_1 --boot hd --disk path=/home//image/rhel84rt.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=5901  --noautoconsole

** (process:105295): [1;33mWARNING[0m **: [34m11:19:48.000[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
ERROR    Requested operation is not valid: PCI device 0000:31:01.1 is in use by driver QEMU, domain VMtest2
Domain installation does not appear to have been successful.
If it was, you can restart your domain by running:
  virsh --connect qemu:///system start VMtest2
otherwise, please restart your installation.
[root@WW30CYP10 ~]# 
ERROR    root:test_network_sriov_stress.py:202 Failed to create a VM: virt-install --name VMtest2 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_1 --boot hd --disk path=/home//image/rhel84rt.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=5901  --noautoconsole

** (process:105295): [1;33mWARNING[0m **: [34m11:19:48.000[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
ERROR    Requested operation is not valid: PCI device 0000:31:01.1 is in use by driver QEMU, domain VMtest2
Domain installation does not appear to have been successful.
If it was, you can restart your domain by running:
  virsh --connect qemu:///system start VMtest2
otherwise, please restart your installation.
[root@WW30CYP10 ~]# 
ERROR    root:test_network_sriov_stress.py:203 Failed to create a VM: 
INFO     root:sshInstance.py:69 virt-install --name VMtest2 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_1 --boot hd --disk path=/home//image/rhel84rt.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=5901  --noautoconsole

** (process:105357): [1;33mWARNING[0m **: [34m11:19:55.000[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
INFO     root:sshInstance.py:69 Domain creation completed.
[root@WW30CYP10 ~]# 
INFO     root:test_network_sriov_stress.py:205 Successfully created a VM: VMtest2
INFO     root:sshInstance.py:44 virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest1
INFO     root:sshInstance.py:44 virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 192.168.122.72/24

INFO     root:test_network_sriov_stress.py:216 Successfully got VMtest1 IP: 192.168.122.72/24

INFO     root:sshInstance.py:44 virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest2
INFO     root:sshInstance.py:44 virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest2
INFO     root:sshInstance.py:44 virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest2
INFO     root:sshInstance.py:44 virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest2
INFO     root:sshInstance.py:44 virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest2
INFO     root:sshInstance.py:44 virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest2
INFO     root:test_network_sriov_stress.py:409 ip of VM1: 192.168.122.72
INFO     root:test_network_sriov_stress.py:410 ip of VM1: 
INFO     root:sshInstance.py:69 ping -c 5 192.168.122.72
PING 192.168.122.72 (192.168.122.72) 56(84) bytes of data.
64 bytes from 192.168.122.72: icmp_seq=1 ttl=64 time=0.147 ms
INFO     root:sshInstance.py:69 64 bytes from 192.168.122.72: icmp_seq=2 ttl=64 time=0.079 ms
INFO     root:sshInstance.py:69 64 bytes from 192.168.122.72: icmp_seq=3 ttl=64 time=0.104 ms
INFO     root:sshInstance.py:69 64 bytes from 192.168.122.72: icmp_seq=4 ttl=64 time=0.097 ms
INFO     root:sshInstance.py:69 64 bytes from 192.168.122.72: icmp_seq=5 ttl=64 time=0.120 ms

--- 192.168.122.72 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4127ms
rtt min/avg/max/mdev = 0.079/0.109/0.147/0.024 ms
[root@WW30CYP10 ~]# 
INFO     root:sshInstance.py:89 ssh root@192.168.122.72
root@192.168.122.72's password: 
INFO     root:sshInstance.py:89 
Welcome to Ubuntu 20.04 LTS (GNU/Linux 5.4.0-26-generic x86_64)
 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage
  System information as of Wed 24 Nov 2021 10:28:27 PM EST
  System load:  0.08               Processes:             126
  Usage of /:   46.8% of 19.07GB   Users logged in:       0
  Memory usage: 30%                IPv4 address for ens3: 192.168.122.72
  Swap usage:   0%

366 updates can be installed immediately.
222 of these updates are security updates.
To see these additional updates run: apt list --upgradable

Last login: Wed Nov 24 22:16:07 2021 from 192.168.122.1
root@localhost:~# 
INFO     root:sshInstance.py:89 lspci -Dnn | grep "8086:1889" | awk '{print $1;}'
0000:00:05.0
root@localhost:~# 
INFO     root:test_network_sriov_stress.py:306 successfully got vf pci id of vm1: 0000:00:05.0
INFO     root:sshInstance.py:89 ls /sys/bus/pci/devices/0000\:00\:05.0/net/ --color=never
ens5
root@localhost:~# 
INFO     root:test_network_sriov_stress.py:317 Successfully got vf device name of vm1: ens5
INFO     root:sshInstance.py:89 ifconfig ens5 192.168.10.12
root@localhost:~# 
INFO     root:test_network_sriov_stress.py:268 Successfully assigned ip to ethernet: ens5
INFO     root:sshInstance.py:89 ifconfig ens5 down
root@localhost:~# 
INFO     root:sshInstance.py:89 ifconfig ens5 hw ether 1234567890ac
root@localhost:~# 
INFO     root:sshInstance.py:89 ifconfig ens5 up
root@localhost:~# 
INFO     root:sshInstance.py:89 nmcli device connect ens5
Command 'nmcli' not found, but can be installed with:
apt install network-manager
root@localhost:~# 
INFO     root:sshInstance.py:89 ifconfig ens5
ens5: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.10.12  netmask 255.255.255.0  broadcast 192.168.10.255
        inet6 fe80::1034:56ff:fe78:90ac  prefixlen 64  scopeid 0x20<link>
        ether 12:34:56:78:90:ac  txqueuelen 1000  (Ethernet)
        RX packets 5  bytes 1722 (1.7 KB)
        RX errors 0  dropped 1  overruns 0  frame 0
        TX packets 9  bytes 766 (766.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
root@localhost:~# 
INFO     root:sshInstance.py:89 exit
logout
Connection to 192.168.122.72 closed.
[root@WW30CYP10 ~]# 
INFO     root:sshInstance.py:69 ping -c 5 
Usage: ping [-aAbBdDfhLnOqrRUvV64] [-c count] [-i interval] [-I interface]
            [-m mark] [-M pmtudisc_option] [-l preload] [-p pattern] [-Q tos]
            [-s packetsize] [-S sndbuf] [-t ttl] [-T timestamp_option]
            [-w deadline] [-W timeout] [hop1 ...] destination
Usage: ping -6 [-aAbBdDfhLnOqrRUvV] [-c count] [-i interval] [-I interface]
             [-l preload] [-m mark] [-M pmtudisc_option]
             [-N nodeinfo_option] [-p pattern] [-Q tclass] [-s packetsize]
             [-S sndbuf] [-t ttl] [-T timestamp_option] [-w deadline]
             [-W timeout] destination
[root@WW30CYP10 ~]#
---------------------------- Captured log teardown -----------------------------
INFO     root:test_network_sriov_stress.py:52 this is the teardown of Test_Network_SRIOV_Stress.
INFO     root:sshInstance.py:44 virsh destroy VMtest2
INFO     root:sshInstance.py:48 Domain VMtest2 destroyed


INFO     root:test_network_sriov_stress.py:247 Successfully shut down the VM: VMtest2
INFO     root:sshInstance.py:44 virsh undefine VMtest2
INFO     root:sshInstance.py:48 Domain VMtest2 has been undefined


INFO     root:test_network_sriov_stress.py:254 Successfully removed the VM: VMtest2
INFO     root:sshInstance.py:44 virsh destroy VMtest1
INFO     root:sshInstance.py:48 Domain VMtest1 destroyed


INFO     root:test_network_sriov_stress.py:247 Successfully shut down the VM: VMtest1
INFO     root:sshInstance.py:44 virsh undefine VMtest1
INFO     root:sshInstance.py:48 Domain VMtest1 has been undefined


INFO     root:test_network_sriov_stress.py:254 Successfully removed the VM: VMtest1
INFO     root:sshInstance.py:39 closing ssh client on SUT
INFO     root:test_network_sriov_stress.py:57 =============================================Finished run the test case===============================================
_ Test_Network_SRIOV_Stress.test_PI_Networking_SRIOV_StressDisableEnableFor5TimesWhenVFIsAssigned_VM_Guest[rhel84rt.img-rhel84rt2.img] _

self = <Tests.testNics.test_network_sriov_stress.Test_Network_SRIOV_Stress object at 0x7f7a131bb5c0>
vm1_image = 'rhel84rt.img', vm2_image = 'rhel84rt2.img'

    @pytest.mark.nicall
    @pytest.mark.usefixtures("fbefore")
    @pytest.mark.parametrize('vm1_image, vm2_image', vm_image)
    def test_PI_Networking_SRIOV_StressDisableEnableFor5TimesWhenVFIsAssigned_VM_Guest(self, vm1_image, vm2_image):
        for j in range(1, 6):
            logging.info("\n\n********************************************************Stress Disable and Enable for {} time when VF is Assigned VM guest.*************************************************************\n\n".format(j))
            # get pf id: 0000:xx:xx.x
            pf_id, status= self.get_pf_id(self.pf_name)
            # transfer pf_id to 0000\:00\:00.0 format
            if not pf_id:
                assert 200 == status
            else:
                pf_id_format = pf_id.replace(":", "\\:", 2)
                logging.info("format_pf_id is {}".format(pf_id_format))
                # get the number key of pf_id
                pf_id_key = pf_id.split(":")[1]
                logging.info("pf_id_key: {}".format(pf_id_key))
                # assign IP to PF in SUT and sut2
                pf_ip = "192.168.{}.{}".format(self.dhcp_info["ipv4"].split(".")[2],
                                               str(int(self.dhcp_info["ipv4"].split(".")[3])+1))
                dhcp_ipv4 = self.dhcp_info["ipv4"]
                assert 200 == self.assign_ip_ehternet(self.session, pf_ip, self.pf_name)
                # virtulize the pf to vfs
                assert 200 == self.virtualize_pf_to_vfs(self.pf_name)
                # get vf ids
                vf_id_list, status=self.get_vf_ids(pf_id_key)
                if status == 200:
                    # modprobe vfio-pci
                    assert 200 == self.modprobe("vfio-pci")
                    # bind vf with vfio-pci
                    host_dev_id_list, status = self.bind_vf_to_vfio_pci(vf_id_list)
                    assert 200 == status
                else:
                    assert 200 == status
                # get vF device ida
                #tmp code
                cmd = "lspci -Dnn | grep %s" % (vf_id_list[1])
                logging.info(cmd)
                vf_device_id = ""
                vf_device_id_rs, error = self.ssh_sut.ssh_exec_cmd(self.client, cmd)
                if vf_device_id_rs:
                    st = False
                    vf_device_id = None
                    for one in vf_device_id_rs.split(" "):
                        one = " "+one+" "
                        if one.find(" [") > -1 and one.find("] ") > -1 and one.find(":")> -1:
                            vf_device_id = one.replace("[", "").replace("]","").strip()
                    if not vf_device_id: assert 200 == 400,"vf_device_id is not found"
                    logging.info("Successfully get vf device id: {}".format(vf_device_id))
                    assert 200 == 200
                else:
                    logging.error("Fail to get vf device id.")
                    assert 200==400
    
                #set network
                status = self.default_network_isActive(self.defult_network)
                if status == "no":
                    assert 200 == self.start_default_network(self.defult_network)
    
                # start VMs
                assert 200 == self.create_vm(vm1_image, host_dev_id_list[0], self.vm1_name, "5900")
                assert 200 == self.create_vm(vm2_image, host_dev_id_list[1], self.vm2_name, "5901")
                # get VM ssh IP
                vm1_ip, status1 = self.get_vm_ip(self.vm1_name)
                vm2_ip, status2 = self.get_vm_ip(self.vm2_name)
                logging.info("ip of VM1: {}".format(vm1_ip))
                logging.info("ip of VM1: {}".format(vm2_ip))
    
                #ssh VM1 to set VF
                vm1_vf_ip = "192.168.{}.{}".format(self.dhcp_info["ipv4"].split(".")[2],
                                               str(int(self.dhcp_info["ipv4"].split(".")[3])+2))
                vm2_vf_ip = "192.168.{}.{}".format(self.dhcp_info["ipv4"].split(".")[2],
                                               str(int(self.dhcp_info["ipv4"].split(".")[3])+3))
>               assert 200 == self.on_session_ssh(self.ssh_sut, self.session, vm1_ip),"ssh vm failed,the reason may be is password is error,vm ip isimpassability"
E               AssertionError: ssh vm failed,the reason may be is password is error,vm ip isimpassability
E               assert 200 == 400
E                +  where 400 = <bound method Test_Network_SRIOV_Stress.on_session_ssh of <Tests.testNics.test_network_sriov_stress.Test_Network_SRIOV_Stress object at 0x7f7a131bb5c0>>(<libs.commons.sshInstance.sshInstance object at 0x7f7a1248c080>, <paramiko.Channel 0 (open) window=2096634 -> <paramiko.Transport at 0x1015a240 (cipher aes128-ctr, 128 bits) (active; 1 open channel(s))>>, '')
E                +    where <bound method Test_Network_SRIOV_Stress.on_session_ssh of <Tests.testNics.test_network_sriov_stress.Test_Network_SRIOV_Stress object at 0x7f7a131bb5c0>> = <Tests.testNics.test_network_sriov_stress.Test_Network_SRIOV_Stress object at 0x7f7a131bb5c0>.on_session_ssh
E                +    and   <libs.commons.sshInstance.sshInstance object at 0x7f7a1248c080> = <Tests.testNics.test_network_sriov_stress.Test_Network_SRIOV_Stress object at 0x7f7a131bb5c0>.ssh_sut
E                +    and   <paramiko.Channel 0 (open) window=2096634 -> <paramiko.Transport at 0x1015a240 (cipher aes128-ctr, 128 bits) (active; 1 open channel(s))>> = <Tests.testNics.test_network_sriov_stress.Test_Network_SRIOV_Stress object at 0x7f7a131bb5c0>.session

../test-nic/npxtester/Tests/testNics/test_network_sriov_stress.py:417: AssertionError
------------------------------ Captured log call -------------------------------
INFO     root:test_network_sriov_stress.py:349 

********************************************************Stress Disable and Enable for 1 time when VF is Assigned VM guest.*************************************************************


INFO     root:sshInstance.py:44 /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -s | grep ens787f0 | awk '{print $1;}'
INFO     root:sshInstance.py:48 0000:31:00.0
0000:31:01.0
0000:31:01.1
0000:31:01.2
0000:31:01.3

INFO     root:test_network_sriov_stress.py:80 pf_id was found: 0000:31:00.0
0000:31:01.0
0000:31:01.1
0000:31:01.2
0000:31:01.3

INFO     root:test_network_sriov_stress.py:357 format_pf_id is 0000\:31\:00.0
0000:31:01.0
0000:31:01.1
0000:31:01.2
0000:31:01.3

INFO     root:test_network_sriov_stress.py:360 pf_id_key: 31
INFO     root:sshInstance.py:89 Activate the web console with: systemctl enable --now cockpit.socket
This system is not registered to Red Hat Insights. See https://cloud.redhat.com/
To register this system, run: insights-client --register
Last login: Thu Nov 25 11:18:12 2021 from 10.239.129.147
[root@WW30CYP10 ~]# ifconfig ens787f0 192.168.10.11
[root@WW30CYP10 ~]# 
INFO     root:test_network_sriov_stress.py:268 Successfully assigned ip to ethernet: ens787f0
INFO     root:sshInstance.py:44 echo 4 > /sys/class/net/ens787f0/device/sriov_numvfs
INFO     root:sshInstance.py:48 
INFO     root:test_network_sriov_stress.py:95 Successfully Virtualized PF to VFs.
INFO     root:sshInstance.py:44  lspci | grep "Virtual" | awk '{print $1;}'list
INFO     root:sshInstance.py:48 31:01.0
31:01.1
31:01.2
31:01.3

INFO     root:test_network_sriov_stress.py:109 Succssfully Gotten vf_id list:

INFO     root:sshInstance.py:44  modinfo vfio-pci | grep "vfio_pci" | awk '{ print $2;}'
INFO     root:sshInstance.py:48 vfio_pci

INFO     root:test_network_sriov_stress.py:162 Successfuly modeprobe vfio-pci
INFO     root:sshInstance.py:44 /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -b vfio-pci 31:01.0
INFO     root:sshInstance.py:48 
INFO     root:test_network_sriov_stress.py:141 Successfuly bound VF to vfio-pci
INFO     root:sshInstance.py:44 /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -b vfio-pci 31:01.1
INFO     root:sshInstance.py:48 
INFO     root:test_network_sriov_stress.py:141 Successfuly bound VF to vfio-pci
INFO     root:test_network_sriov_stress.py:381 lspci -Dnn | grep 31:01.1
INFO     root:sshInstance.py:44 lspci -Dnn | grep 31:01.1
INFO     root:sshInstance.py:48 0000:31:01.1 Ethernet controller [0200]: Intel Corporation Ethernet Adaptive Virtual Function [8086:1889] (rev 02)

INFO     root:test_network_sriov_stress.py:392 Successfully get vf device id: 8086:1889
INFO     root:sshInstance.py:44 virsh net-info default | grep "Active" | awk '{print $2;}'
INFO     root:sshInstance.py:48 yes

INFO     root:test_network_sriov_stress.py:170 Default network is active? yes

INFO     root:sshInstance.py:69 virt-install --name VMtest1 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_0 --boot hd --disk path=/home//image/rhel84rt.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=5900  --noautoconsole

** (process:107277): [1;33mWARNING[0m **: [34m11:31:50.053[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
INFO     root:sshInstance.py:69 Domain creation completed.
[root@WW30CYP10 ~]# 
INFO     root:test_network_sriov_stress.py:205 Successfully created a VM: VMtest1
INFO     root:sshInstance.py:69 virt-install --name VMtest2 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_1 --boot hd --disk path=/home//image/rhel84rt2.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=59011 --noautoconsole

** (process:107320): [1;33mWARNING[0m **: [34m11:32:00.074[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
INFO     root:sshInstance.py:69 Domain creation completed.
[root@WW30CYP10 ~]# 
INFO     root:test_network_sriov_stress.py:205 Successfully created a VM: VMtest2
INFO     root:sshInstance.py:44 virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest1
INFO     root:sshInstance.py:44 virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest1
INFO     root:sshInstance.py:44 virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest1
INFO     root:sshInstance.py:44 virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest1
INFO     root:sshInstance.py:44 virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest1
INFO     root:sshInstance.py:44 virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest1
INFO     root:sshInstance.py:44 virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest2
INFO     root:sshInstance.py:44 virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest2
INFO     root:sshInstance.py:44 virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest2
INFO     root:sshInstance.py:44 virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest2
INFO     root:sshInstance.py:44 virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest2
INFO     root:sshInstance.py:44 virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest2
INFO     root:test_network_sriov_stress.py:409 ip of VM1: 
INFO     root:test_network_sriov_stress.py:410 ip of VM1: 
INFO     root:sshInstance.py:69 ping -c 5 
Usage: ping [-aAbBdDfhLnOqrRUvV64] [-c count] [-i interval] [-I interface]
            [-m mark] [-M pmtudisc_option] [-l preload] [-p pattern] [-Q tos]
            [-s packetsize] [-S sndbuf] [-t ttl] [-T timestamp_option]
            [-w deadline] [-W timeout] [hop1 ...] destination
Usage: ping -6 [-aAbBdDfhLnOqrRUvV] [-c count] [-i interval] [-I interface]
             [-l preload] [-m mark] [-M pmtudisc_option]
             [-N nodeinfo_option] [-p pattern] [-Q tclass] [-s packetsize]
             [-S sndbuf] [-t ttl] [-T timestamp_option] [-w deadline]
             [-W timeout] destination
[root@WW30CYP10 ~]#
---------------------------- Captured log teardown -----------------------------
INFO     root:test_network_sriov_stress.py:52 this is the teardown of Test_Network_SRIOV_Stress.
INFO     root:sshInstance.py:44 virsh destroy VMtest2
INFO     root:sshInstance.py:48 Domain VMtest2 destroyed


INFO     root:test_network_sriov_stress.py:247 Successfully shut down the VM: VMtest2
INFO     root:sshInstance.py:44 virsh undefine VMtest2
INFO     root:sshInstance.py:48 Domain VMtest2 has been undefined


INFO     root:test_network_sriov_stress.py:254 Successfully removed the VM: VMtest2
INFO     root:sshInstance.py:44 virsh destroy VMtest1
INFO     root:sshInstance.py:48 Domain VMtest1 destroyed


INFO     root:test_network_sriov_stress.py:247 Successfully shut down the VM: VMtest1
INFO     root:sshInstance.py:44 virsh undefine VMtest1
INFO     root:sshInstance.py:48 Domain VMtest1 has been undefined


INFO     root:test_network_sriov_stress.py:254 Successfully removed the VM: VMtest1
INFO     root:sshInstance.py:39 closing ssh client on SUT
INFO     root:test_network_sriov_stress.py:57 =============================================Finished run the test case===============================================
_ Test_Network_SRIOV_Stress.test_PI_Networking_SRIOV_StressTrafficBetweenPFVFAndTestClientFor2Hours_VM_Guest[ubuntu20.04.img-rhel84rt.img] _

self = <Tests.testNics.test_network_sriov_stress.Test_Network_SRIOV_Stress object at 0x7f7a1015a978>
vm1_image = 'ubuntu20.04.img', vm2_image = 'rhel84rt.img'

    @pytest.mark.nicall
    @pytest.mark.usefixtures("fbefore")
    @pytest.mark.parametrize('vm1_image, vm2_image', vm_image)
    def test_PI_Networking_SRIOV_StressTrafficBetweenPFVFAndTestClientFor2Hours_VM_Guest(self,vm1_image, vm2_image):
    
        pf_id, status = self.get_pf_id(self.pf_name)
        # transfer pf_id to 0000\:00\:00.0 format
        if not pf_id:
            assert 200 == status
        else:
            pf_id_format = pf_id.replace(":", "\\:", 2)
            logging.info("format_pf_id is {}".format(pf_id_format))
            # get the number key of pf_id
            pf_id_key = pf_id.split(":")[1]
            logging.info("pf_id_key: {}".format(pf_id_key))
            # assign IP to PF in SUT and sut2
            pf_ip = "192.168.{}.{}".format(self.dhcp_info["ipv4"].split(".")[2],
                                           str(int(self.dhcp_info["ipv4"].split(".")[3]) + 1))
            dhcp_ipv4 = self.dhcp_info["ipv4"]
            assert 200 == self.assign_ip_ehternet(self.session, pf_ip, self.pf_name)
    
            # virtulize the pf to vfs
            assert 200 == self.virtualize_pf_to_vfs(self.pf_name)
            # get vf ids
            vf_id_list, status = self.get_vf_ids(pf_id_key)
    
            if status == 200:
                # modprobe vfio-pci
                assert 200 == self.modprobe("vfio-pci")
                # bind vf with vfio-pci
                host_dev_id_list, status = self.bind_vf_to_vfio_pci(vf_id_list)
                assert 200 == status
            else:
                assert 200 == status
            # get vF device id
    
            cmd = "lspci -Dnn | grep %s" % (vf_id_list[1])
            logging.info(cmd)
            vf_device_id = ""
            vf_device_id_rs, error = self.ssh_sut.ssh_exec_cmd(self.client, cmd)
            if vf_device_id_rs:
                st = False
                vf_device_id = None
                for one in vf_device_id_rs.split(" "):
                    one = " "+one+" "
                    if one.find(" [") > -1 and one.find("] ") > -1 and one.find(":")> -1:
                        vf_device_id = one.replace("[", "").replace("]","").strip()
                if not vf_device_id: assert 200 == 400,"vf_device_id is not found"
                logging.info("Successfully get vf device id: {}".format(vf_device_id))
                assert 200 == 200
            else:
                logging.error("Fail to get vf device id.")
                assert 200==400
            # set network
            status = self.default_network_isActive(self.defult_network)
            if status == "no":
                assert 200 == self.start_default_network(self.defult_network)
    
            # start VMs
            assert 200 == self.create_vm(vm1_image, host_dev_id_list[0], self.vm1_name, "5900")
            assert 200 == self.create_vm(vm2_image, host_dev_id_list[1], self.vm2_name, "5901")
            # get VM ssh IP
            vm1_ip, status1 = self.get_vm_ip(self.vm1_name)
            vm2_ip, status2 = self.get_vm_ip(self.vm2_name)
    
            # ssh VM1 to set VF
            #ssh VM1 to set VF
            vm1_vf_ip = "192.168.{}.{}".format(self.dhcp_info["ipv4"].split(".")[2],
                                           str(int(self.dhcp_info["ipv4"].split(".")[3]) + 2))
            vm2_vf_ip = "192.168.{}.{}".format(self.dhcp_info["ipv4"].split(".")[2],
                                           str(int(self.dhcp_info["ipv4"].split(".")[3]) + 3))
            assert 200 == self.on_session_ssh(self.ssh_sut, self.session, vm1_ip),"ssh vm failed,the reason may be is password is error,vm ip isimpassability"
            vm1_vf_name, vm1_ipv6, status = self.ssh_vm_set_VF(vm1_ip, vf_device_id, vm1_vf_ip, "1234567890ac")
            self.ssh_sut.run_ssh_cmd(self.session, "exit\n")
    
            assert 200 == status, "vm1 vf related settings failed"
>           assert 200 == self.on_session_ssh(self.ssh_sut, self.session, vm2_ip),"ssh vm failed,the reason may be is password is error,vm ip isimpassability"
E           AssertionError: ssh vm failed,the reason may be is password is error,vm ip isimpassability
E           assert 200 == 400
E            +  where 400 = <bound method Test_Network_SRIOV_Stress.on_session_ssh of <Tests.testNics.test_network_sriov_stress.Test_Network_SRIOV_Stress object at 0x7f7a1015a978>>(<libs.commons.sshInstance.sshInstance object at 0x7f7a1015ad68>, <paramiko.Channel 0 (open) window=2096321 -> <paramiko.Transport at 0x109c7f98 (cipher aes128-ctr, 128 bits) (active; 1 open channel(s))>>, '')
E            +    where <bound method Test_Network_SRIOV_Stress.on_session_ssh of <Tests.testNics.test_network_sriov_stress.Test_Network_SRIOV_Stress object at 0x7f7a1015a978>> = <Tests.testNics.test_network_sriov_stress.Test_Network_SRIOV_Stress object at 0x7f7a1015a978>.on_session_ssh
E            +    and   <libs.commons.sshInstance.sshInstance object at 0x7f7a1015ad68> = <Tests.testNics.test_network_sriov_stress.Test_Network_SRIOV_Stress object at 0x7f7a1015a978>.ssh_sut
E            +    and   <paramiko.Channel 0 (open) window=2096321 -> <paramiko.Transport at 0x109c7f98 (cipher aes128-ctr, 128 bits) (active; 1 open channel(s))>> = <Tests.testNics.test_network_sriov_stress.Test_Network_SRIOV_Stress object at 0x7f7a1015a978>.session

../test-nic/npxtester/Tests/testNics/test_network_sriov_stress.py:532: AssertionError
------------------------------ Captured log call -------------------------------
INFO     root:sshInstance.py:44 /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -s | grep ens787f0 | awk '{print $1;}'
INFO     root:sshInstance.py:48 0000:31:00.0
0000:31:01.2
0000:31:01.3

INFO     root:test_network_sriov_stress.py:80 pf_id was found: 0000:31:00.0
0000:31:01.2
0000:31:01.3

INFO     root:test_network_sriov_stress.py:467 format_pf_id is 0000\:31\:00.0
0000:31:01.2
0000:31:01.3

INFO     root:test_network_sriov_stress.py:470 pf_id_key: 31
INFO     root:sshInstance.py:89 Activate the web console with: systemctl enable --now cockpit.socket
This system is not registered to Red Hat Insights. See https://cloud.redhat.com/
To register this system, run: insights-client --register
Last login: Thu Nov 25 11:46:25 2021 from 10.239.129.147
[root@WW30CYP10 ~]# ifconfig ens787f0 192.168.10.11
[root@WW30CYP10 ~]# 
INFO     root:test_network_sriov_stress.py:268 Successfully assigned ip to ethernet: ens787f0
INFO     root:sshInstance.py:44 echo 4 > /sys/class/net/ens787f0/device/sriov_numvfs
INFO     root:sshInstance.py:48 
INFO     root:test_network_sriov_stress.py:95 Successfully Virtualized PF to VFs.
INFO     root:sshInstance.py:44  lspci | grep "Virtual" | awk '{print $1;}'list
INFO     root:sshInstance.py:48 31:01.0
31:01.1
31:01.2
31:01.3

INFO     root:test_network_sriov_stress.py:109 Succssfully Gotten vf_id list:

INFO     root:sshInstance.py:44  modinfo vfio-pci | grep "vfio_pci" | awk '{ print $2;}'
INFO     root:sshInstance.py:48 vfio_pci

INFO     root:test_network_sriov_stress.py:162 Successfuly modeprobe vfio-pci
INFO     root:sshInstance.py:44 /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -b vfio-pci 31:01.0
INFO     root:sshInstance.py:48 
INFO     root:test_network_sriov_stress.py:141 Successfuly bound VF to vfio-pci
INFO     root:sshInstance.py:44 /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -b vfio-pci 31:01.1
INFO     root:sshInstance.py:48 
INFO     root:test_network_sriov_stress.py:141 Successfuly bound VF to vfio-pci
INFO     root:test_network_sriov_stress.py:493 lspci -Dnn | grep 31:01.1
INFO     root:sshInstance.py:44 lspci -Dnn | grep 31:01.1
INFO     root:sshInstance.py:48 0000:31:01.1 Ethernet controller [0200]: Intel Corporation Ethernet Adaptive Virtual Function [8086:1889] (rev 02)

INFO     root:test_network_sriov_stress.py:504 Successfully get vf device id: 8086:1889
INFO     root:sshInstance.py:44 virsh net-info default | grep "Active" | awk '{print $2;}'
INFO     root:sshInstance.py:48 yes

INFO     root:test_network_sriov_stress.py:170 Default network is active? yes

INFO     root:sshInstance.py:69 virt-install --name VMtest1 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_0 --boot hd --disk path=/home//image/ubuntu20.04.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=59900 --noautoconsole

** (process:110448): [1;33mWARNING[0m **: [34m12:06:36.119[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
INFO     root:sshInstance.py:69 Domain creation completed.
[root@WW30CYP10 ~]# 
INFO     root:test_network_sriov_stress.py:205 Successfully created a VM: VMtest1
INFO     root:sshInstance.py:69 virt-install --name VMtest2 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_1 --boot hd --disk path=/home//image/rhel84rt.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=5901  --noautoconsole

** (process:110491): [1;33mWARNING[0m **: [34m12:06:46.125[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
INFO     root:sshInstance.py:69 Domain creation completed.
[root@WW30CYP10 ~]# 
INFO     root:test_network_sriov_stress.py:205 Successfully created a VM: VMtest2
INFO     root:sshInstance.py:44 virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest1
INFO     root:sshInstance.py:44 virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 192.168.122.72/24

INFO     root:test_network_sriov_stress.py:216 Successfully got VMtest1 IP: 192.168.122.72/24

INFO     root:sshInstance.py:44 virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest2
INFO     root:sshInstance.py:44 virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest2
INFO     root:sshInstance.py:44 virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest2
INFO     root:sshInstance.py:44 virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest2
INFO     root:sshInstance.py:44 virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest2
INFO     root:sshInstance.py:44 virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest2
INFO     root:sshInstance.py:69 ping -c 5 192.168.122.72
PING 192.168.122.72 (192.168.122.72) 56(84) bytes of data.
64 bytes from 192.168.122.72: icmp_seq=1 ttl=64 time=0.120 ms
INFO     root:sshInstance.py:69 64 bytes from 192.168.122.72: icmp_seq=2 ttl=64 time=0.082 ms
INFO     root:sshInstance.py:69 64 bytes from 192.168.122.72: icmp_seq=3 ttl=64 time=0.095 ms
INFO     root:sshInstance.py:69 64 bytes from 192.168.122.72: icmp_seq=4 ttl=64 time=0.102 ms
INFO     root:sshInstance.py:69 64 bytes from 192.168.122.72: icmp_seq=5 ttl=64 time=0.085 ms

--- 192.168.122.72 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4132ms
rtt min/avg/max/mdev = 0.082/0.096/0.120/0.018 ms
[root@WW30CYP10 ~]# 
INFO     root:sshInstance.py:89 ssh root@192.168.122.72
root@192.168.122.72's password: 
INFO     root:sshInstance.py:89 
Welcome to Ubuntu 20.04 LTS (GNU/Linux 5.4.0-26-generic x86_64)
 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage
  System information as of Wed 24 Nov 2021 11:15:18 PM EST
  System load:  0.0                Processes:             126
  Usage of /:   46.9% of 19.07GB   Users logged in:       0
  Memory usage: 30%                IPv4 address for ens3: 192.168.122.72
  Swap usage:   0%

366 updates can be installed immediately.
222 of these updates are security updates.
To see these additional updates run: apt list --upgradable

Last login: Wed Nov 24 22:53:14 2021 from 192.168.122.1
root@localhost:~# 
INFO     root:sshInstance.py:89 lspci -Dnn | grep "8086:1889" | awk '{print $1;}'
0000:00:05.0
root@localhost:~# 
INFO     root:test_network_sriov_stress.py:306 successfully got vf pci id of vm1: 0000:00:05.0
INFO     root:sshInstance.py:89 ls /sys/bus/pci/devices/0000\:00\:05.0/net/ --color=never
ens5
root@localhost:~# 
INFO     root:test_network_sriov_stress.py:317 Successfully got vf device name of vm1: ens5
INFO     root:sshInstance.py:89 ifconfig ens5 192.168.10.12
root@localhost:~# 
INFO     root:test_network_sriov_stress.py:268 Successfully assigned ip to ethernet: ens5
INFO     root:sshInstance.py:89 ifconfig ens5 down
root@localhost:~# 
INFO     root:sshInstance.py:89 ifconfig ens5 hw ether 1234567890ac
root@localhost:~# 
INFO     root:sshInstance.py:89 ifconfig ens5 up
root@localhost:~# 
INFO     root:sshInstance.py:89 nmcli device connect ens5
Command 'nmcli' not found, but can be installed with:
apt install network-manager
root@localhost:~# 
INFO     root:sshInstance.py:89 ifconfig ens5
ens5: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.10.12  netmask 255.255.255.0  broadcast 192.168.10.255
        inet6 fe80::1034:56ff:fe78:90ac  prefixlen 64  scopeid 0x20<link>
        ether 12:34:56:78:90:ac  txqueuelen 1000  (Ethernet)
        RX packets 4  bytes 1376 (1.3 KB)
        RX errors 0  dropped 1  overruns 0  frame 0
        TX packets 8  bytes 696 (696.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
root@localhost:~# 
INFO     root:sshInstance.py:89 exit
logout
Connection to 192.168.122.72 closed.
[root@WW30CYP10 ~]# 
INFO     root:sshInstance.py:69 ping -c 5 
Usage: ping [-aAbBdDfhLnOqrRUvV64] [-c count] [-i interval] [-I interface]
            [-m mark] [-M pmtudisc_option] [-l preload] [-p pattern] [-Q tos]
            [-s packetsize] [-S sndbuf] [-t ttl] [-T timestamp_option]
            [-w deadline] [-W timeout] [hop1 ...] destination
Usage: ping -6 [-aAbBdDfhLnOqrRUvV] [-c count] [-i interval] [-I interface]
             [-l preload] [-m mark] [-M pmtudisc_option]
             [-N nodeinfo_option] [-p pattern] [-Q tclass] [-s packetsize]
             [-S sndbuf] [-t ttl] [-T timestamp_option] [-w deadline]
             [-W timeout] destination
[root@WW30CYP10 ~]#
---------------------------- Captured log teardown -----------------------------
INFO     root:test_network_sriov_stress.py:52 this is the teardown of Test_Network_SRIOV_Stress.
INFO     root:sshInstance.py:44 virsh destroy VMtest2
INFO     root:sshInstance.py:48 Domain VMtest2 destroyed


INFO     root:test_network_sriov_stress.py:247 Successfully shut down the VM: VMtest2
INFO     root:sshInstance.py:44 virsh undefine VMtest2
INFO     root:sshInstance.py:48 Domain VMtest2 has been undefined


INFO     root:test_network_sriov_stress.py:254 Successfully removed the VM: VMtest2
INFO     root:sshInstance.py:44 virsh destroy VMtest1
INFO     root:sshInstance.py:48 Domain VMtest1 destroyed


INFO     root:test_network_sriov_stress.py:247 Successfully shut down the VM: VMtest1
INFO     root:sshInstance.py:44 virsh undefine VMtest1
INFO     root:sshInstance.py:48 Domain VMtest1 has been undefined


INFO     root:test_network_sriov_stress.py:254 Successfully removed the VM: VMtest1
INFO     root:sshInstance.py:39 closing ssh client on SUT
INFO     root:test_network_sriov_stress.py:57 =============================================Finished run the test case===============================================
_ Test_Network_SRIOV_Stress.test_PI_Networking_SRIOV_StressTrafficBetweenPFVFAndTestClientFor2Hours_VM_Guest[rhel84rt.img-rhel84rt2.img] _

self = <Tests.testNics.test_network_sriov_stress.Test_Network_SRIOV_Stress object at 0x7f7a100fa4a8>
vm1_image = 'rhel84rt.img', vm2_image = 'rhel84rt2.img'

    @pytest.mark.nicall
    @pytest.mark.usefixtures("fbefore")
    @pytest.mark.parametrize('vm1_image, vm2_image', vm_image)
    def test_PI_Networking_SRIOV_StressTrafficBetweenPFVFAndTestClientFor2Hours_VM_Guest(self,vm1_image, vm2_image):
    
        pf_id, status = self.get_pf_id(self.pf_name)
        # transfer pf_id to 0000\:00\:00.0 format
        if not pf_id:
            assert 200 == status
        else:
            pf_id_format = pf_id.replace(":", "\\:", 2)
            logging.info("format_pf_id is {}".format(pf_id_format))
            # get the number key of pf_id
            pf_id_key = pf_id.split(":")[1]
            logging.info("pf_id_key: {}".format(pf_id_key))
            # assign IP to PF in SUT and sut2
            pf_ip = "192.168.{}.{}".format(self.dhcp_info["ipv4"].split(".")[2],
                                           str(int(self.dhcp_info["ipv4"].split(".")[3]) + 1))
            dhcp_ipv4 = self.dhcp_info["ipv4"]
            assert 200 == self.assign_ip_ehternet(self.session, pf_ip, self.pf_name)
    
            # virtulize the pf to vfs
            assert 200 == self.virtualize_pf_to_vfs(self.pf_name)
            # get vf ids
            vf_id_list, status = self.get_vf_ids(pf_id_key)
    
            if status == 200:
                # modprobe vfio-pci
                assert 200 == self.modprobe("vfio-pci")
                # bind vf with vfio-pci
                host_dev_id_list, status = self.bind_vf_to_vfio_pci(vf_id_list)
                assert 200 == status
            else:
                assert 200 == status
            # get vF device id
    
            cmd = "lspci -Dnn | grep %s" % (vf_id_list[1])
            logging.info(cmd)
            vf_device_id = ""
            vf_device_id_rs, error = self.ssh_sut.ssh_exec_cmd(self.client, cmd)
            if vf_device_id_rs:
                st = False
                vf_device_id = None
                for one in vf_device_id_rs.split(" "):
                    one = " "+one+" "
                    if one.find(" [") > -1 and one.find("] ") > -1 and one.find(":")> -1:
                        vf_device_id = one.replace("[", "").replace("]","").strip()
                if not vf_device_id: assert 200 == 400,"vf_device_id is not found"
                logging.info("Successfully get vf device id: {}".format(vf_device_id))
                assert 200 == 200
            else:
                logging.error("Fail to get vf device id.")
                assert 200==400
            # set network
            status = self.default_network_isActive(self.defult_network)
            if status == "no":
                assert 200 == self.start_default_network(self.defult_network)
    
            # start VMs
            assert 200 == self.create_vm(vm1_image, host_dev_id_list[0], self.vm1_name, "5900")
            assert 200 == self.create_vm(vm2_image, host_dev_id_list[1], self.vm2_name, "5901")
            # get VM ssh IP
            vm1_ip, status1 = self.get_vm_ip(self.vm1_name)
            vm2_ip, status2 = self.get_vm_ip(self.vm2_name)
    
            # ssh VM1 to set VF
            #ssh VM1 to set VF
            vm1_vf_ip = "192.168.{}.{}".format(self.dhcp_info["ipv4"].split(".")[2],
                                           str(int(self.dhcp_info["ipv4"].split(".")[3]) + 2))
            vm2_vf_ip = "192.168.{}.{}".format(self.dhcp_info["ipv4"].split(".")[2],
                                           str(int(self.dhcp_info["ipv4"].split(".")[3]) + 3))
>           assert 200 == self.on_session_ssh(self.ssh_sut, self.session, vm1_ip),"ssh vm failed,the reason may be is password is error,vm ip isimpassability"
E           AssertionError: ssh vm failed,the reason may be is password is error,vm ip isimpassability
E           assert 200 == 400
E            +  where 400 = <bound method Test_Network_SRIOV_Stress.on_session_ssh of <Tests.testNics.test_network_sriov_stress.Test_Network_SRIOV_Stress object at 0x7f7a100fa4a8>>(<libs.commons.sshInstance.sshInstance object at 0x7f7a109a2940>, <paramiko.Channel 0 (open) window=2096634 -> <paramiko.Transport at 0x100fa1d0 (cipher aes128-ctr, 128 bits) (active; 1 open channel(s))>>, '')
E            +    where <bound method Test_Network_SRIOV_Stress.on_session_ssh of <Tests.testNics.test_network_sriov_stress.Test_Network_SRIOV_Stress object at 0x7f7a100fa4a8>> = <Tests.testNics.test_network_sriov_stress.Test_Network_SRIOV_Stress object at 0x7f7a100fa4a8>.on_session_ssh
E            +    and   <libs.commons.sshInstance.sshInstance object at 0x7f7a109a2940> = <Tests.testNics.test_network_sriov_stress.Test_Network_SRIOV_Stress object at 0x7f7a100fa4a8>.ssh_sut
E            +    and   <paramiko.Channel 0 (open) window=2096634 -> <paramiko.Transport at 0x100fa1d0 (cipher aes128-ctr, 128 bits) (active; 1 open channel(s))>> = <Tests.testNics.test_network_sriov_stress.Test_Network_SRIOV_Stress object at 0x7f7a100fa4a8>.session

../test-nic/npxtester/Tests/testNics/test_network_sriov_stress.py:527: AssertionError
------------------------------ Captured log call -------------------------------
INFO     root:sshInstance.py:44 /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -s | grep ens787f0 | awk '{print $1;}'
INFO     root:sshInstance.py:48 0000:31:00.0
0000:31:01.2
0000:31:01.3

INFO     root:test_network_sriov_stress.py:80 pf_id was found: 0000:31:00.0
0000:31:01.2
0000:31:01.3

INFO     root:test_network_sriov_stress.py:467 format_pf_id is 0000\:31\:00.0
0000:31:01.2
0000:31:01.3

INFO     root:test_network_sriov_stress.py:470 pf_id_key: 31
INFO     root:sshInstance.py:89 Activate the web console with: systemctl enable --now cockpit.socket
This system is not registered to Red Hat Insights. See https://cloud.redhat.com/
To register this system, run: insights-client --register
Last login: Thu Nov 25 12:05:18 2021 from 10.239.129.147
[root@WW30CYP10 ~]# ifconfig ens787f0 192.168.10.11
[root@WW30CYP10 ~]# 
INFO     root:test_network_sriov_stress.py:268 Successfully assigned ip to ethernet: ens787f0
INFO     root:sshInstance.py:44 echo 4 > /sys/class/net/ens787f0/device/sriov_numvfs
INFO     root:sshInstance.py:48 
INFO     root:test_network_sriov_stress.py:95 Successfully Virtualized PF to VFs.
INFO     root:sshInstance.py:44  lspci | grep "Virtual" | awk '{print $1;}'list
INFO     root:sshInstance.py:48 31:01.0
31:01.1
31:01.2
31:01.3

INFO     root:test_network_sriov_stress.py:109 Succssfully Gotten vf_id list:

INFO     root:sshInstance.py:44  modinfo vfio-pci | grep "vfio_pci" | awk '{ print $2;}'
INFO     root:sshInstance.py:48 vfio_pci

INFO     root:test_network_sriov_stress.py:162 Successfuly modeprobe vfio-pci
INFO     root:sshInstance.py:44 /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -b vfio-pci 31:01.0
INFO     root:sshInstance.py:48 
INFO     root:test_network_sriov_stress.py:141 Successfuly bound VF to vfio-pci
INFO     root:sshInstance.py:44 /opt/APP/utility/DPDK_install/dpdk-stable-20.11.1/usertools/dpdk-devbind.py -b vfio-pci 31:01.1
INFO     root:sshInstance.py:48 
INFO     root:test_network_sriov_stress.py:141 Successfuly bound VF to vfio-pci
INFO     root:test_network_sriov_stress.py:493 lspci -Dnn | grep 31:01.1
INFO     root:sshInstance.py:44 lspci -Dnn | grep 31:01.1
INFO     root:sshInstance.py:48 0000:31:01.1 Ethernet controller [0200]: Intel Corporation Ethernet Adaptive Virtual Function [8086:1889] (rev 02)

INFO     root:test_network_sriov_stress.py:504 Successfully get vf device id: 8086:1889
INFO     root:sshInstance.py:44 virsh net-info default | grep "Active" | awk '{print $2;}'
INFO     root:sshInstance.py:48 yes

INFO     root:test_network_sriov_stress.py:170 Default network is active? yes

INFO     root:sshInstance.py:69 virt-install --name VMtest1 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_0 --boot hd --disk path=/home//image/rhel84rt.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=5900  --noautoconsole

** (process:111592): [1;33mWARNING[0m **: [34m12:18:40.834[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
INFO     root:sshInstance.py:69 Domain creation completed.
[root@WW30CYP10 ~]# 
INFO     root:test_network_sriov_stress.py:205 Successfully created a VM: VMtest1
INFO     root:sshInstance.py:69 virt-install --name VMtest2 --ram 4096 --cpu host --vcpus=5 ---network network=default --hostdev pci_0000_31_01_1 --boot hd --disk path=/home//image/rhel84rt2.img,size=50,format=qcow2 --graphics vnc,listen=0.0.0.0,port=59011 --noautoconsole

** (process:111635): [1;33mWARNING[0m **: [34m12:18:50.863[0m: Entity http://pcisig.com/pci/1B36/0100 referenced but not defined
WARNING  No operating system detected, VM performance may suffer. Specify an OS with --os-variant for optimal results.

Starting install...
INFO     root:sshInstance.py:69 Domain creation completed.
[root@WW30CYP10 ~]# 
INFO     root:test_network_sriov_stress.py:205 Successfully created a VM: VMtest2
INFO     root:sshInstance.py:44 virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest1
INFO     root:sshInstance.py:44 virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest1
INFO     root:sshInstance.py:44 virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest1
INFO     root:sshInstance.py:44 virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest1
INFO     root:sshInstance.py:44 virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest1
INFO     root:sshInstance.py:44 virsh domifaddr VMtest1 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest1
INFO     root:sshInstance.py:44 virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest2
INFO     root:sshInstance.py:44 virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest2
INFO     root:sshInstance.py:44 virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest2
INFO     root:sshInstance.py:44 virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest2
INFO     root:sshInstance.py:44 virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest2
INFO     root:sshInstance.py:44 virsh domifaddr VMtest2 | grep '192.168' | awk '{print $4;}'
INFO     root:sshInstance.py:48 
ERROR    root:test_network_sriov_stress.py:221 not found IP of VMtest2
INFO     root:sshInstance.py:69 ping -c 5 
Usage: ping [-aAbBdDfhLnOqrRUvV64] [-c count] [-i interval] [-I interface]
            [-m mark] [-M pmtudisc_option] [-l preload] [-p pattern] [-Q tos]
            [-s packetsize] [-S sndbuf] [-t ttl] [-T timestamp_option]
            [-w deadline] [-W timeout] [hop1 ...] destination
Usage: ping -6 [-aAbBdDfhLnOqrRUvV] [-c count] [-i interval] [-I interface]
             [-l preload] [-m mark] [-M pmtudisc_option]
             [-N nodeinfo_option] [-p pattern] [-Q tclass] [-s packetsize]
             [-S sndbuf] [-t ttl] [-T timestamp_option] [-w deadline]
             [-W timeout] destination
[root@WW30CYP10 ~]#
---------------------------- Captured log teardown -----------------------------
INFO     root:test_network_sriov_stress.py:52 this is the teardown of Test_Network_SRIOV_Stress.
INFO     root:sshInstance.py:44 virsh destroy VMtest2
INFO     root:sshInstance.py:48 Domain VMtest2 destroyed


INFO     root:test_network_sriov_stress.py:247 Successfully shut down the VM: VMtest2
INFO     root:sshInstance.py:44 virsh undefine VMtest2
INFO     root:sshInstance.py:48 Domain VMtest2 has been undefined


INFO     root:test_network_sriov_stress.py:254 Successfully removed the VM: VMtest2
INFO     root:sshInstance.py:44 virsh destroy VMtest1
INFO     root:sshInstance.py:48 Domain VMtest1 destroyed


INFO     root:test_network_sriov_stress.py:247 Successfully shut down the VM: VMtest1
INFO     root:sshInstance.py:44 virsh undefine VMtest1
INFO     root:sshInstance.py:48 Domain VMtest1 has been undefined


INFO     root:test_network_sriov_stress.py:254 Successfully removed the VM: VMtest1
INFO     root:sshInstance.py:39 closing ssh client on SUT
INFO     root:test_network_sriov_stress.py:57 =============================================Finished run the test case===============================================
=========================== short test summary info ============================
FAILED ../test-nic/npxtester/Tests/testNics/test_network_sriov_stress.py::Test_Network_SRIOV_Stress::test_PI_Networking_SRIOV_StressDisableEnableFor5TimesWhenVFIsAssigned_VM_Guest[ubuntu20.04.img-rhel84rt.img]
FAILED ../test-nic/npxtester/Tests/testNics/test_network_sriov_stress.py::Test_Network_SRIOV_Stress::test_PI_Networking_SRIOV_StressDisableEnableFor5TimesWhenVFIsAssigned_VM_Guest[rhel84rt.img-rhel84rt2.img]
FAILED ../test-nic/npxtester/Tests/testNics/test_network_sriov_stress.py::Test_Network_SRIOV_Stress::test_PI_Networking_SRIOV_StressTrafficBetweenPFVFAndTestClientFor2Hours_VM_Guest[ubuntu20.04.img-rhel84rt.img]
FAILED ../test-nic/npxtester/Tests/testNics/test_network_sriov_stress.py::Test_Network_SRIOV_Stress::test_PI_Networking_SRIOV_StressTrafficBetweenPFVFAndTestClientFor2Hours_VM_Guest[rhel84rt.img-rhel84rt2.img]
============ 4 failed, 2 passed, 1 deselected in 7296.42s (2:01:36) ============
[8mha:////4LYnTL2kHEK3xk4r0Ko1+Seo0jzleqkNHqW+48vbd8D5AAAApR+LCAAAAAAAAP9tjTEOwjAQBC9BFLSUPOIiGoSEqNJabniBiY1xYt0Z2yGpeBFf4w8EIlGxxWpnm3m+YJkiHDlabA11jlLjMPjeTgsHjt3F84Atn7FhSuwNSjNI1qaeUXI2MKcoYSFgZajxnBzZDGvRqruqvCJbnXKcvoOA0ukbPKAQkzmrmL8wRthce52Yfp6/AhhDyFBu95/avQHhgNoTvgAAAA==[0m[Pipeline] }
[8mha:////4NMYSizRLQ1dZuwWSEHzgQ6w9lPsBbHRCtMg5H1rEwslAAAApR+LCAAAAAAAAP9tjTEOwjAQBC9BFLSUPOIiCgqEqNJabniBiY1xYt0Z2yGpeBFf4w8EIlGxxWpnm3m+YJkiHDlabA11jlLjMPjeTgsHjt3F84Atn7FhSuwNSjNI1qaeUXI2MKcoYSFgZajxnBzZDGvRqruqvCJbnXKcvoOA0ukbPKAQkzmrmL8wRthce52Yfp6/AhhDyFBu95/avQH+Ao9BvgAAAA==[0m[Pipeline] // stage
[8mha:////4DKXsabp5/afXFSsWLUBDHMQEXD3jgAzV8WEfOF26pEaAAAAox+LCAAAAAAAAP9tjTEOwjAQBDdBFLSUPMJBiA5R0VppeIFJjHFi3QX7QlLxIr7GH4iIRMVWO9PM641lijhydKqx1HpKlVdd6N301MCxvQYeVMMXVTElDlaVdii5tqcZSxaLeVmOhcbKUhU4eXKCtW7MwxTBkCvOEid30Mh9fccTmZ7KYqJ8YYzY3Po6Mf06fwMYu06Q77aCbP8BK1nRVL0AAAA=[0m[Pipeline] }
[8mha:////4HmorPDDfMRqsF6zz9/2vCOvXnWMSW4cx9qE6GTxL9MFAAAAoh+LCAAAAAAAAP9tjTEOwjAQBDdBFLSUPMIRUCIqWisNLzCJMU6su2BfSCpexNf4AxGRqNhqZ5p5vbFMEUeOTjWWWk+p8qoLvZueGji218CDaviiKqbEwarSDiXX9jRjyWIxL8ux0FhZqgInT06w1o15mCIYcsVZ4uQOGrmv73gi01NZTJQvjBGbW18npl/nbwBj1wny3VaQ7T845dX3vQAAAA==[0m[Pipeline] // node
[8mha:////4BE+fprF9eommgtvg+AAT8POwnI+05QgEWtQ8SEssetUAAAAoh+LCAAAAAAAAP9tjbEOgjAURS8YB1dHP6IkrMbJtWHxCyrUWmjeg/YhTH6Rv+Y/SCRx8k73nOW83timiBNHp1pLnadUe9WH0S1PTRy7W+BJtXxVNVPiYFVlp4obe16xYrFYl+XYaOws1YGTJyfY69Y8TBEMueIicXFHjdw3A57I9FIWE+ULc8ThPjaJ6df5G8Dc94K8LAVZ+QF+r3LHvQAAAA==[0m[Pipeline] End of Pipeline
ERROR: script returned exit code 1
Finished: FAILURE
